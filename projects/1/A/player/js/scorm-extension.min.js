(self.webpackChunk=self.webpackChunk||[]).push([[2714],{39922:(e,t)=>{"use strict";t.SCORM_WRAPPER_INIT="SCORM_WRAPPER_INIT",t.SCORM_WRAPPER_CHANGE="SCORM_WRAPPER_CHANGE",t.SCORM_DESERIALISE="SCORM_DESERIALISE",t.SCORM_ERROR="SCORM_ERROR",t.SCORM_FINISH="SCORM_FINISH",t.scormWrapperInit=()=>({type:t.SCORM_WRAPPER_INIT}),t.scormWrapperChange=e=>({type:t.SCORM_WRAPPER_CHANGE,payload:e}),t.scormDeserialise=()=>({type:t.SCORM_DESERIALISE}),t.scormError=e=>({type:t.SCORM_ERROR,payload:e}),t.scormFinish=e=>({type:t.SCORM_FINISH,payload:e})},3503:(e,t,s)=>{"use strict";const i=s(63919),n=s(64925),o=s(99729),r=s(8921),a=s(14831),c=s(48159),{Observable:l}=s(49923),{SETUP_DATA:d,setDataReadyState:u,setLearner:h}=s(36329),{TRACKABLE_CHANGE:m}=s(18403),{WINDOW_BEFORE_UNLOAD:p,WINDOW_UNLOAD:f}=s(44587),{COMPONENT_COMPLETED:_,SUBMIT_QUESTION:g}=s(59345),{setTracking:C,getTrackingImmediately:S}=s(86688),R=s(30619),I=s(70825),O=s(72609),E=s(19735).getInstance(),{SCORM_WRAPPER_INIT:M,SCORM_DESERIALISE:v,SCORM_ERROR:w,SCORM_FINISH:b,scormWrapperInit:T,scormWrapperChange:y,scormDeserialise:A,scormError:k}=s(39922),P=s(52204);function L(e,t){return e?.length&&t?r(e).filter(t).map((e=>`${e.itemIndex+1}:${e.text||e._graphic?.alt}`)).value():(console.error("extractMultichoiceResponsesFromItems: No items or filterBy args provided"),[])}t.scormDataReadyEpic=(e,t)=>e.filter((e=>e.type===d&&t.getState().scorm?._isEnabled)).mergeMap((()=>l.concat(l.of(u("scorm",!1)),l.of(T()),l.of(A()),l.of(u("scorm",!0))))),t.scormWrapperInitEpic=(e,t)=>e.ofType(M).map((()=>{const{scorm:e}=t.getState(),s=o(e,"_useAdvancedTracking",!1);let n={};if(E.suppressErrors=!0!==e._shouldShowScormErrors,E.version="2004_3rd"===e._scormVersion?"2004":e._scormVersion,E.initialize(),E.isConnected){const e=E.suspendData;e&&(s?(n=i.decompress(e,{inputEncoding:"Base64"}),n=JSON.parse(n)):s||o(n,"completion",!1)?!s&&o(n,"completion",!1)&&(n={_isComplete:n._isCourseComplete,_isPassed:n._isAssessmentPassed,_assessmentAttemptsTaken:n._assessmentAT,_state:n.completion,_lastCompletedComponentId:n._lastCompletedComponentId}):n=JSON.parse(e.replace(/'/g,'"')))}return y({suspendData:n})})),t.scormDeserialiseEpic=(e,t)=>e.filter((e=>{const s=t.getState();if(e.type!==v)return!1;const{scorm:i}=s;return i?._isEnabled&&E.isConnected})).mergeMap((()=>{const e=t.getState(),{scorm:s}=e,i=[];if(o(s,"suspendData._state",!1)){const t=o(s,"_useAdvancedTracking",!1);let i={};i=a({},s.suspendData,t?{_state:I(s.suspendData._state,e,!0)}:{_state:{_components:I(s.suspendData._state,e,!1)}}),C(i,!0)}const n=E.studentName;if(n?.length){const{firstName:e,lastName:t}=O(n);i.push(h({_id:`${e} ${t}`,firstName:e,lastName:t}))}return i.length?l.of(...i):l.empty()})),t.scormTrackerChangeEpic=(e,t)=>e.filter((e=>{const s=t.getState();return!(!s.app.isDataReady||!s.app.hasAppStarted||e.type!==_&&e.type!==m)&&s.scorm?._isEnabled&&E.isConnected})).delay(100).map((e=>{const{scorm:s}=t.getState(),n=S(),{_status:r,_score:l,_state:d}=n;let u=o(s,"suspendData._lastCompletedComponentId","");const h=o(s,"_useAdvancedTracking",!1),m=o(s,"_shouldSendScore",!0),p=R(d,h);e.type===_&&(u=e.payload.componentId);const f=c(a({},n,{_state:p,_lastCompletedComponentId:u}),["_id","_createdAt","_updatedAt","_hasStarted"]);let g=JSON.stringify(f);h&&(g=i.compress(g,{outputEncoding:"Base64"}));try{E.suspendData=g,console.log(`SCORM suspend data size: ${new Blob([g]).size} bytes`),m&&(E.score=l),["complete","passed"].includes(r)?E.status=s._reporting._onTrackingCriteriaMet:"failed"===r?E.status=s._reporting._onAssessmentFailure:E.setIncomplete()}catch(e){return console.error(e),k(e)}return y({suspendData:f})})),t.scormRecordInteractionEpic=(e,t)=>e.filter((e=>{if(e.type===g&&["mcq","gmcq"].includes(e.component._component)){const{scorm:e}=t.getState();return e?._isEnabled&&E.isConnected&&E.isSCORM2004&&!1===e._disableInteractionTracking}return!1})).mergeMap((e=>{const{components:s,course:i}=t.getState(),o=function(e,t){const s=e._questionBankId&&t?._isEnabled,i=new P;i.id=e._id+(s?`/${e._bankComponentId}`:""),i.type="choice",i.isCorrect=e._isCorrect,i.learnerResponses=L(e._items,"_isSelected"),i.correctResponses=L(e._items,"_shouldBeSelected");let o=`${e.title}: ${e.body||e.displayTitle}`;if(s){const s=n(t._banks,{_id:e._questionBankId});s&&(o=`${s.title}: ${o}`)}return i.description=o,i}(s[e.payload.componentId],i._questionBanks);try{E.recordInteraction(o)}catch(e){return console.error(e),k(e)}return l.empty()})),t.scormFinishEpic=(e,t)=>e.filter((e=>{const s=t.getState();return!![f,p,b].includes(e.type)&&s.scorm?._isEnabled&&E.isConnected})).mergeMap((()=>{const{scorm:e}=t.getState(),s=S(),{_state:n}=s,r=o(e,"suspendData._lastCompletedComponentId",""),d=o(e,"_useAdvancedTracking",!1),u=o(e,"_cmiExitState","auto"),h=R(n,d),m=c(a({},s,{_state:h,_lastCompletedComponentId:r}),["_id","_createdAt","_updatedAt","_hasStarted"]);let p=JSON.stringify(m);d&&(p=i.compress(p,{outputEncoding:"Base64"}));try{E.suspendData=p,E.finish(u)}catch(e){return console.error(e),k(e)}return l.empty()})),t.scormErrorEpic=e=>e.ofType(w).do((()=>{window.alert("There has been an error saving your progress to the LMS.")})).ignoreElements()},70825:(e,t,s)=>{"use strict";const i=s(8921),n=s(2492);e.exports=(e,t,s)=>{const{components:o,blocks:r,articles:a,contentObjects:c,logic:l}=t;if(s){const t={};return t._components=i(o).keys().map(((t,s)=>{const i=e._components[s];return i?{_id:t,_isHidden:1===i[0],_isComplete:1===i[1],_isCorrect:1===i[2]}:{_id:t}})).keyBy("_id").value(),t._blocks=i(r).keys().map(((t,s)=>{const i=e._blocks[s];return i?{_id:t,_isHidden:1===i[0]}:{_id:t}})).keyBy("_id").value(),t._articles=i(a).keys().map(((t,s)=>{const i=e._articles[s];return i?{_id:t,_isHidden:1===i[0]}:{_id:t}})).keyBy("_id").value(),t._contentObjects=i(c).keys().map(((t,s)=>{const i=e._contentObjects[s];return i?{_id:t,_isHidden:1===i[0],_hasBeenViewed:1===i[1]}:{_id:t}})).keyBy("_id").value(),t._variables=i(l.variables).keys().map(((t,s)=>{const i=e._variables[s];return i?{_id:t,_value:i[0]}:{_id:t}})).keyBy("_id").value(),e._triggers?t._triggers=i(l.triggers.byRefId).keys().map(((t,s)=>{const i=l.triggers.byRefId[t],n=e._triggers[s];return n?{_id:i._id,_isEnabled:1===n[0]}:{_id:i._id}})).keyBy("_id").value():t._triggers={},t}return function(e,t){const s=e.split("");return i(t).keys().map(((e,t)=>{const i={_id:e,_isComplete:!1,_isCorrect:!1};switch(s[t]){case n.NOT_COMPLETE:break;case n.COMPLETE:i._isComplete=!0;break;case n.COMPLETE_NOT_CORRECT:i._isComplete=!0,i._isCorrect=!1;break;case n.COMPLETE_CORRECT:default:i._isComplete=!0,i._isCorrect=!0}return i})).keyBy("_id").value()}(e,o)}},72609:e=>{"use strict";e.exports=function(e=""){const t=e.includes(","),s=e.split(t?",":" ");if(t){const[e,t]=s.reverse().map((e=>e.trim()));return{firstName:e,lastName:t}}const[i,...n]=s;return{firstName:i,lastName:n.join(" ")}}},2492:e=>{"use strict";e.exports={NOT_COMPLETE:"0",COMPLETE:"1",COMPLETE_NOT_CORRECT:"2",COMPLETE_CORRECT:"3"}},51320:e=>{"use strict";e.exports={msToSCORM12Time:function(e){if(!Number.isFinite(e)||e<0)return console.error(`Invalid session time of ${e} passed to convertToSCORM12Time`),"0000:00:00.00";const t=1e3,s=(e/t%1).toFixed(2).split(".")[1];let i=(e-=e%t)%6e4;e-=i,i/=t;const n=36e5;let o=e%n;e-=o,o/=6e4;const r=e/n;return r>9999?"9999:99:99.99":`${[`${r}`.padStart(4,"0"),`${o}`.padStart(2,"0"),`${i}`.padStart(2,"0")].join(":")}.${s}`},msToSCORM2004Time:function(e){if(!Number.isFinite(e)||e<0)return console.error(`Invalid session time of ${e} passed to convertToSCORM2004Time`),"PT0S";const t=36e4,s=864e4;let i=e/10,n=Math.floor(i/s);i-=n*s,n=n?`${n}D`:"";let o=Math.floor(i/t);i-=o*t,o=o?`${o}H`:"";let r=Math.floor(i/6e3);i-=6e3*r,r=r?`${r}M`:"";let a=Math.floor(i/100);a=a||"0";let c=(e/1e3%1).toFixed(2).split(".")[1];return c=c>0?`.${c}`:"",`P${n}T${o+r+a+c}S`}}},30619:(e,t,s)=>{"use strict";const i=s(55807),n=s(14831),o=s(72856),r=s(2492);e.exports=(e,t)=>{if(t){const t={};return t._components=i(e._components,(e=>[e._isHidden?1:0,e._isComplete?1:0,e._isCorrect?1:0])),t._blocks=i(e._blocks,(e=>[e._isHidden?1:0])),t._articles=i(e._articles,(e=>[e._isHidden?1:0])),t._contentObjects=i(e._contentObjects,(e=>[e._isHidden?1:0,e._hasBeenViewed?1:0])),t._variables=i(e._variables,(e=>[e._value])),t._triggers=i(e._triggers,(e=>[!1===e._isEnabled?0:1])),n({},e,t)}return function(e){let t="";return o(e,(e=>{let s=r.NOT_COMPLETE;const i="question"===e._interactionType;e._isComplete?e._isComplete&&!i?s=r.COMPLETE:e._isComplete&&i&&!e._isCorrect?s=r.COMPLETE_NOT_CORRECT:e._isComplete&&i&&e._isCorrect&&(s=r.COMPLETE_CORRECT):s=r.NOT_COMPLETE,t+=s})),t}(e._components)}},10643:(e,t)=>{"use strict";var s,i;void 0===(i="function"==typeof(s=function(){var e={UTILS:{},debug:{isActive:!0},SCORM:{version:null,handleCompletionStatus:!0,handleExitMode:!0,API:{handle:null,isFound:!1},connection:{isActive:!1},data:{completionStatus:null,exitStatus:null},debug:{}}};return e.SCORM.isAvailable=function(){return!0},e.SCORM.API.find=function(t){for(var s=null,i=0,n="SCORM.API.find",o=e.UTILS.trace,r=e.SCORM;!t.API&&!t.API_1484_11&&t.parent&&t.parent!=t&&i<=500;)i++,t=t.parent;if(r.version)switch(r.version){case"2004":t.API_1484_11?s=t.API_1484_11:o(n+": SCORM version 2004 was specified by user, but API_1484_11 cannot be found.");break;case"1.2":t.API?s=t.API:o(n+": SCORM version 1.2 was specified by user, but API cannot be found.")}else t.API_1484_11?(r.version="2004",s=t.API_1484_11):t.API&&(r.version="1.2",s=t.API);return s?(o(n+": API found. Version: "+r.version),o("API: "+s)):o(n+": Error finding API. \nFind attempts: "+i+". \nFind attempt limit: 500"),s},e.SCORM.API.get=function(){var t=null,s=window,i=e.SCORM,n=i.API.find,o=e.UTILS.trace;return!(t=n(s))&&s.parent&&s.parent!=s&&(t=n(s.parent)),!t&&s.top&&s.top.opener&&(t=n(s.top.opener)),!t&&s.top&&s.top.opener&&s.top.opener.document&&(t=n(s.top.opener.document)),t?i.API.isFound=!0:o("API.get failed: Can't find the API!"),t},e.SCORM.API.getHandle=function(){var t=e.SCORM.API;return t.handle||t.isFound||(t.handle=t.get()),t.handle},e.SCORM.connection.initialize=function(){var t=!1,s=e.SCORM,i=s.data.completionStatus,n=e.UTILS.trace,o=e.UTILS.StringToBoolean,r=s.debug,a="SCORM.connection.initialize ";if(n("connection.initialize called."),s.connection.isActive)n(a+"aborted: Connection already active.");else{var c=s.API.getHandle(),l=0;if(c){switch(s.version){case"1.2":t=o(c.LMSInitialize(""));break;case"2004":t=o(c.Initialize(""))}if(t)if(null!==(l=r.getCode())&&0===l){if(s.connection.isActive=!0,s.handleCompletionStatus&&(i=s.status("get"))){switch(i){case"not attempted":case"unknown":s.status("set","incomplete")}s.save()}}else t=!1,n(a+"failed. \nError code: "+l+" \nError info: "+r.getInfo(l));else n(null!==(l=r.getCode())&&0!==l?a+"failed. \nError code: "+l+" \nError info: "+r.getInfo(l):a+"failed: No response from server.")}else n(a+"failed: API is null.")}return t},e.SCORM.connection.terminate=function(){var t=!1,s=e.SCORM,i=s.data.exitStatus,n=s.data.completionStatus,o=e.UTILS.trace,r=e.UTILS.StringToBoolean,a=s.debug,c="SCORM.connection.terminate ";if(s.connection.isActive){var l=s.API.getHandle(),d=0;if(l){if(s.handleExitMode&&!i)if("completed"!==n&&"passed"!==n)switch(s.version){case"1.2":t=s.set("cmi.core.exit","suspend");break;case"2004":t=s.set("cmi.exit","suspend")}else switch(s.version){case"1.2":t=s.set("cmi.core.exit","logout");break;case"2004":t=s.set("cmi.exit","normal")}if(t="1.2"!==s.version||s.save()){switch(s.version){case"1.2":t=r(l.LMSFinish(""));break;case"2004":t=r(l.Terminate(""))}t?s.connection.isActive=!1:o(c+"failed. \nError code: "+(d=a.getCode())+" \nError info: "+a.getInfo(d))}}else o(c+"failed: API is null.")}else o(c+"aborted: Connection already terminated.");return t},e.SCORM.data.get=function(t){var s=null,i=e.SCORM,n=e.UTILS.trace,o=i.debug,r="SCORM.data.get('"+t+"') ";if(i.connection.isActive){var a=i.API.getHandle(),c=0;if(a){switch(i.version){case"1.2":s=a.LMSGetValue(t);break;case"2004":s=a.GetValue(t)}if(c=o.getCode(),""!==s||0===c)switch(t){case"cmi.core.lesson_status":case"cmi.completion_status":i.data.completionStatus=s;break;case"cmi.core.exit":case"cmi.exit":i.data.exitStatus=s}else n(r+"failed. \nError code: "+c+"\nError info: "+o.getInfo(c))}else n(r+"failed: API is null.")}else n(r+"failed: API connection is inactive.");return n(r+" value: "+s),String(s)},e.SCORM.data.set=function(t,s){var i=!1,n=e.SCORM,o=e.UTILS.trace,r=e.UTILS.StringToBoolean,a=n.debug,c="SCORM.data.set('"+t+"') ";if(n.connection.isActive){var l=n.API.getHandle(),d=0;if(l){switch(n.version){case"1.2":i=r(l.LMSSetValue(t,s));break;case"2004":i=r(l.SetValue(t,s))}i?"cmi.core.lesson_status"!==t&&"cmi.completion_status"!==t||(n.data.completionStatus=s):o(c+"failed. \nError code: "+(d=a.getCode())+". \nError info: "+a.getInfo(d))}else o(c+"failed: API is null.")}else o(c+"failed: API connection is inactive.");return o(c+" value: "+s),i},e.SCORM.data.save=function(){var t=!1,s=e.SCORM,i=e.UTILS.trace,n=e.UTILS.StringToBoolean,o="SCORM.data.save failed";if(s.connection.isActive){var r=s.API.getHandle();if(r)switch(s.version){case"1.2":t=n(r.LMSCommit(""));break;case"2004":t=n(r.Commit(""))}else i(o+": API is null.")}else i(o+": API connection is inactive.");return t},e.SCORM.status=function(t,s){var i=!1,n=e.SCORM,o=e.UTILS.trace,r="SCORM.getStatus failed",a="";if(null!==t){switch(n.version){case"1.2":a="cmi.core.lesson_status";break;case"2004":a="cmi.completion_status"}switch(t){case"get":i=n.data.get(a);break;case"set":null!==s?i=n.data.set(a,s):(i=!1,o(r+": status was not specified."));break;default:i=!1,o(r+": no valid action was specified.")}}else o(r+": action was not specified.");return i},e.SCORM.debug.getCode=function(){var t=e.SCORM,s=t.API.getHandle(),i=e.UTILS.trace,n=0;if(s)switch(t.version){case"1.2":n=parseInt(s.LMSGetLastError(),10);break;case"2004":n=parseInt(s.GetLastError(),10)}else i("SCORM.debug.getCode failed: API is null.");return n},e.SCORM.debug.getInfo=function(t){var s=e.SCORM,i=s.API.getHandle(),n=e.UTILS.trace,o="";if(i)switch(s.version){case"1.2":o=i.LMSGetErrorString(t.toString());break;case"2004":o=i.GetErrorString(t.toString())}else n("SCORM.debug.getInfo failed: API is null.");return String(o)},e.SCORM.debug.getDiagnosticInfo=function(t){var s=e.SCORM,i=s.API.getHandle(),n=e.UTILS.trace,o="";if(i)switch(s.version){case"1.2":o=i.LMSGetDiagnostic(t);break;case"2004":o=i.GetDiagnostic(t)}else n("SCORM.debug.getDiagnosticInfo failed: API is null.");return String(o)},e.SCORM.init=e.SCORM.connection.initialize,e.SCORM.get=e.SCORM.data.get,e.SCORM.set=e.SCORM.data.set,e.SCORM.save=e.SCORM.data.save,e.SCORM.quit=e.SCORM.connection.terminate,e.UTILS.StringToBoolean=function(e){switch(typeof e){case"object":case"string":return/(true|1)/i.test(e);case"number":return!!e;case"boolean":return e;case"undefined":return null;default:return!1}},e.UTILS.trace=function(t){e.debug.isActive&&window.console&&window.console.log&&window.console.log(t)},e})?s.apply(t,[]):s)||(e.exports=i)},52204:(e,t,s)=>{"use strict";var i=s(7914),n=i(s(30934)),o=i(s(19928));function r(e,t){c(e,t),t.add(e)}function a(e,t,s){c(e,t),t.set(e,s)}function c(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function l(e,t,s){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return s}const d=s(26092),u=s(50862),h=["choice"];var m=new WeakMap,p=new WeakMap,f=new WeakMap,_=new WeakMap,g=new WeakMap,C=new WeakMap,S=new WeakMap,R=new WeakSet,I=new WeakSet;function O(){return void 0===(0,n.default)(this,C)?"neutral":(0,n.default)(this,C)?"correct":"incorrect"}function E(e){return"choice"!==(0,n.default)(this,p)&&console.info("Only the 'choice' interaction type is currently supported"),e.map((e=>{e=u(e);const t=encodeURIComponent(e);return d(t,{length:250})})).join("[,]")}e.exports=class{constructor(e){r(this,I),r(this,R),a(this,m,{writable:!0,value:void 0}),a(this,p,{writable:!0,value:void 0}),a(this,f,{writable:!0,value:void 0}),a(this,_,{writable:!0,value:void 0}),a(this,g,{writable:!0,value:void 0}),a(this,C,{writable:!0,value:void 0}),a(this,S,{writable:!0,value:void 0});const t=e?new Date(e):new Date;(0,o.default)(this,S,t.toISOString())}set id(e){(0,o.default)(this,m,e)}set type(e=""){e=e.toLowerCase(),h.includes(e)?(0,o.default)(this,p,e):console.error(`Invalid interaction type: ${e}`)}set description(e){(0,o.default)(this,f,e)}set learnerResponses(e){(0,o.default)(this,_,e)}set correctResponses(e){(0,o.default)(this,g,e)}set isCorrect(e){(0,o.default)(this,C,e)}get data(){if(!(0,n.default)(this,m)||!(0,n.default)(this,p)||!(0,n.default)(this,_))return null;const e=new Map;return e.set("id",(0,n.default)(this,m)),e.set("type",(0,n.default)(this,p)),e.set("description",u((0,n.default)(this,f),250)),e.set("result",l(this,R,O).call(this)),e.set("learner_response",l(this,I,E).call(this,(0,n.default)(this,_))),(0,n.default)(this,g)&&e.set("correct_responses.0.pattern",l(this,I,E).call(this,(0,n.default)(this,g))),e.set("timestamp",(0,n.default)(this,S).replace(/.\d\d\dZ/,".00Z")),e}toString(){return`id: ${(0,n.default)(this,m)}; type: ${(0,n.default)(this,p)}, description: ${(0,n.default)(this,f)}; learnerResponses: ${(0,n.default)(this,_)}; correctResponses: ${(0,n.default)(this,g)}; isCorrect: ${(0,n.default)(this,C)}; timestamp: ${(0,n.default)(this,S)}`}}},96526:e=>{"use strict";class t{constructor(){this._log=[],this._views=[]}static getInstance(){return null===t.instance&&(t.instance=new t),t.instance}getEntries(){return this._log}getLastEntry(){return this._log.at(-1)}info(e){this._log.push({str:e,type:t.LOG_TYPE_INFO,time:Date.now()}),this.updateViews()}warn(e){this._log.push({str:e,type:t.LOG_TYPE_WARN,time:Date.now()}),this.updateViews()}error(e){this._log.push({str:e,type:t.LOG_TYPE_ERROR,time:Date.now()}),this.updateViews()}debug(e){this._log.push({str:e,type:t.LOG_TYPE_DEBUG,time:Date.now()}),this.updateViews()}registerView(e){this._views.push(e)}unregisterView(e){const t=this._views.indexOf(e);-1!==t&&this._views.splice(t,1)}updateViews(){this._views.forEach((e=>e.update(this)))}}t.instance=null,t.LOG_TYPE_INFO=0,t.LOG_TYPE_WARN=1,t.LOG_TYPE_ERROR=2,t.LOG_TYPE_DEBUG=3,window.Logger=t,e.exports=t},19735:(e,t,s)=>{"use strict";var i=s(7914),n=i(s(65526)),o=i(s(30934)),r=i(s(19928));function a(e,t){l(e,t),t.add(e)}function c(e,t,s){l(e,t),t.set(e,s)}function l(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function d(e,t,s){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return s}const u=s(96526),h=s(10643),{msToSCORM12Time:m,msToSCORM2004Time:p}=s(51320),f="Course is not connected to the LMS";var _=new WeakMap,g=new WeakMap,C=new WeakMap,S=new WeakMap,R=new WeakMap,I=new WeakMap,O=new WeakMap,E=new WeakMap,M=new WeakMap,v=new WeakMap,w=new WeakSet,b=new WeakSet,T=new WeakSet,y=new WeakSet,A=new WeakSet,k=new WeakSet,P=new WeakSet,L=new WeakSet;class ${constructor(){a(this,L),a(this,P),a(this,k),a(this,A),a(this,y),a(this,T),a(this,b),a(this,w),(0,n.default)(this,"suppressErrors",!1),(0,n.default)(this,"timedCommitFrequency",5),c(this,_,{writable:!0,value:!1}),c(this,g,{writable:!0,value:null}),c(this,C,{writable:!0,value:5}),c(this,S,{writable:!0,value:1e3}),c(this,R,{writable:!0,value:!1}),c(this,I,{writable:!0,value:0}),c(this,O,{writable:!0,value:null}),c(this,E,{writable:!0,value:null}),c(this,M,{writable:!0,value:null}),c(this,v,{writable:!0,value:!1}),this.logger=u?.getInstance(),this.scorm=h.SCORM}static getInstance(){return null===$.instance&&($.instance=new $),$.instance}get version(){return this.scorm.version}set version(e){this.scorm.version=e}get isSCORM2004(){return"2004"===this.scorm.version}initialize(){return(0,r.default)(this,_,this.scorm.init()),(0,o.default)(this,_)?((0,r.default)(this,g,new Date),d(this,A,F).call(this)):d(this,P,B).call(this,"Course could not connect to the LMS"),(0,o.default)(this,_)}get isConnected(){return(0,o.default)(this,_)&&!(0,o.default)(this,v)}get isFirstSession(){return"ab-initio"===d(this,w,D).call(this,this.isSCORM2004?"cmi.entry":"cmi.core.entry")}setIncomplete(){d(this,b,N).call(this,this.isSCORM2004?"cmi.completion_status":"cmi.core.lesson_status","incomplete"),this.commit()}setCompleted(){d(this,b,N).call(this,this.isSCORM2004?"cmi.completion_status":"cmi.core.lesson_status","completed"),this.commit()}setPassed(){this.isSCORM2004?(d(this,b,N).call(this,"cmi.completion_status","completed"),d(this,b,N).call(this,"cmi.success_status","passed")):d(this,b,N).call(this,"cmi.core.lesson_status","passed"),this.commit()}setFailed(){this.isSCORM2004?(d(this,b,N).call(this,"cmi.success_status","failed"),d(this,b,N).call(this,"cmi.completion_status","completed")):d(this,b,N).call(this,"cmi.core.lesson_status","failed"),this.commit()}get status(){const e=d(this,w,D).call(this,this.isSCORM2004?"cmi.completion_status":"cmi.core.lesson_status");switch(e.toLowerCase()){case"passed":case"completed":case"incomplete":case"failed":case"browsed":case"not attempted":case"not_attempted":case"unknown":return e;default:return d(this,P,B).call(this,`getStatus: invalid lesson status '${e}' received from LMS`),null}}set status(e){switch(e.toLowerCase()){case"incomplete":this.setIncomplete();break;case"completed":this.setCompleted();break;case"passed":this.setPassed();break;case"failed":this.setFailed();break;default:d(this,P,B).call(this,`setStatus: the status '${e}' is not supported.`)}}get score(){return d(this,w,D).call(this,this.isSCORM2004?"cmi.score.raw":"cmi.core.score.raw")}set score(e){if(this.isSCORM2004)return d(this,b,N).call(this,"cmi.score.raw",e),d(this,b,N).call(this,"cmi.score.min",0),d(this,b,N).call(this,"cmi.score.max",100),void d(this,b,N).call(this,"cmi.score.scaled",e/100);d(this,b,N).call(this,"cmi.core.score.raw",e),d(this,T,W).call(this,"cmi.core.score.min",0),d(this,T,W).call(this,"cmi.core.score.max",100)}get lessonLocation(){return d(this,w,D).call(this,this.isSCORM2004?"cmi.location":"cmi.core.lesson_location")}set lessonLocation(e){d(this,b,N).call(this,this.isSCORM2004?"cmi.location":"cmi.core.lesson_location",e)}get suspendData(){return d(this,w,D).call(this,"cmi.suspend_data")}set suspendData(e){d(this,b,N).call(this,"cmi.suspend_data",e)}get studentName(){return d(this,w,D).call(this,this.isSCORM2004?"cmi.learner_name":"cmi.core.student_name")}recordInteraction(e){if(!this.isSCORM2004)return;this.logger.debug("recordInteraction");const{data:t}=e;if(!t)return void this.logger.error("recordInteraction: interaction data is incomplete");const s=d(this,w,D).call(this,"cmi.interactions._count")||0;t.forEach(((e,t)=>d(this,b,N).call(this,`cmi.interactions.${s}.${t}`,e)))}commit(){if(this.logger.debug("commit"),!this.isConnected)return void d(this,P,B).call(this,f);if((0,o.default)(this,R))return void this.logger.debug("commit: skipping this commit call as one is already pending.");if(this.scorm.save())return void(0,r.default)(this,I,0);var e;if((0,o.default)(this,I)<(0,o.default)(this,C)&&!(0,o.default)(this,v))return(0,r.default)(this,I,(e=(0,o.default)(this,I),++e)),void d(this,k,U).call(this);const t=this.scorm.debug.getCode();let s="Course could not commit data to the LMS";s+=`\nError ${t}: ${this.scorm.debug.getInfo(t)}`,s+=`\nLMS Error Info: ${this.scorm.debug.getDiagnosticInfo(t)}`,d(this,P,B).call(this,s)}finish(e="auto"){if(this.logger.debug("finish"),!this.isConnected)return void d(this,P,B).call(this,f);(0,r.default)(this,v,!0),null!==(0,o.default)(this,O)&&window.clearInterval((0,o.default)(this,O)),(0,o.default)(this,R)&&(window.clearTimeout((0,o.default)(this,E)),(0,r.default)(this,R,!1)),(0,o.default)(this,M)&&!(0,o.default)(this,M).closed&&(0,o.default)(this,M).close();const t=(new Date).getTime()-(0,o.default)(this,g).getTime();"auto"!==e&&(this.scorm.handleExitMode=!1),this.isSCORM2004?(this.scorm.set("cmi.session_time",p(t)),"auto"!==e&&this.scorm.set("cmi.exit",e)):(this.scorm.set("cmi.core.session_time",m(t)),"auto"!==e&&this.scorm.set("cmi.core.exit",e)),(0,r.default)(this,_,!1),this.scorm.quit()||d(this,P,B).call(this,"Course could not finish")}}function D(e){if((0,o.default)(this,v))return;if(this.logger.debug(`getValue ${e}`),!this.isConnected)return void d(this,P,B).call(this,f);const t=this.scorm.get(e),s=this.scorm.debug.getCode();switch(s){case 0:break;case 403:this.logger.warn("getValue: data model element not initialized");break;default:{const t=this.scorm.debug.getInfo(s),i=this.scorm.debug.getDiagnosticInfo(s);d(this,P,B).call(this,`Course could not get ${e}\n\n                    Error Info: ${t}\n                    ${i?`\nAdditional LMS Error Info: ${i}`:""}`)}}return this.logger.debug(`getValue: returning ${t}`),`${t}`}function N(e,t){if((0,o.default)(this,v))return;if(this.logger.debug(`setValue: ${e}=${t}`),!(0,o.default)(this,_))return void d(this,P,B).call(this,f);const s=this.scorm.set(e,t),i=this.scorm.debug.getCode();if(!s&&0!==i){const s=this.scorm.debug.getInfo(i),n=this.scorm.debug.getDiagnosticInfo(i);d(this,P,B).call(this,`Course could not set ${e} to ${t}\n\n                Error Info: ${s}\n                ${n?`\nAdditional LMS Error Info: ${n}`:""}`)}return s}function W(e,t){d(this,y,x).call(this,e)&&d(this,b,N).call(this,e,t)}function x(e){if(!(0,o.default)(this,v))return(0,o.default)(this,_)?(this.scorm.get(e),401!==this.scorm.debug.getCode()):(d(this,P,B).call(this,f),!1)}function F(){if(this.logger.debug("initTimedCommit"),this.timedCommitFrequency>0){const e=6e4*this.timedCommitFrequency;(0,r.default)(this,O,window.setInterval(this.commit.bind(this),e))}}function U(){this.logger.debug("initRetryCommit"),(0,r.default)(this,R,!0),(0,r.default)(this,E,window.setTimeout((()=>{this.logger.debug("doRetryCommit"),(0,r.default)(this,R,!1),this.commit()}),(0,o.default)(this,S)))}function B(e){this.suppressErrors||(this.logger.error(e),(0,o.default)(this,M)&&!(0,o.default)(this,M).closed||!window.confirm(`An error has occurred:\n\n${e}\n\nPress 'OK' to view debug information to send to technical support.`)||d(this,L,H).call(this))}function H(){(0,o.default)(this,M)&&!(0,o.default)(this,M).closed&&(0,o.default)(this,M).close(),(0,r.default)(this,M,window.open("log_output.html","Log","width=600,height=300,status=no,scrollbars=yes,resize=yes,menubar=yes,toolbar=yes,location=yes,top=0,left=0")),(0,o.default)(this,M)&&(0,o.default)(this,M).focus()}$.instance=null,e.exports=$},30713:(e,t,s)=>{"use strict";const{FETCH_COURSE_DATA:i}=s(36329),{SCORM_WRAPPER_CHANGE:n}=s(39922),o={_isEnabled:!1,_scormVersion:"1.2",_shouldUsePopup:!1,_shouldUseScrollFix:!1,_shouldShowScormErrors:!0,_useAdvancedTracking:!1,_shouldSendScore:!0,_disableInteractionTracking:!1,_reporting:{_onTrackingCriteriaMet:"passed",_onAssessmentFailure:"failed"},_cmiExitState:"auto",suspendData:{}};e.exports=(e=o,t)=>{if(t.type===i){const{_scorm:s}=t.payload.config;return s?._isEnabled?{...e,...s}:o}return e._isEnabled?t.type===n?{...e,...t.payload}:e:o}},51010:(e,t,s)=>{"use strict";const{registerReducer:i,registerEpics:n}=s(60633),o=s(30713),{scormDataReadyEpic:r,scormWrapperInitEpic:a,scormDeserialiseEpic:c,scormTrackerChangeEpic:l,scormRecordInteractionEpic:d,scormFinishEpic:u,scormErrorEpic:h}=s(3503);i("scorm",o),n(r,a,c,l,d,u,h)},50862:(e,t,s)=>{"use strict";const i=s(47206),n=s(26092);e.exports=function(e,t,s="..."){if(!e)return"";if(!i(e))throw new Error("First parameter must be a string!");return((e=e.replaceAll("<p>","").replaceAll("</p>"," ").replaceAll("<br>"," ").replaceAll("&nbsp;"," ")).includes("<")||e.includes("&"))&&(e=(new DOMParser).parseFromString(e,"text/html").body.textContent),t?n(e,{length:t,omission:s}):e}},50471:()=>{},71632:()=>{}}]);