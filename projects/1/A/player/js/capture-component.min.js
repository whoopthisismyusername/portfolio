"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[6606],{3223:(e,t)=>{t.CAPTURE_START="CAPTURE_START",t.CAPTURE_UPDATE_FORM_VALUE="CAPTURE_UPDATE_FORM_VALUE",t.CAPTURE_SUBMIT_SCREEN="CAPTURE_SUBMIT_SCREEN",t.CAPTURE_REJECT_SCREEN="CAPTURE_REJECT_SCREEN",t.CAPTURE_FAIL_SCREEN="CAPTURE_FAIL_SCREEN",t.CAPTURE_SET_BUTTON_AS_CLICKED="CAPTURE_SET_BUTTON_AS_CLICKED",t.CAPTURE_SET_DROPDOWN_AS_CLICKED="CAPTURE_SET_DROPDOWN_AS_CLICKED",t.CAPTURE_SET_SLIDER_HANDLE_VALUE="CAPTURE_SET_SLIDER_HANDLE_VALUE",t.CAPTURE_SET_SEARCH_DROPDOWN_OPTIONS="CAPTURE_SET_SEARCH_DROPDOWN_OPTIONS",t.CAPTURE_SET_FEEDBACK_POPUP="CAPTURE_SET_FEEDBACK_POPUP",t.CAPTURE_TOGGLE_INSTRUCTIONS="CAPTURE_TOGGLE_INSTRUCTIONS",t.CAPTURE_VIEW_COMPLETED_SCREEN="CAPTURE_VIEW_COMPLETED_SCREEN",t.CAPTURE_RETURN_TO_RESULTS_SCREEN="CAPTURE_RETURN_TO_RESULTS_SCREEN",t.CAPTURE_NAVIGATE_TO_PREVIOUS_SCREEN="CAPTURE_NAVIGATE_TO_PREVIOUS_SCREEN",t.CAPTURE_NAVIGATE_TO_NEXT_SCREEN="CAPTURE_NAVIGATE_TO_NEXT_SCREEN",t.CAPTURE_RESET_SCREEN="CAPTURE_RESET_SCREEN",t.CAPTURE_SCREEN_CLICKED="CAPTURE_SCREEN_CLICKED",t.CAPTURE_SCREEN_TIMER_ENDED="CAPTURE_SCREEN_TIMER_ENDED",t.CAPTURE_TOGGLE_INSTRUCTIONS_OPEN="CAPTURE_TOGGLE_INSTRUCTIONS_OPEN",t.CAPTURE_OPEN_INSTRUCTIONS="CAPTURE_OPEN_INSTRUCTIONS",t.CAPTURE_OPEN_DIRECTIONS="CAPTURE_OPEN_DIRECTIONS",t.CAPTURE_TOGGLE_MENU="CAPTURE_TOGGLE_MENU",t.CAPTURE_TOGGLE_CORRECT_ANSWER="CAPTURE_TOGGLE_CORRECT_ANSWER",t.CAPTURE_TOGGLE_SCENARIO_OPEN="CAPTURE_TOGGLE_SCENARIO_OPEN",t.CAPTURE_COMPLETED="CAPTURE_COMPLETED",t.startCapture=e=>({type:t.CAPTURE_START,payload:e}),t.updateFormValue=e=>({type:t.CAPTURE_UPDATE_FORM_VALUE,payload:e}),t.submitScreen=e=>({type:t.CAPTURE_SUBMIT_SCREEN,payload:e}),t.rejectScreen=e=>({type:t.CAPTURE_REJECT_SCREEN,payload:e}),t.failScreen=e=>({type:t.CAPTURE_FAIL_SCREEN,payload:e}),t.setButtonAsClicked=e=>({type:t.CAPTURE_SET_BUTTON_AS_CLICKED,payload:e}),t.setSliderHandleValue=e=>({type:t.CAPTURE_SET_SLIDER_HANDLE_VALUE,payload:e}),t.setSearchDropDownOptions=e=>({type:t.CAPTURE_SET_SEARCH_DROPDOWN_OPTIONS,payload:e}),t.setDropDownOptionAsClicked=e=>({type:t.CAPTURE_SET_DROPDOWN_AS_CLICKED,payload:e}),t.setFeedbackPopup=e=>({type:t.CAPTURE_SET_FEEDBACK_POPUP,payload:e}),t.toggleInstructions=e=>({type:t.CAPTURE_TOGGLE_INSTRUCTIONS,payload:e}),t.viewCompletedScreen=e=>({type:t.CAPTURE_VIEW_COMPLETED_SCREEN,payload:e}),t.returnToResultsScreen=e=>({type:t.CAPTURE_RETURN_TO_RESULTS_SCREEN,payload:e}),t.navigateToPreviousScreen=e=>({type:t.CAPTURE_NAVIGATE_TO_PREVIOUS_SCREEN,payload:e}),t.navigateToNextScreen=e=>({type:t.CAPTURE_NAVIGATE_TO_NEXT_SCREEN,payload:e}),t.screenClicked=e=>({type:t.CAPTURE_SCREEN_CLICKED,payload:e}),t.timerEnded=e=>({type:t.CAPTURE_SCREEN_TIMER_ENDED,payload:e}),t.resetScreen=e=>({type:t.CAPTURE_RESET_SCREEN,payload:e}),t.toggleInstructionsOpen=e=>({type:t.CAPTURE_TOGGLE_INSTRUCTIONS_OPEN,payload:e}),t.toggleMenuOpen=e=>({type:t.CAPTURE_TOGGLE_MENU,payload:e}),t.toggleCorrectAnswer=e=>({type:t.CAPTURE_TOGGLE_CORRECT_ANSWER,payload:e}),t.toggleScenarioOpen=e=>({type:t.CAPTURE_TOGGLE_SCENARIO_OPEN,payload:e}),t.openDirections=e=>({type:t.CAPTURE_OPEN_DIRECTIONS,payload:e}),t.openInstructions=e=>({type:t.CAPTURE_OPEN_INSTRUCTIONS,payload:e}),t.captureCompleted=e=>({type:t.CAPTURE_COMPLETED,payload:e})},70939:(e,t,n)=>{const{registerComponent:s,registerEpics:r}=n(60633),i=n(84798),{openFullScreen:o,closeFullScreen:c}=n(90951),a=n(30929),{captureFinishedEpic:p,captureCompletedEpic:l}=n(5347),{startCapture:u}=n(3223),d=n(84900);s("capture",{component:i,actions:{openFullScreen:o,closeFullScreen:c,startCapture:u},reducer:a,mapStateToProps:(e,t)=>({articleStyle:d(e,t,"article")._classes}),trackingMap:n(57463)}),r(p,l)},84798:(e,t,n)=>{const s=n(99729),r=n(52898),i=n(27378),o=n(90005),{Component:c}=n(30189),a=n(37238),p=n(31491),l=n(18111),u=n(60067),d=r({displayName:"Capture",componentDidMount:function(){const{props:e}=this;p.loadScreenImages(e.component._screens)},startCapture:function(e){const{props:t}=this,n=t.component._id;t.component._hasStarted||t.setComponentAsStarted(n);const r=o("ev-capture-fullscreen",{["ev-"+t.articleStyle]:"none"!==t.articleStyle}),i=s(t.component,"_appearance.backgroundColor","transparent"),c={};"transparent"!==i&&(c.backgroundColor=i),t.startCapture({componentId:n}),t.openFullScreen({component:u,props:{componentId:n},className:r,style:c})},onVisibilityChange:function(e,{top:t,bottom:n}){const{props:s}=this;t&&(this.isInviewTop=!0),n&&(this.isInviewBottom=!0),this.isInviewTop&&this.isInviewBottom&&s.setComponentAsViewed(s.component._id)},onPosterLoaded:function(){const{props:e}=this;e.component._isReady||e.setComponentAsReady(e.component._id)},getIsVisibilitySensorActive:function(){const{component:e,isPageReady:t}=this.props;return!0===t&&!0===e._isReady&&!0!==e._hasBeenViewed},render:function(){const{props:e}=this;return i.createElement(c,{component:e.component,theme:e.theme,styles:e.styles,shouldHideQuestionButtons:!0,isVisibilitySensorActive:this.getIsVisibilitySensorActive(),onVisibilityChange:this.onVisibilityChange},i.createElement("div",{className:a(e.component)},i.createElement(l,{screenSize:e.screenSize,interaction:e.component,startCapture:this.startCapture,onPosterLoaded:this.onPosterLoaded})))}});e.exports=d},17674:(e,t,n)=>{const s=n(52898);var r=n(27378),i=n(90005),o=s({displayName:"CaptureAttemptsCounter",getClassName:function(){var e=!0;return this.props.currentScreen._isMarkable||(e=!1),i("ev-capture-attempts-counter",{"ev-is-visible":e})},render:function(){return this.props.interaction._hasStarted&&this.props.currentScreen&&!this.props.interaction._isReviewing?r.createElement("div",{className:this.getClassName()},r.createElement("span",{className:"ev-capture-attempts-counter-attempt"},this.props.currentScreen._attemptsLeft," "),r.createElement("span",{className:"ev-capture-attempts-counter-attempt-text"},this.props.remainingAttemptsText)):null}});e.exports=o},60067:(e,t,n)=>{var s=n(7914)(n(2398));const r=n(64925),i=n(99729),o=n(52898),c=n(27378),{connect:a}=n(13844),p=n(39313),{startCapture:l,updateFormValue:u,submitScreen:d,rejectScreen:h,failScreen:m,setButtonAsClicked:_,setSliderHandleValue:S,setSearchDropDownOptions:g,setDropDownOptionAsClicked:v,setFeedbackPopup:f,toggleInstructions:C,toggleInstructionsOpen:E,viewCompletedScreen:A,returnToResultsScreen:y,navigateToPreviousScreen:b,navigateToNextScreen:T,screenClicked:I,resetScreen:k,openDirections:N,openInstructions:x,toggleCorrectAnswer:O,toggleMenuOpen:R,toggleScenarioOpen:P,timerEnded:w}=n(3223),{restoreFocus:M}=n(87739),D=n(12765),B=n(86425),L=n(42382),F=n(31491),U=o({displayName:"CaptureFullScreenController",componentDidUpdate:function(e){const{props:t}=this;e.component.activeScreenId&&t.component.activeScreenId&&e.component.activeScreenId!==t.component.activeScreenId&&this.resetScrollOnScreenChanged(),t.component.isScenarioOpen&&!e.component.isScenarioOpen&&t.resetScroll()},resetScrollOnScreenChanged:function(){const{props:e}=this;r(e.component._screens,{_id:e.component.activeScreenId})._shouldResetScroll&&e.resetScroll()},updateFormValue:function(e,t){const{props:n}=this;n.updateFormValue({componentId:n.component._id,itemId:e,value:t})},submitScreen:function(e){const{props:t}=this;t.submitScreen({componentId:t.component._id,itemId:e})},rejectScreen:function(e){const{props:t}=this;t.rejectScreen({componentId:t.component._id,itemId:e})},failScreen:function(e){const{props:t}=this;t.failScreen({componentId:t.component._id,itemId:e})},setButtonAsClicked:function(e){const{props:t}=this;t.setButtonAsClicked({componentId:t.component._id,itemId:e})},setDropDownOptionAsClicked:function(e,t){const{props:n}=this;n.setDropDownOptionAsClicked({componentId:n.component._id,itemId:e,optionValue:t})},setSliderHandleValue:function(e,t,n){const{props:s}=this;s.setSliderHandleValue({componentId:s.component._id,handleId:t,optionValue})},setSearchDropDownOptions:function(e,t){const{props:n}=this;n.setSliderHandleValue({componentId:n.component._id,itemId:e,options:t})},setFeedbackPopup:function(e){const{props:t}=this;t.setFeedbackPopup({componentId:t.component._id,feedback:e})},toggleInstructions:function(){const{props:e}=this;e.toggleInstructions({componentId:e.component._id})},toggleInstructionsOpen:function(){const{props:e}=this;e.toggleInstructionsOpen({componentId:e.component._id})},toggleMenuOpen:function(){const{props:e}=this;e.toggleMenuOpen({componentId:e.component._id})},toggleScenarioOpen:function(){const{props:e}=this;e.toggleScenarioOpen({componentId:e.component._id})},openDirections:function(){const{props:e}=this;e.openDirections({componentId:e.component._id})},openInstructions:function(){const{props:e}=this;e.openInstructions({componentId:e.component._id})},viewCompletedScreen:function(e){const{props:t}=this;t.viewCompletedScreen({componentId:t.component._id,screenId:e})},returnToResultsScreen:function(){const{props:e}=this;e.returnToResultsScreen({componentId:e.component._id})},navigateToPreviousScreen:function(){const{props:e}=this;e.navigateToPreviousScreen({componentId:e.component._id})},navigateToNextScreen:function(){const{props:e}=this;e.navigateToNextScreen({componentId:e.component._id})},onScreenClicked:function(){const{props:e}=this;e.screenClicked({componentId:e.component._id})},onTimerEnded:function(){const{props:e}=this;e.timerEnded({componentId:e.component._id})},resetScreen:function(){const{props:e}=this;e.resetScreen({componentId:e.component._id})},closeFullScreen:function(){const{props:e}=this;e.closeFullScreen()},renderResults:function({captureWidth:e}){const{props:t}=this;return c.createElement(B,{device:t.device,interaction:t.component,submitScreen:this.submitScreen,updateFormValue:this.updateFormValue,toggleFullScreenMode:t.closeFullScreen,isFullScreenMode:!0,toggleInstructions:this.toggleInstructions,viewCompletedScreen:this.viewCompletedScreen,captureWidth:this.props.captureWidth})},renderContent:function(){const{props:e}=this,{component:t}=e,n=t._hasStarted,i=t._isReviewing,o=t._isComplete,a=t._resultsScreen._shouldShowFinalResultsScreen,p=F.getCaptureWidth(t);if(n&&!o||n&&i||n&&o&&!a){const n=r(t._screens,{_id:t._currentScreenId}),i=r(t._screens,{_id:t._previousScreenId}),{buttons:o}=e;return c.createElement(D,(0,s.default)({device:e.device,interaction:e.component,currentScreen:n,previousScreen:i,submitScreen:this.submitScreen,rejectScreen:this.rejectScreen,failScreen:this.failScreen,updateFormValue:this.updateFormValue,elementMethods:{setButtonAsClicked:this.setButtonAsClicked,setDropDownOptionAsClicked:this.setDropDownOptionAsClicked,setSliderHandleValue:this.setSliderHandleValue,setSearchDropDownOptions:this.setSearchDropDownOptions},toggleFullScreenMode:this.closeFullScreen,isFullScreenMode:!0,toggleInstructions:this.toggleInstructions,setFeedbackPopup:this.setFeedbackPopup,returnToResultsScreen:this.returnToResultsScreen,navigateToPreviousScreen:this.navigateToPreviousScreen,navigateToNextScreen:this.navigateToNextScreen,onScreenClicked:this.onScreenClicked,onTimerEnded:this.onTimerEnded,remainingAttemptText:o.remainingAttemptText,remainingAttemptsText:o.remainingAttemptsText,hideCorrectAnswerText:o._hideCorrectAnswer.buttonText,showCorrectAnswerText:o._showCorrectAnswer.buttonText,resetScreen:this.resetScreen,isShowingCorrectAnswer:e.component._isShowingCorrectAnswer,toggleCorrectAnswer:this.toggleCorrectAnswer,toggleScenarioOpen:this.toggleScenarioOpen,isScenarioOpen:t.isScenarioOpen,isInstructionsOpen:t.isInstructionsOpen,isMenuOpen:t.isMenuOpen,toggleMenuOpen:this.toggleMenuOpen,toggleInstructionsOpen:this.toggleInstructionsOpen,openInstructions:this.openInstructions,openDirections:this.openDirections,isDirectionsOpen:t.isDirectionsOpen,restoreFocus:this.props.restoreFocus},p))}if(t._isComplete)return c.createElement(B,(0,s.default)({device:e.device,interaction:e.component,submitScreen:this.submitScreen,updateFormValue:this.updateFormValue,toggleFullScreenMode:this.closeFullScreen,isFullScreenMode:!0,toggleInstructions:this.toggleInstructions,viewCompletedScreen:this.viewCompletedScreen},p))},render:function(){const e={},t=i(this.props.component,"_appearance.backgroundColor",!1);return t&&"transparent"!==t&&(e.backgroundColor=L(t,this.props.swatches)),c.createElement(p,{name:"capture",id:this.props.component._id,className:"ev-capture-component-full-screen",style:e},this.renderContent())}});e.exports=a(((e,t)=>({component:e.components[t.componentId],device:e.device,buttons:e.course._buttons,swatches:e.theme._swatches})),{startCapture:l,updateFormValue:u,submitScreen:d,rejectScreen:h,failScreen:m,setButtonAsClicked:_,setSliderHandleValue:S,setSearchDropDownOptions:g,setDropDownOptionAsClicked:v,setFeedbackPopup:f,toggleInstructions:C,toggleInstructionsOpen:E,viewCompletedScreen:A,returnToResultsScreen:y,navigateToPreviousScreen:b,navigateToNextScreen:T,screenClicked:I,resetScreen:k,openDirections:N,openInstructions:x,toggleCorrectAnswer:O,toggleMenuOpen:R,toggleScenarioOpen:P,restoreFocus:M,timerEnded:w})(U)},18111:(e,t,n)=>{const s=n(52898);var r=n(27378),i=n(52969),o=n(13756),c=s({displayName:"CapturePlay",getPosterImage:function(){if(this.props.interaction._poster){var e=this.props.interaction._poster.large,t=this.props.interaction._poster.alt||"";return"small"===this.props.screenSize&&this.props.interaction._poster.small&&(e=this.props.interaction._poster.small),r.createElement("img",{src:o(e),alt:t,onLoad:this.props.onPosterLoaded})}},onPlayButtonClicked:function(e){this.props.startCapture(e)},render:function(){const e=this.props.interaction._captureButtons||{};return r.createElement("div",{className:"ev-capture-play"},r.createElement(i,{interaction:this.props.interaction,currentScreen:this.props.currentScreen,toggleFullScreenMode:this.props.toggleFullScreenMode,toggleInstructions:this.props.toggleInstructions}),this.getPosterImage(),r.createElement("button",{id:`ev-capture-component-open-fullscreen-${this.props.interaction._id}`,className:"ev-button ev-capture-play-button","aria-label":e.playButtonAriaLabel,onClick:this.onPlayButtonClicked},r.createElement("i",{className:"ev-icon ev-icon-play-circle"})))}});e.exports=c},14221:(e,t,n)=>{const s=n(52898),r=n(27378),i=n(90005),o=s({displayName:"CaptureProgressBar",render:function(){return r.createElement("div",{className:i("ev-capture-progress-bar",{"ev-is-bottom":this.props.isProgressBarAtBottom})},r.createElement("div",{className:"ev-capture-progress-bar-indicator"},r.createElement("div",{className:"ev-capture-progress-bar-indicator-inner",style:{width:this.props.percentage+"%",transition:"width 0.2s ease-out"}})))}});e.exports=o},33951:(e,t,n)=>{var s=n(8528);const r=n(18180),i=n(74867),o=n(55807),c=n(52898);var a=n(27378),p=n(90005),l=n(46456),u=n(2282),d=n(13756);const h=n(54794);var m=c({displayName:"CaptureResultsOverview",componentDidUpdate:function(e){e.isFullScreenMode!=this.props.isFullScreenMode&&this.renderDonut()},componentDidMount:function(){this.renderDonut()},renderDonut:function(){var e="#FF1542";this.props.interaction._isCorrect&&(e="#04e678"),s(this.refs.donut).empty(),r(i((function(){new u(this.refs.donut,160,160,this.props.interaction._finalScore,100,this.props.interaction._finalScore+"%",18,64,64,16,16,"#ffffff",e,"#454545")}),this))},getFeedbackSection:function(){var e=this.props.interaction.feedbackMessage;return a.createElement("div",{className:"ev-capture-results-overview-feedback-container"},this.getFeedbackVisuals(),a.createElement(h,{html:e}))},getFeedbackVisuals:function(){var e,t=this.props.interaction._isCorrect,n=this.props.interaction._resultsScreen||{},s=!1;t&&n.correctGif?(s=!0,e=n.correctGif):!t&&n.incorrectGif&&(s=!0,e=n.incorrectGif);var r=p("ev-capture-results-overview-feedback-visuals ev-clearfix",{"ev-has-image":s});return a.createElement("div",{className:r},this.renderFeedbackVisualsImage(e),a.createElement("div",{className:"ev-capture-results-overview-donut",ref:"donut"}))},renderFeedbackVisualsImage:function(e){if(e)return a.createElement("div",{className:"ev-capture-results-overview-image"},a.createElement("img",{src:d(e)}))},getScreenResults:function(){var e=this.props.interaction._resultsScreen||{};if(this.props.interaction._resultsScreen._shouldShowScreenResults)return a.createElement("div",{className:"ev-capture-results-overview-list"},a.createElement("div",{className:"content-title ev-capture-results-overview-section-text"},a.createElement("div",{className:"content-title ev-capture-results-overview-section-title"},a.createElement(h,{element:"h2",html:e.screenResultsTitle})),a.createElement(h,{className:"ev-capture-results-overview-section-body",html:e.screenResultsBody})),this.getScreenOverviews())},getScreenOverviews:function(){return o(this.props.interaction._screens,function(e){if(e._isMarkable)return a.createElement(l,{key:e._id,screen:e,viewCompletedScreen:this.props.viewCompletedScreen,interaction:this.props.interaction})}.bind(this))},getRecommendationSection:function(){if(!this.props.interaction._resultsScreen._shouldShowRecommendations)return null;var e=this.props.interaction._resultsScreen||{};return this.props.interaction._isCorrect?void 0:a.createElement("div",{className:"ev-capture-results-overview-recommendation ev-capture-results-overview-section-text"},a.createElement("div",{className:"ev-content-title ev-capture-results-overview-section-title"},a.createElement(h,{element:"h2",html:e.recommendationsTitle})),a.createElement("div",{className:"ev-capture-results-overview-section-body"},a.createElement(h,{html:e.recommendationsBody})),this.getRecommendations())},getRecommendations:function(){if(!this.props.interaction._isCorrect&&this.props.interaction._resultsScreen){var e=this.props.interaction._resultsScreen._recommendations;return o(e,(function(e,t){return a.createElement("div",{key:t,className:"ev-capture-results-overview-recommendation-item"},a.createElement("div",{className:"ev-capture-results-overview-recommendation-item-title"},e.title),a.createElement("div",{className:"ev-capture-results-overview-recommendation-item-body"},e.body),a.createElement("div",null,a.createElement("a",{className:"ev-button ev-primary",href:e.link,target:"_blank"},e.linkText)))}))}},getButtons:function(){return a.createElement("div",{className:"ev-capture-results-buttons"},a.createElement("button",{className:"ev-button",onClick:this.props.toggleFullScreenMode},this.props.interaction._captureButtons.closeCaptureButtonText))},render:function(){var e=this.props.interaction._resultsScreen||{};return a.createElement("div",{className:"ev-capture-results-overview"},a.createElement("div",{className:"ev-capture-results-overview-header"},a.createElement("div",{className:"ev-header-title"},a.createElement(h,{element:"h1",html:e.title})),this.getFeedbackSection()),this.getScreenResults(),this.getRecommendationSection(),this.getButtons())}});e.exports=m},46456:(e,t,n)=>{const s=n(52898);var r=n(27378),i=n(90005);const o=n(54794);var c=s({displayName:"CaptureResultsOverviewScreen",getScreenMarking:function(){var e=i("ev-info-detail-display","ev-icon",{"ev-icon-checkmark-circle":this.props.screen._isCorrect,"ev-icon-cross-circle":!this.props.screen._isCorrect});return r.createElement("div",{className:"ev-capture-results-screen-marking"},r.createElement("div",{className:e}))},getScoreProgressBar:function(){var e=100/this.props.screen._totalScore*(this.props.screen._usersScore||0),t=(this.props.screen._usersScore||0)+"/"+this.props.screen._totalScore;return r.createElement("div",{className:"ev-capture-results-overview-points"},r.createElement("div",{className:"ev-capture-progress-bar"},r.createElement("div",{className:"ev-capture-progress-bar-inner",style:{width:e+"%"}})),r.createElement("div",{className:"ev-capture-results-overview-points-count"},t))},getScreenResultsText:function(){if(this.props.screen.scorePrefixTitle||this.props.screen.scorePrefixBody)return r.createElement("div",{className:"ev-capture-results-overview-screen-prefix"},this.getScreenResultsTextTitle(),this.getScreenResultsTextBody())},getScreenResultsTextTitle:function(){if(this.props.screen.scorePrefixTitle)return r.createElement("div",{className:"ev-component-title"},r.createElement(o,{element:"h4",className:"ev-component-title-inner",html:this.props.screen.scorePrefixTitle}))},getScreenResultsTextBody:function(){if(this.props.screen.scorePrefixBody)return r.createElement("div",{className:"ev-component-body"},r.createElement(o,{className:"ev-component-body-inner",html:this.props.screen.scorePrefixBody}))},getReviewButton:function(){var e=this.props.interaction._resultsScreen||{};return this.props.screen._hasBeenViewed?r.createElement("div",{className:"ev-capture-results-item-review-status"},r.createElement("a",{href:"#",tabIndex:"0",onClick:this.onViewCompletedScreenClicked},e.reviewText)):r.createElement("div",{className:"ev-capture-results-item-review-status"},e.noReviewText)},onViewCompletedScreenClicked:function(e){e.preventDefault(),this.props.viewCompletedScreen(this.props.screen._id)},render:function(){return r.createElement("div",null,this.getScreenResultsText(),r.createElement("div",{className:"ev-capture-results-overview-screen list-item ev-clearfix"},this.getScreenMarking(),r.createElement("div",{className:"ev-capture-results-item-content"},r.createElement("div",{className:"ev-capture-results-item-content-inner"},r.createElement("div",{className:"ev-list-item-title"},r.createElement("div",{className:"ev-component-title"},r.createElement(o,{className:"ev-component-title-inner",html:this.props.screen.displayTitle||this.props.screen.title}))),this.getReviewButton())),r.createElement("div",{className:"ev-capture-results-item-analytics"},r.createElement("div",{className:"ev-capture-results-item-analytics-inner"},this.getScoreProgressBar()))))}});e.exports=c},74126:(e,t,n)=>{const s=n(89432),r=n(55807),i=n(99729),o=n(66259),c=n(52898),a=n(88537);var p=n(27378),l=n(90005),u=n(52969),d=n(18875),h=n(85770),m=n(43142),_=n(52196),S=n(35333),g=n(92637),v=n(25763),f=n(82041),C=n(68055),E=n(46391),A=n(59414),y=n(76758),b=n(22528),T=n(37118),I=n(19117),k=n(23006),N=n(27998).$B;const x=n(14221),O=n(76483);var R={inputText:_,inputSelect:S,inputButton:g,inputCheckbox:v,inputDropDown:f,inputSlider:C,inputRadioOptions:E,inputSearchDropDown:A,inputTextArea:y,inputHoverOverlay:b,displayTextArea:T},P=c({displayName:"CaptureScreen",getInitialState:function(){return{_timeRemaining:0}},componentDidUpdate:function(e){this.props.interaction._isInstructionsVisible&&(this.refs.captureScreen.scrollLeft=0)},componentDidMount:function(){this.startTimedScreen(this.props.currentScreen,this.props.interaction)},componentWillReceiveProps:function({currentScreen:e,interaction:t}){const{currentScreen:n}=this.props;e&&n._id!==e._id&&this.startTimedScreen(e,t)},componentWillUnmount:function(){this.clearTimer()},startTimedScreen:function(e,t){this.clearTimer(),!t._isReviewing&&e._shouldSubmitScreenByTimer&&(this.setState({_timeRemaining:(s(e._screenTimer,-3)||1e3)/1e3}),this._timer=setInterval(this.updateTimer,1e3))},updateTimer:function(){const{state:e}=this,t=e._timeRemaining-1;this.setState({_timeRemaining:t},(()=>{t<=0&&(this.clearTimer(),this.onTimerEnded())}))},clearTimer:function(){this._timer&&(clearInterval(this._timer),this._timer=void 0)},onTimerEnded:function(){const{currentScreen:e}=this.props;e._shouldTimeScreenInteraction?this.props.onTimerEnded():this.props.onScreenClicked()},getItems:function(){const{props:e}=this,t=this.props.currentScreen._items?[...this.props.currentScreen._items]:[];return e.interaction._shouldAutoSortTabOrder&&t.sort(((e,t)=>e._top===t._top||Math.abs(e._top-t._top)<1?e._left-t._left:e._top-t._top)),t},getClassName:function(){var e=this.props.interaction._isInstructionsVisible;return l("ev-capture-screen",{"ev-no-scroll":e})},getOverlay:function(){var e=!1,t="rgba(0,0,0,0.8)",n=this.props.interaction._appearance||{};return this.props.isInstructionsOpen&&n._shouldShowInstructionsOverlay&&(e=!0,t=n.instructionsOverlayColor),this.props.isScenarioOpen&&n._shouldShowScenarioOverlay&&(e=!0,t=n.scenarioOverlayColor),this.props.interaction._feedbackPopup&&n._shouldShowFeedbackOverlay&&(e=!0,t=n.feedbackOverlayColor),this.props.isMenuOpen&&(e=!0),e?p.createElement("div",{className:"ev-capture-screen-overlay",style:{backgroundColor:t}}):null},getTools:function(){return p.createElement(u,{device:this.props.device,interaction:this.props.interaction,currentScreen:this.props.currentScreen,previousScreen:this.props.previousScreen,toggleFullScreenMode:this.props.toggleFullScreenMode,isFullScreenMode:this.props.isFullScreenMode,toggleInstructions:this.props.toggleInstructions,returnToResultsScreen:this.props.returnToResultsScreen,navigateToPreviousScreen:this.props.navigateToPreviousScreen,navigateToNextScreen:this.props.navigateToNextScreen,remainingAttemptText:this.props.remainingAttemptText,remainingAttemptsText:this.props.remainingAttemptsText,hideCorrectAnswerText:this.props.hideCorrectAnswerText,showCorrectAnswerText:this.props.showCorrectAnswerText,isShowingCorrectAnswer:this.props.isShowingCorrectAnswer,toggleCorrectAnswer:this.props.toggleCorrectAnswer,screenWidth:this.props.screenWidth,setFeedbackPopup:this.props.setFeedbackPopup,toggleScenarioOpen:this.props.toggleScenarioOpen,isInstructionsOpen:this.props.isInstructionsOpen,isMenuOpen:this.props.isMenuOpen,isScenarioOpen:this.props.isScenarioOpen,toggleMenuOpen:this.props.toggleMenuOpen,toggleInstructionsOpen:this.props.toggleInstructionsOpen,openInstructions:this.props.openInstructions,openDirections:this.props.openDirections,resetScreen:this.props.resetScreen,restoreFocus:this.props.restoreFocus})},getDirections:function(){if(this.props.isDirectionsOpen&&this.props.currentScreen.directions)return p.createElement(d,{interaction:this.props.interaction,currentScreen:this.props.currentScreen})},getScenario:function(){if(this.props.isScenarioOpen)return p.createElement(h,{interaction:this.props.interaction,toggleScenarioOpen:this.props.toggleScenarioOpen})},getScreenItems:function(e){return r(e,((e,t)=>{if(!e._parentId){var n=R[e._type];return e._screenSize!=this.props.screenSizeSelection?null:p.createElement(n,{device:this.props.device,interaction:this.props.interaction,item:e,key:e._id,submitScreen:this.props.submitScreen,updateFormValue:this.props.updateFormValue,rejectScreen:this.props.rejectScreen,failScreen:this.props.failScreen,elementMethods:this.props.elementMethods,hasShowMarking:this.props.interaction._isComplete,isShowingCorrectAnswer:this.props.isShowingCorrectAnswer})}}))},getScreenClassName:function(){return l("ev-capture-screen-content")},getScreenWrapperClassName:function(){return l("ev-capture-screen-content-wrapper",{"ev-is-small-screen":"small"===this.props.screenSizeSelection,"ev-is-medium-screen":"medium"===this.props.screenSizeSelection,"ev-is-large-screen":"large"===this.props.screenSizeSelection,"ev-is-centered":i(this.props.interaction,"_appearance._isScreenCentered",!1)})},getScreenPanels:function(e){return r(this.props.currentScreen._panels,((t,n)=>p.createElement(k,{device:this.props.device,interaction:this.props.interaction,currentScreen:this.props.currentScreen,panel:t,key:t._id,items:this.getPanelItems(t._id,e)})))},getPanelItems:function(e,t){return r(t,((t,n)=>{if(t._parentId===e){var s=R[t._type];return p.createElement(s,{device:this.props.device,interaction:this.props.interaction,item:t,key:t._id,submitScreen:this.props.submitScreen,updateFormValue:this.props.updateFormValue,rejectScreen:this.props.rejectScreen,failScreen:this.props.failScreen,elementMethods:this.props.elementMethods,hasShowMarking:this.props.interaction._isComplete,isShowingCorrectAnswer:this.props.isShowingCorrectAnswer})}}))},getScreenHints:function(e){if(!this.props.interaction._isComplete&&i(this.props.interaction,"_appearance._shouldOverlayHints",!1)===e)return r(this.props.currentScreen._hints,((e,t)=>{if(e._showOnAttempt===this.props.currentScreen._attemptsTaken&&e._screenSize===this.props.screenSizeSelection)return p.createElement(I,{device:this.props.device,interaction:this.props.interaction,hint:e,key:e._id})}))},getImage:function(){return p.createElement(m,{currentScreen:this.props.currentScreen,screenSizeSelection:this.props.screenSizeSelection})},getProgressBar:function(){const{interaction:e,currentScreen:t}=this.props;if(e._appearance&&e._appearance._shouldShowProgressBar){const n=e._screens.length,s=o(e._screens,{_id:t._id}),r=Math.round(s/n*100);return p.createElement(x,{percentage:r,isProgressBarAtBottom:!0!==t._isProgressBarAtTop})}},getCaptureTimer:function(){const{state:e,props:t}=this;if(!t.interaction._isReviewing&&t.currentScreen&&t.currentScreen._shouldSubmitScreenByTimer&&t.currentScreen._shouldTimeScreenInteraction){const n=t.currentScreen._attemptsLeft>=1?e._timeRemaining:0,r=(s(t.currentScreen._screenTimer,-3)||1e3)/1e3,i=r-n,o=t.currentScreen._screenTimerPosition;return p.createElement(O,{key:t.currentScreen._id,currentTime:i,totalTime:r,position:o})}},getScreenContent:function(){const e=this.getItems();return"small"===this.props.screenSizeSelection?p.createElement(N,{style:{width:this.props.captureWidth,height:480},ref:"scrollPanel"},p.createElement("div",{className:this.getScreenClassName(),onClick:this.props.onScreenClicked,style:{width:this.props.captureWidth}},this.getImage(),this.getScreenPanels(e),this.getScreenHints(!1),this.getScreenItems(e),this.getScreenHints(!0))):p.createElement("div",{className:this.getScreenClassName(),onClick:this.props.onScreenClicked,style:{width:this.props.captureWidth}},this.getImage(),this.getScreenPanels(e),this.getScreenHints(!1),this.getScreenItems(e),this.getScreenHints(!0))},render:function(){return p.createElement("div",{className:this.getClassName(),ref:"captureScreen"},this.getOverlay(),this.getTools(),this.getDirections(),this.getScenario(),this.getProgressBar(),this.getCaptureTimer(),p.createElement(a,{region:"ev-capture-content"},p.createElement("div",{className:this.getScreenWrapperClassName(),style:{width:this.props.captureWidth}},this.getScreenContent())))}});e.exports=P},18875:(e,t,n)=>{const s=n(18180),r=n(99729),i=n(52898);var o=n(27378),c=n(90005);const a=n(54794);var p=i({displayName:"CaptureScreenDirections",getInitialState:function(){return{isVisible:!1}},componentDidMount:function(){s(this.animateIn)},componentWillReceiveProps:function(e){r(e,"currentScreen._id")!=r(this.props,"currentScreen._id")&&this.setState({isVisible:!1})},componentDidUpdate:function(){this.state.isVisible||s(this.animateIn)},animateIn:function(){this.setState({isVisible:!0})},getClassName:function(){var e=this.props.currentScreen._directionsPosition;return c("ev-capture-screen-directions",{"ev-is-bottom-center":"bottomCenter"===e,"ev-is-bottom-left":"bottomLeft"===e,"ev-is-bottom-right":"bottomRight"===e,"ev-is-middle-left":"middleLeft"===e,"ev-is-middle-right":"middleRight"===e,"ev-is-top-center":"topCenter"===e,"ev-is-top-left":"topLeft"===e,"ev-is-top-right":"topRight"===e,"ev-is-visible":this.state.isVisible})},getStyles:function(){var e=this.props.currentScreen._directionsPosition,t=this.props.interaction._appearance||{},n=this.props.currentScreen._directionsWidth,s=-parseInt(n)/2+"px";return e&&-1!==e.indexOf("Left")&&(s=0),{backgroundColor:t.directionsBackgroundColor,color:t.directionsTextColor,width:n,marginLeft:s}},render:function(){return o.createElement("div",{className:this.getClassName(),style:this.getStyles(),ref:"screenDirections"},o.createElement("div",{"aria-live":"polite",className:"ev-capture-screen-directions-content ev-body"},o.createElement(a,{html:this.props.currentScreen.directions})))}});e.exports=p},19117:(e,t,n)=>{const s=n(99729),r=n(52898),i=n(90005);var o=n(27378),c=n(31491),a=r({displayName:"CaptureScreenHint",getPositioning:function(){return c.getHintPositioning(this.props)},getStyles:function(){var e=this.props.interaction._appearance||{};return{width:this.props.hint._width,height:this.props.hint._height,backgroundColor:e.hintsBackgroundColor,borderColor:e.hintsBorderColor,borderWidth:e.hintsBorderWidth,borderStyle:"solid"}},getClassName:function(){return i("ev-capture-screen-hint",{"ev-is-overlay-hint":s(this.props.interaction,"_appearance._shouldOverlayHints",!1)})},render:function(){return o.createElement("div",{className:this.getClassName(),style:this.getPositioning()},o.createElement("div",{style:this.getStyles()}))}});e.exports=a},43142:(e,t,n)=>{const s=n(52898);var r=n(27378),i=n(33933),o=s({displayName:"CaptureScreenImage",shouldComponentUpdate:function(e){return this.props.screenSizeSelection!=e.screenSizeSelection||this.props.currentScreen._id!==e.currentScreen._id},render:function(){var e=i(this.props.currentScreen,this.props.screenSizeSelection);return r.createElement("img",{src:e,alt:this.props.currentScreen.imageAltText})}});e.exports=o},23006:(e,t,n)=>{n(55807);const s=n(52898);var r=n(27378),i=(n(31491),n(27998).$B),o=n(13756),c=s({displayName:"CaptureScreenPanel",getStyles:function(){var e=this.props.panel._width,t=this.props.panel._height,n=this.props.panel._top,s=this.props.panel._left,r="absolute",i=0;return this.props.panel._isFixedPosition&&(r="fixed",i=2),{width:e,height:t,top:n+"%",left:s+"%",position:r,zIndex:i}},getContentStyles:function(){return{width:this.props.panel._innerWidth,height:this.props.panel._innerHeight,backgroundColor:this.props.panel._backgroundColor}},onImageLoaded:function(){this.refs.scrollPanel.scrollTop(this.props.panel._startingScrollTop)},renderImage:function(){if(this.props.panel._image)return r.createElement("img",{src:o(this.props.panel._image),alt:this.props.panel.alt,onLoad:this.onImageLoaded})},renderView:e=>r.createElement("div",{className:"ev-box",ref:"panel",style:e.style}),renderScreenItems:function(){return this.props.items},render:function(){return r.createElement("div",{className:"ev-capture-screen-panel",style:this.getStyles()},r.createElement(i,{style:{width:this.props.panel._width,height:this.props.panel._height},ref:"scrollPanel"},r.createElement("div",{className:"ev-capture-screen-panel-content",style:this.getContentStyles()},this.renderImage(),this.renderScreenItems())))}});e.exports=c},86425:(e,t,n)=>{const s=n(52898);var r=n(27378),i=(n(52969),n(33951)),o=s({displayName:"CaptureScreenResults",render:function(){return r.createElement("div",{className:"ev-capture-screen-results"},r.createElement("div",{className:"ev-capture-screen-results-content"},r.createElement(i,{interaction:this.props.interaction,viewCompletedScreen:this.props.viewCompletedScreen,toggleFullScreenMode:this.props.toggleFullScreenMode})))}});e.exports=o},85770:(e,t,n)=>{const s=n(52898),r=n(81448),i=n(54794);var o=n(27378),c=s({displayName:"CaptureScreenScenario",getStyles:function(){var e=this.props.interaction._appearance||{};return{backgroundColor:e.scenarioBackgroundColor,color:e.scenarioTextColor}},render:function(){var e=this.props.interaction._captureButtons||{};return o.createElement(r,null,o.createElement("div",{role:"dialog","aria-describedby":"ev-capture-screen-scenario-body",className:"ev-capture-screen-scenario",style:this.getStyles()},o.createElement("div",{className:"ev-capture-screen-scenario-content"},o.createElement(i,{className:"ev-capture-screen-scenario-body",id:"ev-capture-screen-scenario-body",html:this.props.interaction.scenarioBody}),o.createElement("button",{className:"ev-button",onClick:this.props.toggleScenarioOpen},e.scenarioButtonText))))}});e.exports=c},12765:(e,t,n)=>{const s=n(52898);var r=n(27378),i=n(74126),o=s({displayName:"CaptureScreenWrapper",render:function(){return r.createElement("div",{className:"ev-capture-screen-wrapper"},r.createElement(i,{device:this.props.device,interaction:this.props.interaction,currentScreen:this.props.currentScreen,submitScreen:this.props.submitScreen,rejectScreen:this.props.rejectScreen,failScreen:this.props.failScreen,updateFormValue:this.props.updateFormValue,elementMethods:this.props.elementMethods,previousScreen:this.props.previousScreen,toggleInstructions:this.props.toggleInstructions,setFeedbackPopup:this.props.setFeedbackPopup,isFullScreenMode:this.props.isFullScreenMode,onScreenClicked:this.props.onScreenClicked,onTimerEnded:this.props.onTimerEnded,resetScreen:this.props.resetScreen,isShowingCorrectAnswer:this.props.isShowingCorrectAnswer,toggleFullScreenMode:this.props.toggleFullScreenMode,returnToResultsScreen:this.props.returnToResultsScreen,navigateToPreviousScreen:this.props.navigateToPreviousScreen,navigateToNextScreen:this.props.navigateToNextScreen,remainingAttemptText:this.props.remainingAttemptText,remainingAttemptsText:this.props.remainingAttemptsText,hideCorrectAnswerText:this.props.hideCorrectAnswerText,showCorrectAnswerText:this.props.showCorrectAnswerText,toggleCorrectAnswer:this.props.toggleCorrectAnswer,screenWidth:this.props.screenWidth,toggleScenarioOpen:this.props.toggleScenarioOpen,isScenarioOpen:this.props.isScenarioOpen,isInstructionsOpen:this.props.isInstructionsOpen,isMenuOpen:this.props.isMenuOpen,toggleMenuOpen:this.props.toggleMenuOpen,toggleInstructionsOpen:this.props.toggleInstructionsOpen,openInstructions:this.props.openInstructions,openDirections:this.props.openDirections,isDirectionsOpen:this.props.isDirectionsOpen,captureWidth:this.props.captureWidth,screenSizeSelection:this.props.screenSizeSelection,restoreFocus:this.props.restoreFocus}))}});e.exports=o},76483:(e,t,n)=>{const s=n(52898),r=n(23615),i=n(90005),o=n(27378),c=n(19639),a={};function p(e,t,n){const s=n/180*Math.PI;return[e[0]+Math.cos(s)*t,e[1]+Math.sin(s)*t]}function l(e,t,n,s){let r=n,i=p(e,t,r),o="M "+i[0]+" "+i[1];for(;r<=s;)i=p(e,t,r),o+=" L "+i[0]+" "+i[1],r+=1;return o}a.create=function(e,t,n,s){this.paper=new c(e,56,56);const r=360/t*(t-n)-90;this.theArc=this.paper.path(l([28,28],14,r,270)).attr({stroke:s,"stroke-width":28})},a.update=function(e,t,n,s){const r=360/t*(t-n)-90;this.theArc.attr({stroke:s,"stroke-width":28,path:l([28,28],14,r,270)})};const u=s({displayName:"CaptureTimer",propTypes:{totalTime:r.number.isRequired,currentTime:r.number.isRequired,position:r.string.isRequired},getDefaultProps:function(){return{position:"top-right"}},componentDidMount:function(){const{totalTime:e,currentTime:t}=this.props;a.create(this._timer,e,t,"rgba(0,0,0,0.3)")},componentDidUpdate:function(){const{totalTime:e,currentTime:t}=this.props;a.update(this._timer,e,t,"rgba(0,0,0,0.3)")},render:function(){return o.createElement("div",{className:i("ev-capture-timer",`ev-${this.props.position}`),style:{width:"56px",height:"56px"}},o.createElement("div",{className:"ev-capture-timer-mount",ref:e=>this._timer=e,style:{width:"56px",height:"56px",transform:"scaleX(-1)"}}),o.createElement("i",{className:"ev-icon ev-icon-alarm2 ev-capture-timer-icon"}))}});e.exports=u},52969:(e,t,n)=>{const s=n(99729),r=n(52898),i=n(81448);var o=n(27378),c=n(90005),a=n(20188),p=(n(76239),n(56579)),l=n(69739),u=n(91284),d=r({displayName:"CaptureTools",getInitialState:function(){return{currentInstructionsIndex:0}},componentWillReceiveProps:function(e){this.props.currentScreen&&this.props.currentScreen._id!=e.currentScreen._id&&this.setState({currentInstructionsIndex:0})},getText:function(){var e=this.props.currentScreen._instructions[this.state.currentInstructionsIndex];if(e)return e.body},getClassName:function(){var e=this.props.currentScreen._instructions[this.state.currentInstructionsIndex],t=s(this.props.interaction,"_appearance._defaultMenuPosition","topLeft"),n=e&&"popup"===e._type?"popup":"dialog",r=e&&e._position||t;return c("ev-capture-tools",{"ev-is-dialog":"dialog"===n,"ev-is-popup":"popup"===n,"ev-is-bottom-left":"bottomLeft"===r,"ev-is-bottom-right":"bottomRight"===r,"ev-is-middle-left":"middleLeft"===r,"ev-is-middle-right":"middleRight"===r,"ev-is-top-left":"topLeft"===r||"top-left"===r,"ev-is-top-right":"topRight"===r})},resetInstructionsIndex:function(){this.setState({currentInstructionsIndex:0})},onAvatarClicked:function(){this.props.toggleMenuOpen()},onNextInstructionsClicked:function(){this.props.currentScreen._instructions[this.state.currentInstructionsIndex+1]?this.setState({currentInstructionsIndex:this.state.currentInstructionsIndex+1}):(this.props.toggleInstructionsOpen(this.resetInstructionsIndex),this.props.openDirections());var e=this.props.currentScreen._instructions[this.state.currentInstructionsIndex]._openAfterViewed;"scenario"===e?this.props.toggleScenarioOpen():"menu"===e&&this.props.toggleMenuOpen()},render:function(){if(!this.props.interaction._hasStarted)return null;if(!this.props.currentScreen)return null;var e=this.props.currentScreen._instructions[this.state.currentInstructionsIndex]||{},t=this.getClassName();return o.createElement(i,{disabled:!0!==this.props.isMenuOpen&&!this.props.interaction._feedbackPopup&&!this.props.isInstructionsOpen},o.createElement("div",{className:t},o.createElement(p,{avatar:this.props.interaction._feedbackAvatar||e._avatar,onClick:this.onAvatarClicked,isMenuOpen:this.props.isMenuOpen,isInstructionsOpen:this.props.isInstructionsOpen&&!this.props.isMenuOpen&&!this.props.isScenarioOpen&&!this.props.interaction._feedbackPopup,isFeedbackAvatar:!!this.props.interaction._feedbackAvatar,interaction:this.props.interaction}),o.createElement(l,{interaction:this.props.interaction,currentScreen:this.props.currentScreen,remainingAttemptsText:this.props.remainingAttemptsText,text:this.getText(),isOpen:this.props.isInstructionsOpen&&!this.props.isMenuOpen&&!this.props.isScenarioOpen&&!this.props.interaction._feedbackPopup,onNextInstructionsClicked:this.onNextInstructionsClicked}),o.createElement(a,{interaction:this.props.interaction,currentScreen:this.props.currentScreen,remainingAttemptsText:this.props.remainingAttemptsText,isOpen:this.props.interaction._feedbackPopup,resetScreen:this.props.resetScreen,setFeedbackPopup:this.props.setFeedbackPopup,restoreFocus:this.props.restoreFocus}),o.createElement(u,{interaction:this.props.interaction,isOpen:this.props.isMenuOpen,toggleFullScreenMode:this.props.toggleFullScreenMode,navigateToNextScreen:this.props.navigateToNextScreen,navigateToPreviousScreen:this.props.navigateToPreviousScreen,setFeedbackPopup:this.props.setFeedbackPopup,toggleMenuOpen:this.props.toggleMenuOpen,openInstructions:this.props.openInstructions,toggleScenarioOpen:this.props.toggleScenarioOpen})))}});e.exports=d},56579:(e,t,n)=>{const s=n(52898);var r=n(27378),i=n(90005),o=n(13756),c=s({displayName:"CaptureToolsAvatar",getClassName:function(){return i("ev-capture-tools-avatar",{"ev-has-avatar-image":this.props.isInstructionsOpen||this.props.isFeedbackAvatar,"ev-is-menu-open":this.props.isMenuOpen})},getAriaLabel:function(){const{props:e}=this,t=e.interaction._captureButtons||{};return e.isMenuOpen?t.closeMenuButtonText:t.avatarButtonAriaLabel},renderLabel:function(){var e=this.props.interaction._captureButtons||{};if(this.props.isMenuOpen)return r.createElement("div",{className:"ev-capture-tools-menu-item-label"},e.closeMenuButtonText)},renderAvatar:function(){return r.createElement("div",{className:"ev-capture-tools-avatar-image"},r.createElement("div",{className:"ev-capture-tools-avatar-image-inner"},r.createElement("i",{className:"ev-capture-tools-avatar-image-menu-icon ev-icon ev-icon-plus"}),this.renderAvatarImage()))},renderAvatarImage:function(){return this.props.avatar?r.createElement("img",{src:o(this.props.avatar)}):r.createElement("i",{className:"ev-icon ev-icon-user"})},render:function(){return r.createElement("button",{className:this.getClassName(),"aria-label":this.getAriaLabel(),onClick:this.props.onClick},this.renderLabel(),this.renderAvatar())}});e.exports=c},20188:(e,t,n)=>{const s=n(52898),r=n(54794);var i=n(27378),o=n(90005),c=s({displayName:"CaptureToolsFeedback",getClassName:function(){return o("ev-capture-tools-feedback",{"ev-is-open":this.props.isOpen})},getStyles:function(){var e=this.props.interaction._appearance||{};return{visibility:this.props.isOpen?"visible":"hidden",backgroundColor:e.feedbackBackgroundColor,color:e.feedbackTextColor}},getFeedbackBody:function(){var e=this.props.interaction._feedbackPopup.body;return i.createElement(r,{className:"ev-capture-tools-feedback-body","aria-live":"polite",id:"ev-capture-tools-feedback-body",html:e})},onCloseFeedbackClicked:function(e){e.preventDefault(),this.props.resetScreen(),this.props.setFeedbackPopup(null),this.props.restoreFocus("ev-capture-content")},render:function(){if(this.props.interaction._feedbackPopup){var e=this.props.interaction._captureButtons||{};return i.createElement("div",{role:"dialog","aria-describedby":"ev-capture-tools-feedback-body",className:this.getClassName(),style:this.getStyles()},i.createElement("div",{className:"ev-capture-tools-feedback-content"},this.getFeedbackBody(),i.createElement("button",{autoFocus:!0,className:"ev-button",onClick:this.onCloseFeedbackClicked},e.feedbackButtonText)),i.createElement("div",{className:"ev-capture-tools-feedback-pin"}))}return null}});e.exports=c},76239:(e,t,n)=>{const s=n(52898);var r=n(27378),i=s({displayName:"CaptureToolsFullScreenButton",onFullScreenClicked:function(e){e.preventDefault(),this.props.toggleFullScreenMode()},render:function(){if(this.props.hasStarted){var e="expand4";return this.props.isFullScreenMode&&(e="contract3"),r.createElement("button",{onClick:this.onFullScreenClicked,className:"ev-capture-tools-full-screen-button"},r.createElement("i",{className:"ev-icon ev-icon-"+e}))}return null}});e.exports=i},91284:(e,t,n)=>{const s=n(99729),r=n(52898);var i=n(27378),o=n(90005),c=r({displayName:"CaptureToolsMenu",onCloseCaptureButtonClicked:function(){this.props.toggleMenuOpen(),this.props.toggleFullScreenMode()},onScenarioButtonClicked:function(){this.props.toggleMenuOpen(),this.props.toggleScenarioOpen()},onInstructionsButtonClicked:function(){this.props.toggleMenuOpen(),this.props.openInstructions()},renderPreviousScreenButton:function(){if(this.props.interaction._isReviewing){var e=s(this.props.interaction,"_captureButtons.previousScreenButtonText","Previous Screen");return i.createElement("button",{className:"ev-capture-tools-menu-item",onClick:this.props.navigateToPreviousScreen},i.createElement("div",{className:"ev-capture-tools-menu-item-label"},e),i.createElement("i",{className:"ev-icon ev-icon-arrow-left-circle"}))}},renderScenarioButton:function(){if(this.props.interaction.scenarioBody){var e=this.props.interaction._captureButtons||{};return i.createElement("button",{className:"ev-capture-tools-menu-item",onClick:this.onScenarioButtonClicked},i.createElement("div",{className:"ev-capture-tools-menu-item-label"},e.openScenarioButtonText),i.createElement("i",{className:"ev-icon ev-icon-bubble-text"}))}},renderNextScreenButton:function(){if(this.props.interaction._isReviewing){var e=s(this.props.interaction,"_captureButtons.nextScreenButtonText","Next Screen");return i.createElement("button",{className:"ev-capture-tools-menu-item",onClick:this.props.navigateToNextScreen},i.createElement("div",{className:"ev-capture-tools-menu-item-label"},e),i.createElement("i",{className:"ev-icon ev-icon-arrow-right-circle"}))}},renderInstructionsButton:function(){if(!this.props.interaction._isReviewing){var e=this.props.interaction._captureButtons||{};return i.createElement("button",{className:"ev-capture-tools-menu-item",onClick:this.onInstructionsButtonClicked},i.createElement("div",{className:"ev-capture-tools-menu-item-label"},e.openInstructionsButtonText),i.createElement("i",{className:"ev-icon ev-icon-bubble-dots"}))}},render:function(){var e=o("ev-capture-tools-menu",{"ev-is-open":this.props.isOpen}),t=this.props.interaction._captureButtons||{};return i.createElement("div",{className:e},i.createElement("button",{className:"ev-capture-tools-menu-item",onClick:this.onCloseCaptureButtonClicked},i.createElement("div",{className:"ev-capture-tools-menu-item-label"},t.closeCaptureButtonText),i.createElement("i",{className:"ev-icon ev-icon-contract3"})),this.renderScenarioButton(),this.renderPreviousScreenButton(),this.renderNextScreenButton(),this.renderInstructionsButton())}});e.exports=c},90401:(e,t,n)=>{const s=n(66259),r=n(52898);var i=n(27378),o=r({displayName:"CaptureToolsProgressBar",render:function(){var e=this.props.interaction._screens,t=100/e.length*(s(e,(e=>{if(e._id===this.props.currentScreen._id)return e}))+1);return i.createElement("div",{className:"ev-progress-bar ev-capture-tools-progress-bar"},i.createElement("div",{className:"ev-progress-bar-indicator"},i.createElement("div",{className:"ev-progress-bar-indicator-inner",style:{width:t+"%"}})))}});e.exports=o},69739:(e,t,n)=>{const s=n(52898);var r=n(27378),i=n(90005);n(90401),n(17674);const o=n(54794);var c=s({displayName:"CaptureToolsSpeech",componentDidUpdate:function({isOpen:e}){const{props:t}=this;e!==t.isOpen&&t.isOpen&&this._next.focus()},getStyles:function(){var e=this.props.interaction._appearance||{};return{visibility:this.props.isOpen?"visible":"hidden",backgroundColor:e.instructionsBackgroundColor,color:e.instructionsTextColor}},getNextButtonText:function(){var e=this.props.interaction._captureButtons.nextInstructionButtonText;if(e)return r.createElement("span",{className:"ev-capture-tools-speech-next-button-text"},e)},render:function(){var e=i("ev-capture-tools-speech ev-clearfix",{"ev-is-open":this.props.isOpen});return r.createElement("div",{className:e,style:this.getStyles()},r.createElement("div",{className:"ev-capture-tools-speech-content"},r.createElement(o,{className:"ev-capture-tools-speech-text ev-body",html:this.props.text}),r.createElement("button",{autoFocus:!0,ref:e=>this._next=e,className:"ev-capture-tools-speech-next-button",onClick:this.props.onNextInstructionsClicked},this.getNextButtonText(),r.createElement("i",{className:"ev-icon ev-icon-chevron-right ev-capture-tools-speech-next-button-icon"}))),r.createElement("div",{className:"ev-capture-tools-speech-pin"}))}});e.exports=c},37118:(e,t,n)=>{const s=n(72856),r=n(52898);var i=n(27378),o=n(31491);const c=n(54794);var a=r({displayName:"CaptureDisplayTextArea",getPositioning:function(){return o.getPositioning(this.props)},getElementStyles:function(){return o.getElementStyles(this.props,{_isHovered:!1,_isDisabled:!1,_isFocused:!1})},getText:function(){return this.props.item._existingValue?this.getExistingValue():this.props.item.text},getExistingValue:function(){var e=this.props.interaction._screens,t="";return s(e,(e=>{s(e._items,(e=>{e._id===this.props.item._existingValue&&(t=e.value)}))})),t},render:function(){return i.createElement("div",{style:this.getPositioning(),className:"ev-capture-item ev-capture-display-text-area"},i.createElement(c,{style:this.getElementStyles(),html:this.getText()}))}});e.exports=a},92637:(e,t,n)=>{const s=n(29115),r=n(52898);var i=n(27378),o=n(31491),c=n(90005),a=n(13756),p=r({displayName:"CaptureInputButton",getInitialState:function(){return{_isHovered:!1,_isFocused:!1,_isDisabled:!1}},getPositioning:function(){return o.getPositioning(this.props)},getClassName:function(){var e=this.props.interaction._isComplete,t=this.props.item._isMarkable;if(this.props.isShowingCorrectAnswer)var n=c("ev-capture-item ev-capture-input-button",{"ev-is-correct":e&&"submit"===this.props.item._actionType&&"accept"===this.props.item._actionResult});else n=c("ev-capture-item ev-capture-input-button",{"ev-is-correct":t&&e&&this.props.item._isCorrect,"ev-is-incorrect":t&&e&&!this.props.item._isCorrect});return n},getElementStyles:function(){const e=o.getElementStyles(this.props,this.state);let t=e.textAlign;return"right"===t?t="flex-end":"left"===t&&(t="flex-start"),s({},e,{justifyContent:t})},getLeftIcon:function(){if("left"===this.props.item._iconPosition){if(this.props.item._shouldUseIconImage&&this.props.item._iconImage)return this.getIconImage("left");if(!this.props.item._shouldUseIconImage&&this.props.item._icon)return this.getIcon("left")}},getRightIcon:function(){if("right"===this.props.item._iconPosition){if(this.props.item._shouldUseIconImage&&this.props.item._iconImage)return this.getIconImage("right");if(!this.props.item._shouldUseIconImage&&this.props.item._icon)return this.getIcon("right")}},getIconImage:function(e){var t=a(this.props.item._iconImage),n="5px",s="0px";"left"===e&&(n="0px",s="5px");var r={width:this.props.item._iconSize,marginLeft:n,marginRight:s,display:"inline",verticalAlign:"sub"};return i.createElement("img",{src:t,style:r})},getIcon:function(e){var t="5px",n="0px";"left"===e&&(t="0px",n="5px");var s={fontSize:this.props.item._iconSize,width:this.props.item._iconSize,height:this.props.item._iconSize,color:"inherit",marginLeft:t,marginRight:n};return i.createElement("i",{style:s,className:"ev-icon ev-icon-"+this.props.item._icon})},submitScreen:function(){var e=this.props.item;if(this.props.elementMethods.setButtonAsClicked(e._id),"submit"===e._actionType){if("accept"===e._actionResult)return this.props.submitScreen(e._id);if("reject"===e._actionResult)return this.props.rejectScreen(e._id);if("fail"===e._actionResult)return this.props.failScreen(e._id)}},onClick:function(e){e.preventDefault(),e.stopPropagation(),e.target.blur(),this.submitScreen()},onMouseEnter:function(){this.props.item._shouldSubmitOnHover&&this.submitScreen(),this.setState({_isHovered:!0})},onMouseLeave:function(){this.setState({_isHovered:!1})},onFocus:function(){this.setState({_isFocused:!0})},onBlur:function(){this.setState({_isFocused:!1})},render:function(){return i.createElement("div",{style:this.getPositioning(),className:this.getClassName()},i.createElement("button",{className:"ev-button ev-no-accessibility-focus",style:this.getElementStyles(),onClick:this.onClick,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,onFocus:this.onFocus,onBlur:this.onBlur,"aria-label":this.props.item.ariaLabel},this.getLeftIcon(),i.createElement("span",null,this.props.item.text),this.getRightIcon()))}});e.exports=p},25763:(e,t,n)=>{const s=n(52898);var r=n(27378),i=n(31491),o=n(13756);const c=n(13914);var a=s({displayName:"CaptureInputCheckbox",getInitialState:function(){return{_isHovered:!1,_isFocused:!1,_isDisabled:!1}},componentWillMount:function(){this.props.item.value},getPositioning:function(){return i.getPositioning(this.props)},getElementStyles:function(){return i.getElementStyles(this.props,this.state)},getCheckboxImageStyles:function(){return{width:this.props.item.checkboxSize}},getLabel:function(e){if(this.props.item.label)return r.createElement("label",{tabIndex:"0",style:this.getLabelStyles(),className:"ev-capture-input-checkbox-label",htmlFor:this.props.item._id},this.props.item.label)},getLabelStyles:function(){return i.getLabelStyles(this.props)},onChange:function(e){this.props.updateFormValue(this.props.item._id,e.target.checked)},onMouseEnter:function(){this.setState({_isHovered:!0})},onMouseLeave:function(){this.setState({_isHovered:!1})},onFocus:function(){this.setState({_isFocused:!0})},onBlur:function(){this.setState({_isFocused:!1})},onKeyPress:function(e){c.isEnterKey(e)&&this.onCheckedImageClicked()},onCheckedImageClicked:function(){this.props.updateFormValue(this.props.item._id,!this.props.item.value)},getComponent:function(){switch(this.props.item._checkboxPosition){case"top":return r.createElement("span",{className:"ev-capture-input-checkbox-position-top"},this.renderCheckbox(),this.getLabel());case"bottom":return r.createElement("span",{className:"ev-capture-input-checkbox-position-bottom"},this.getLabel(),this.renderCheckbox());case"left":return r.createElement("span",{className:"ev-capture-input-checkbox-position-left"},this.renderCheckbox(),this.getLabel());case"right":return r.createElement("span",{className:"ev-capture-input-checkbox-position-right"},this.getLabel(),this.renderCheckbox())}},renderCheckbox:function(){this.getElementStyles();var e=this.props.item;return this.props.item.uncheckedImage?r.createElement("div",{className:"ev-capture-input-checkbox-custom"},r.createElement("div",{className:"ev-capture-input-checkbox-custom-image"},r.createElement("img",{role:"checkbox","aria-checked":!0===e.value,tabIndex:"0",onClick:this.onCheckedImageClicked,onKeyPress:this.onKeyPress,style:this.getCheckboxImageStyles(),src:e.value?o(e.checkedImage):o(e.uncheckedImage)})),r.createElement("input",{type:"checkbox",style:{marginLeft:"-9999px"},id:this.props.item._id,checked:e.value,tabIndex:"-1",onChange:this.onChange,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,onFocus:this.onFocus,onBlur:this.onBlur})):r.createElement("input",{type:"checkbox",style:this.getElementStyles(),id:this.props.item._id,checked:e.value,onChange:this.onChange,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,onFocus:this.onFocus,onBlur:this.onBlur})},render:function(){return r.createElement("div",{style:this.getPositioning(),className:"ev-capture-item ev-capture-input-checkbox"},this.getComponent())}});e.exports=a},82041:(e,t,n)=>{var s=n(7914)(n(2398));const r=n(29115),i=n(55807),o=n(64925),c=n(52898);var a=n(27378),p=n(31491),l=n(43992);const u=(0,n(5254).Z)(c({displayName:"CaptureInputDropDown",getInitialState:function(){return{_isOpen:!1,_isHovered:!1,_isFocused:!1,_isDisabled:!1,_selectedOption:null,listOptionOffset:"0px"}},getPositioning:function(){return p.getPositioning(this.props)},getElementStyles:function(){return p.getElementStyles(this.props,this.state)},getLeftIcon:function(){return this.props.item._icon&&"left"===this.props.item._iconPosition?this.getIcon("left"):null},getRightIcon:function(){return this.props.item._icon&&"right"===this.props.item._iconPosition?this.getIcon("right"):null},getIcon:function(e){var t={fontSize:this.props.item._iconSize,width:this.props.item._iconSize,height:this.props.item._iconSize};return a.createElement("i",{style:t,className:"ev-icon ev-icon-"+this.props.item._icon+" ev-icon-position-"+e})},getListStyles:function(){if(this.props.item._listStyles){var e={};return this.props.item._shouldDisplayDropDownOnRight&&(e={right:this.state.listOptionOffset}),r({},this.props.item._listStyles._default,e)}return{}},setListItemOffset:function(){const{dropDownList:e,dropDownButton:t}=this.refs;var n="0px";this.props.item._shouldDisplayDropDownOnRight&&(n=e.clientWidth-t.clientWidth+"px"),this.setState({listOptionOffset:n})},getDropDown:function(){return this.state._isOpen?a.createElement("div",{style:this.getListStyles(),className:"ev-capture-input-drop-down-list"},this.getListItems()):null},getListItems:function(){return i(this.props.item._options,(e=>a.createElement(l,{key:e.text,interaction:this.props.interaction,item:this.props.item,option:e,elementMethods:this.props.elementMethods,submitScreen:this.props.submitScreen,rejectScreen:this.props.rejectScreen,failScreen:this.props.failScreen,closeDropDown:this.closeDropDown,onOptionClicked:this.onOptionClicked})))},handleClickOutside:function(){this.closeDropDown()},closeDropDown:function(){this.setState({_isOpen:!1})},onClick:function(e){e.preventDefault(),this.setState({_isOpen:!this.state._isOpen},(function(){this.setListItemOffset()}))},onMouseEnter:function(){this.setState({_isHovered:!0})},onMouseLeave:function(){this.setState({_isHovered:!1})},onFocus:function(){this.setState({_isFocused:!0})},onBlur:function(){this.setState({_isFocused:!1})},onOptionClicked:function(e){this.setState({_selectedOption:e.text,_isOpen:!1})},render:function(){var e=this.props.item.text;return this.state._selectedOption&&(e=o(this.props.item._options,{text:this.state._selectedOption}).text),a.createElement("div",{style:this.getPositioning(),className:"ev-capture-item ev-capture-input-drop-down"},a.createElement("button",{style:this.getElementStyles(),onClick:this.onClick,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,onFocus:this.onFocus,onBlur:this.onBlur,ref:"dropDownButton"},this.getLeftIcon(),a.createElement("span",null,e),this.getRightIcon()),a.createElement("div",{ref:"dropDownList"},this.getDropDown()))}})),d=c({displayName:"Container",render:function(){return a.createElement(u,(0,s.default)({disableOnClickOutside:1!=this.props.item._shouldCloseWhenOutsideIsClicked},this.props))}});e.exports=d},43992:(e,t,n)=>{const s=n(52898);var r=n(27378),i=n(31491),o=s({displayName:"CaptureInputDropDownItem",getInitialState:function(){return{_isHovered:!1}},getOptionGroupStyles:function(){return this.props.item._optionGroupStyles?this.props.item._optionGroupStyles._default:{}},getOptionStyles:function(){return i.getOptionStyles(this.props,this.state)},onClick:function(e){e.preventDefault();var t=this.props.item,n=this.props.option;if(this.props.elementMethods.setDropDownOptionAsClicked(t._id,n.text),"submit"===n._actionType){if(this.props.closeDropDown(),"accept"===n._actionResult)return this.props.submitScreen(t._id);if("reject"===n._actionResult)return this.props.rejectScreen(t._id);if("fail"===n._actionResult)return this.props.failScreen(t._id)}else"change"===n._actionType&&this.props.onOptionClicked(n)},onMouseEnter:function(){this.setState({_isHovered:!0})},onMouseLeave:function(){this.setState({_isHovered:!1})},render:function(){return"optgroup"===this.props.option._type?r.createElement("div",{style:this.getOptionGroupStyles(),className:"ev-capture-input-drop-down-option-group"},this.props.option.text):r.createElement("button",{className:"ev-capture-input-drop-down-option",onClick:this.onClick,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},r.createElement("span",{style:this.getOptionStyles()},this.props.option.text))}});e.exports=o},22528:(e,t,n)=>{const s=n(98779),r=n(74867),i=n(52898);var o=n(27378),c=n(31491),a=n(17626),p=i({displayName:"CaptureInputHoverOverlay",getInitialState:function(){return{_isHovered:!1,_isFocused:!1,_isDisabled:!1,_hasPopupOpen:!1}},getPositioning:function(){return c.getPositioning(this.props)},getElementStyles:function(){return c.getElementStyles(this.props,this.state)},getPopup:function(){if(this.state._hasPopupOpen)return o.createElement(a,{onPopupButtonClicked:this.onPopupButtonClicked,item:this.props.item})},onPopupButtonClicked:function(e){e.preventDefault(),e.target.blur();var t=this.props.item;if(this.props.elementMethods.setButtonAsClicked(t._id),"submit"===t._actionType){if("accept"===t._actionResult)return this.props.submitScreen(t._id);if("reject"===t._actionResult)return this.props.rejectScreen(t._id);if("fail"===t._actionResult)return this.props.failScreen(t._id)}},onMouseEnter:function(){this.setState({_isHovered:!0,_hasPopupOpen:!0})},onMouseLeave:function(){this.setState({_isHovered:!1}),s(r((function(){!this.state._isHovered&&this.state._hasPopupOpen&&this.setState({_hasPopupOpen:!1})}),this),300)},onFocus:function(){this.setState({_isFocused:!0})},onBlur:function(){this.setState({_isFocused:!1})},render:function(){return o.createElement("div",{style:this.getPositioning(),className:"ev-capture-item ev-capture-input-hover-overlay"},o.createElement("div",{className:"ev-capture-item ev-capture-input-hover-overlay-holder",onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},o.createElement("button",{style:this.getElementStyles()},o.createElement("span",null,this.props.item.text)),this.getPopup()))}});e.exports=p},17626:(e,t,n)=>{const s=n(52898);var r=n(27378),i=n(13756),o=s({displayName:"CaptureInputHoverOverlayPopup",getInitialState:function(){return{height:0}},componentDidMount:function(){this.setHeight()},setHeight:function(){var e=this.refs.popup.clientHeight;this.setState({height:e})},getStyles:function(){return{marginTop:-this.state.height/2-5+"px"}},getPopupImage:function(){if(this.props.item.popupImage)return r.createElement("img",{onLoad:this.setHeight,alt:this.props.item.alt,src:i(this.props.item.popupImage)})},getPopupButtons:function(){if(this.props.item.popupButtonText)return r.createElement("div",{className:"ev-capture-input-hover-overlay-popup-buttons"},r.createElement("button",{className:"ev-capture-input-hover-overlay-popup-button",onClick:this.props.onPopupButtonClicked},this.props.item.popupButtonText))},render:function(){return r.createElement("div",{className:"ev-capture-input-hover-overlay-popup",ref:"popup",style:this.getStyles()},r.createElement("div",{className:"ev-capture-input-hover-overlay-popup-content"},this.getPopupImage()),this.getPopupButtons(),r.createElement("div",{className:"ev-capture-input-hover-overlay-popup-pin"}))}});e.exports=o},36774:(e,t,n)=>{const s=n(52898);var r=n(27378),i=n(31491),o=s({displayName:"CaptureInputRadioOption",getElementStyles:function(){return{}},getLabelStyles:function(){return i.getLabelStyles(this.props)},onChange:function(e){this.props.onChange(this.props.option.value)},renderInput:function(){var e=this.props.option.value===this.props.value;return this.props.isShowingCorrectAnswer&&(e=this.props.option.value===this.props.item._result),r.createElement("input",{type:"radio",style:this.getElementStyles(),id:this.props.item._id,checked:e,onChange:this.onChange,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,onFocus:this.onFocus,onBlur:this.onBlur})},renderLabel:function(){return r.createElement("label",null,this.renderInput(),r.createElement("span",{style:this.getLabelStyles()}," ",this.props.option.label))},render:function(){return r.createElement("div",null,this.renderLabel())}});e.exports=o},46391:(e,t,n)=>{const s=n(55807),r=n(52898);var i=n(27378),o=n(90005),c=n(31491),a=n(36774),p=r({displayName:"CaptureInputRadioOptions",getInitialState:function(){return{value:this.props.item.value}},getClassName:function(){var e=this.props.interaction._isComplete,t=this.props.item._isMarkable;if(this.props.isShowingCorrectAnswer)var n=o("ev-capture-item ev-capture-input-radio-options",{"ev-is-correct":e});else n=o("ev-capture-item ev-capture-input-radio-options",{"ev-is-correct":t&&e&&this.props.item._isCorrect,"ev-is-incorrect":t&&e&&!this.props.item._isCorrect});return n},getPositioning:function(){return c.getPositioning(this.props)},onOptionChanged:function(e){this.props.interaction._isComplete||this.setState({value:e},(function(){this.props.updateFormValue(this.props.item._id,e)}))},renderRadioOptions:function(){var e=this.props.item._options;return s(e,((e,t)=>i.createElement(a,{item:this.props.item,option:e,key:t,onChange:this.onOptionChanged,value:this.state.value,isShowingCorrectAnswer:this.props.isShowingCorrectAnswer})))},render:function(){return i.createElement("div",{style:this.getPositioning(),className:this.getClassName()},this.renderRadioOptions())}});e.exports=p},59414:(e,t,n)=>{const s=n(29115),r=n(72856),i=n(69238),o=n(55807),c=n(52898);var a=n(27378),p=n(90005),l=n(31491),u=n(67662),d=n(51269),h=n(5254).Z,m=[{_value:"aeonic",text:"Aeonic Trading Desk",_shouldBeSelected:!1,_items:[{_value:"tedsTravel",text:"Ted's Travel",_shouldBeSelected:!1},{_value:"mariasboutique",text:"Maria's Boutique",_shouldBeSelected:!1},{_value:"fareenasflowers",text:"Fareena's Flowers",_shouldBeSelected:!1}]},{_value:"adworld",text:"adWorld",_shouldBeSelected:!1,_items:[{_value:"surfnboard",text:"Surf-N-Board",_shouldBeSelected:!1},{_value:"caitscaps",text:"CAIT'S CAPS",_shouldBeSelected:!0},{_value:"kidapparel",text:"KidApparel",_shouldBeSelected:!1},{_value:"sportsgear",text:"Sports Gear",_shouldBeSelected:!1}]}],_=[{_value:"aeonic",text:"Aeonic Trading Desk",_shouldBeSelected:!1,_items:[{_value:"tedsTravel",text:"Ted's Travel",_shouldBeSelected:!1},{_value:"mariasboutique",text:"Maria's Boutique",_shouldBeSelected:!1},{_value:"fareenasflowers",text:"Fareena's Flowers",_shouldBeSelected:!1}]},{_value:"adworld",text:"adWorld",_shouldBeSelected:!1,_items:[{_value:"surfnboard",text:"Surf-N-Board",_shouldBeSelected:!1},{_value:"caitscaps",text:"CAIT'S CAPS",_shouldBeSelected:!1},{_value:"kidapparel",text:"KidApparel",_shouldBeSelected:!1},{_value:"sportsgear",text:"Sports Gear",_shouldBeSelected:!0}]}],S=c({displayName:"CaptureInputSearchDropDown",getInitialState:function(){return this.props.item._options.length>0&&(m=_),{_isOpen:!1,_isHovered:!1,_isFocused:!1,_isDisabled:!1,options:m,searchValue:""}},componentDidMount:function(){this.matchSearchQuery(this.state.searchValue)},getClassName:function(){var e=this.props.interaction._isComplete,t=this.props.item._isMarkable;if(this.props.isShowingCorrectAnswer)var n=p("ev-capture-item ev-capture-input-search-drop-down",{"ev-is-correct":e});else n=p("ev-capture-item ev-capture-input-search-drop-down",{"ev-is-correct":t&&e&&this.props.item._isCorrect,"ev-is-incorrect":t&&e&&!this.props.item._isCorrect});return n},getPositioning:function(){return l.getPositioning(this.props)},getDropDownStyles:function(){return{position:"absolute",backgroundColor:"#fff",boxShadow:"0 2px 4px rgba(0,0,0,0.2)",border:"1px solid rgba(0,0,0,0.2)",zIndex:1e4}},getDropDownOptionsStyles:function(){return{height:"200px",width:"500px",borderBottom:"1px #ccc solid",overflowY:"auto"}},getInputStyles:function(){var e={};return this.state._isFocused&&(e={boxShadow:"inset 0 1px 2px rgba(0,0,0,0.3)",outline:"none",borderColor:"#4d90fe"}),s({},{boxSizing:"border-box",height:"29px",padding:"6px 8px",border:"1px solid #d9d9d9",borderTop:"1px solid silver",lineHeight:"15px",color:"#333",verticalAlign:"baseline",borderRadius:"1px",width:"300px",backgroundColor:"#fff",transition:"none"},e)},checkSelectedItems:function(){r(this.state.options,(function(e){var t=i(e._items,{_isSelected:!0});t.length===e._items.length?(e._isSelected=!0,e._isPartiallySelected=!1):t.length>0?(e._isSelected=!1,e._isPartiallySelected=!0):(e._isSelected=!1,e._isPartiallySelected=!1)}))},matchSearchQuery:function(e){var t=0===e.length;r(this.state.options,(n=>{var s=!1,i=!1;n.text.toLowerCase().indexOf(e)>=0&&e.length>0&&(s=!0),r(n._items,(t=>{t.text.toLowerCase().indexOf(e)>=0&&e.length>0&&(s=!0,i=!0)})),t||s?(n._isVisible=!0,n._isOpen=i):(n._isVisible=!1,n._isOpen=!1)}))},resetOptionSelection:function(){r(this.state.options,(function(e){e._isSelected=!1,e._isPartiallySelected=!1,e._isOpen=!1,r(e._items,(function(e){e._isSelected=!1}))}))},storeUserSelection:function(){r(this.state.options,(function(e){e._isSelected?e._hasBeenSelected=!0:e._hasBeenSelected=!1,r(e._items,(function(e){e._isSelected?e._hasBeenSelected=!0:e._hasBeenSelected=!1}));var t=i(e._items,{_hasBeenSelected:!0});t.length===e._items.length?e._hasBeenPartiallySelected=!1:t.length>0?e._hasBeenPartiallySelected=!0:e._hasBeenPartiallySelected=!1}))},handleClickOutside:function(){this.setState({_isFocused:!1,_isOpen:!1})},onChange:function(e){var t=e.target.value.toLowerCase();this.matchSearchQuery(t),this.setState({searchValue:t,options:this.state.options})},onFocus:function(){this.resetOptionSelection(),this.setState({options:this.state.options,_isFocused:!0,_isOpen:!0})},onDoneClicked:function(){this.storeUserSelection(),this.setState({_isFocused:!1,_isOpen:!1,options:this.state.options},(function(){this.props.elementMethods.setSearchDropDownOptions(this.props.item._id,this.state.options)}))},onOptionToggleClicked:function(e){e._isOpen=!e._isOpen,this.setState({options:this.state.options})},onOptionSelectClicked:function(e){e._isSelected=!e._isSelected,r(e._items,(function(t){t._isSelected=e._isSelected})),this.checkSelectedItems(),this.setState({options:this.state.options})},onOptionItemSelectClicked:function(e){e._isSelected=!e._isSelected,this.checkSelectedItems(),this.setState({options:this.state.options})},renderDropDown:function(){if(this.state._isOpen)return a.createElement("div",{className:"ev-capture-input-search-drop-down-list",style:this.getDropDownStyles()},a.createElement("div",{className:"ev-capture-input-search-drop-down-options",style:this.getDropDownOptionsStyles()},this.renderDropDownOptions()),this.renderDropDownButtons())},renderDropDownOptions:function(){var e=this.state.options;return o(e,((e,t)=>{if(e._isVisible)return a.createElement(u,{key:e._value+t,option:e,hasNestedItems:!0,onOptionToggleClicked:this.onOptionToggleClicked,onOptionSelectClicked:this.onOptionSelectClicked,onOptionItemSelectClicked:this.onOptionItemSelectClicked})}))},renderDropDownButtons:function(){return a.createElement("div",{className:"ev-capture-input-search-drop-down-buttons"},this.renderDoneButton())},renderDoneButton:function(){return a.createElement("button",{onClick:this.onDoneClicked,className:"ev-button ev-capture-input-search-drop-down-done-button"},"Done")},renderSelectedOptions:function(){return o(this.state.options,((e,t)=>{if(e._hasBeenSelected||e._hasBeenPartiallySelected)return a.createElement(d,{key:e._value+t,option:e})}))},render:function(){return a.createElement("div",{style:this.getPositioning(),className:this.getClassName()},a.createElement("input",{type:"text",onChange:this.onChange,onFocus:this.onFocus,value:this.state.searchValue,className:"ev-capture-input-search-drop-down-input",style:this.getInputStyles(),placeholder:this.props.item.placeholder}),this.renderDropDown(),this.renderSelectedOptions())}});e.exports=h(S)},67662:(e,t,n)=>{const s=n(55807),r=n(52898);var i=n(27378),o=n(16042),c=r({displayName:"CaptureInputSearchDropDownOption",componentWillUpdate:function(e){},getOptionToggleStyle:function(){var e='url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALCAYAAACprHcmAAAAKElEQVR42mP4TwJgoEhxZGQkaYpxacCpGJsGvIrRNVDHZOqHBtUiBQD+7sMMe4NSLAAAAABJRU5ErkJggg==")  -0px -0px no-repeat';return this.props.option._isOpen&&(e='url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALCAYAAACprHcmAAAAJUlEQVR42mP4TwJgGGSKIyMjcWKsJuNTiNUZuBTidDM2hYMo6ABfasMMLi1rYgAAAABJRU5ErkJggg==")  -0px -0px no-repeat'),{height:"11px",width:"11px",overflow:"hidden",display:"inline-block",opacity:.55,background:e}},getOptionSelectStyle:function(){var e="none",t="0px 0px";return this.props.option._isPartiallySelected&&(e="url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAVAQMAAACT2TfVAAAABlBMVEXd3d10dHThX6XJAAAAAXRSTlMAQObYZgAAABFJREFUCNdjYCASMP+DYCIAAFCqAgPY2xgtAAAAAElFTkSuQmCC')",t="-5px -5px"),this.props.option._isSelected&&(e="url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAVCAYAAACpF6WWAAAAtklEQVQ4y2P4//8/A7Ux1Q0cxoaCADIbCUgCMTvVXAoE5kA8CYidyXYpGrAH4iVAHIXiCwoMDQTimUBcBsRMlBrKCsTpUANzkC0j11BuIK6EGlgKsoAkQ4FgChD7AzELVI8YEDdDDawDYk6YQaQY6gg1oAqILYC4D8oHGcyLbBAphoJAKtQgGO4EYiHk2CLHUJAXm6AG9gCxNHoSIMdQEJCFGqiALaGSayjMxQwUGzq0S6nhZygA2ojsbh6J67kAAAAASUVORK5CYII=')",t="-6px -3px"),{height:"11px",width:"11px",overflow:"hidden",display:"inline-block",opacity:.55,backgroundPosition:t,backgroundColor:"rgba(255,255,255,0.65)",backgroundImage:e,border:"1px solid rgba(155,155,155,0.57)"}},getOptionStyles:function(){return{minHeight:"20px",minWidth:"20px"}},onOptionToggleClicked:function(){this.props.onOptionToggleClicked(this.props.option)},onOptionSelectClicked:function(){this.props.onOptionSelectClicked(this.props.option)},renderNestedItems:function(){if(this.props.hasNestedItems&&this.props.option._isOpen)return i.createElement("div",{className:"ev-capture-input-search-drop-down-option-items"},this.renderOptionItems())},renderOptionItems:function(){return s(this.props.option._items,((e,t)=>i.createElement(o,{key:e._value+t,item:e,onOptionItemSelectClicked:this.props.onOptionItemSelectClicked})))},render:function(){return i.createElement("div",null,i.createElement("div",{style:this.getOptionStyles()},i.createElement("span",{style:this.getOptionToggleStyle(),onClick:this.onOptionToggleClicked,className:"ev-capture-input-search-drop-down-option-toggle"}),i.createElement("span",{style:this.getOptionSelectStyle(),onClick:this.onOptionSelectClicked,className:"ev-capture-input-search-drop-down-option-select"}),i.createElement("span",{className:"ev-capture-input-search-drop-down-option-text"},this.props.option.text)),this.renderNestedItems())}});e.exports=c},16042:(e,t,n)=>{const s=n(52898);var r=n(27378),i=s({displayName:"CaptureInputSearchDropDownOptionItem",getItemSelectStyle:function(){var e="none";return backgroundPosition="0px 0px",this.props.item._isPartiallySelected&&(e="url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAVAQMAAACT2TfVAAAABlBMVEXd3d10dHThX6XJAAAAAXRSTlMAQObYZgAAABFJREFUCNdjYCASMP+DYCIAAFCqAgPY2xgtAAAAAElFTkSuQmCC')",backgroundPosition="-5px -5px"),this.props.item._isSelected&&(e="url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAVCAYAAACpF6WWAAAAtklEQVQ4y2P4//8/A7Ux1Q0cxoaCADIbCUgCMTvVXAoE5kA8CYidyXYpGrAH4iVAHIXiCwoMDQTimUBcBsRMlBrKCsTpUANzkC0j11BuIK6EGlgKsoAkQ4FgChD7AzELVI8YEDdDDawDYk6YQaQY6gg1oAqILYC4D8oHGcyLbBAphoJAKtQgGO4EYiHk2CLHUJAXm6AG9gCxNHoSIMdQEJCFGqiALaGSayjMxQwUGzq0S6nhZygA2ojsbh6J67kAAAAASUVORK5CYII=')",backgroundPosition="-6px -3px"),{height:"11px",width:"11px",overflow:"hidden",display:"inline-block",opacity:.55,backgroundImage:e,backgroundPosition,border:"1px solid rgba(155,155,155,0.57)",backgroundColor:"rgba(255,255,255,0.65)"}},onOptionItemSelectClicked:function(){this.props.onOptionItemSelectClicked(this.props.item)},render:function(){return r.createElement("div",null,r.createElement("span",{style:this.getItemSelectStyle(),onClick:this.onOptionItemSelectClicked,className:"ev-capture-input-search-drop-down-option-item-select"}),r.createElement("span",{className:"ev-capture-input-search-drop-down-option-item-text"},this.props.item.text))}});e.exports=i},51269:(e,t,n)=>{const s=n(55807),r=n(52898);var i=n(27378),o=r({displayName:"CaptureInputSearchDropDownSelectedOption",renderSelectedItems:function(){return this.props.option._hasBeenSelected?null:s(this.props.option._items,(function(e,t){if(e._hasBeenSelected)return i.createElement("div",{key:e._value+t,className:"ev-capture-input-search-drop-down-selected-option-item"},i.createElement("div",{className:"ev-capture-input-search-drop-down-selected-option-item-text"},e.text))}))},render:function(){return i.createElement("div",null,i.createElement("div",{className:"ev-capture-input-search-drop-down-selected-option"},i.createElement("div",{className:"ev-capture-input-search-drop-down-selected-option-text"},this.props.option.text)),this.renderSelectedItems())}});e.exports=o},35333:(e,t,n)=>{const s=n(55807),r=n(52898);var i=n(27378),o=n(31491),c=r({displayName:"CaptureInputSelect",getInitialState:function(){return{_isOpen:!1,_isHovered:!1,_isFocused:!1,_isDisabled:!1}},getPositioning:function(){return o.getPositioning(this.props)},getElementStyles:function(){return o.getElementStyles(this.props,this.state)},getOptions:function(){return s(this.props.item._options,((e,t)=>i.createElement("option",{value:e.value,key:t},e.text)))},onSelectOptionChanged:function(e){this.props.updateFormValue(this.props.item._id,e.target.value)},onMouseEnter:function(){this.setState({_isHovered:!0})},onMouseLeave:function(){this.setState({_isHovered:!1})},render:function(){return i.createElement("div",{style:this.getPositioning(),className:"ev-capture-item ev-capture-input-select"},i.createElement("select",{style:this.getElementStyles(),value:this.props.item.value,onChange:this.onSelectOptionChanged,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},this.getOptions()))}});e.exports=c},68055:(e,t,n)=>{const s=n(55807),r=n(64925),i=n(29115),o=n(99825),c=n(70201),a=n(4215),p=n(52898);var l=n(27378),u=(n(92436),n(31491)),d=n(51168),h=p({displayName:"CaptureInputSlider",getInitialState:function(){return{_isHovered:!1,_isFocused:!1,_isDisabled:!1}},getPositioning:function(){return u.getPositioning(this.props)},getElementStyles:function(){return u.getElementStyles(this.props,this.state)},getWidgetStyles:function(){return this.props.item._sliderStyles._default},getSliderLabelStyles:function(){return this.props.item._sliderLabelStyles._default},getBar:function(){return l.createElement("div",{className:"ev-capture-item-slider-bar"})},getHandles:function(){var e=this.getMinStep(),t=this.getMaxStep(),n=this.getRange(e,t+1,1),r=this.getSliderWidthAsNumber();return s(this.props.item._handles,(e=>{var t=r/(n.length-1)*e._value;return l.createElement(d,{item:this.props.item,range:n,key:e._id,handle:e,sliderWidth:r,position:t,elementMethods:this.props.elementMethods,interaction:this.props.interaction})}))},getLabels:function(){var e=this.getMinStep(),t=this.getMaxStep(),n=this.getRange(e,t+1,1);return s(n,((e,t)=>{var s=r(this.props.item._steps,{_value:e});if(!s)return null;var o=100/(n.length-1)*t,c=this.getSliderLabelStyles(),a=i({},c,{left:o+"%"});return s?l.createElement("div",{key:s._value,className:"ev-capture-item-slider-label",style:a},s.label):void 0}))},getSliderWidthAsNumber:function(){return parseInt(this.props.item._sliderStyles._default.width)},getMaxStep:function(){return o(this.props.item._steps,(function(e){return e._value}))._value},getMinStep:function(){return c(this.props.item._steps,(function(e){return e._value}))._value},getRange:function(e,t){return a(e,t)},onMouseEnter:function(){this.setState({_isHovered:!0})},onMouseLeave:function(){this.setState({_isHovered:!1})},onFocus:function(){this.setState({_isFocused:!0})},onBlur:function(){this.setState({_isFocused:!1})},render:function(){return l.createElement("div",{style:this.getPositioning(),className:"ev-capture-item ev-capture-input-slider"},l.createElement("div",{className:"ev-capture-item-slider-widget",style:this.getWidgetStyles()},this.getBar(),this.getHandles(),this.getLabels()))}});e.exports=h},51168:(e,t,n)=>{const s=n(52898);var r=n(27378),i=n(48304),o=n(31491),c=s({displayName:"CaptureInputSliderHandle",getInitialState:function(){return{hasMouseDown:!1,_isHovered:!1}},getSliderHandleStyles:function(){return o.getSliderHandleStyles(this.props.handle,this.state)},onHandleStart:function(){this.setState({_isFocused:!0})},onHandleDrag:function(){this.setState({_isFocused:!0})},onHandleStop:function(e,t){this.setState({_isFocused:!1});var n=(this.props.range.length-1)/this.props.sliderWidth*t.lastX;this.props.elementMethods.setSliderHandleValue(this.props.item._id,this.props.handle._id,n)},onMouseEnter:function(){this.setState({_isHovered:!0})},onMouseLeave:function(){this.setState({_isHovered:!1})},render:function(){return r.createElement(i,{axis:"x",onStart:this.onHandleStart,onDrag:this.onHandleDrag,onStop:this.onHandleStop,bounds:{left:0,top:0,right:this.props.sliderWidth,bottom:14},defaultPosition:{x:this.props.position,y:0},grid:[100]},r.createElement("div",{onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,className:"ev-capture-item-slider-handle"},r.createElement("div",{style:this.getSliderHandleStyles(),className:"ev-capture-item-slider-handle-contents"})))}});e.exports=c},52196:(e,t,n)=>{const s=n(98779),r=n(74867),i=n(52898);var o=n(27378),c=n(31491),a=n(90005),p=i({displayName:"CaptureInputText",getInitialState:function(){return{_isHovered:!1,_isFocused:!1,_isDisabled:!1}},componentWillMount:function(){this.props.item.value},componentDidMount:function(){this.props.item._shouldAutoFocus&&s(r((function(){this.textInput.focus()}),this),300)},getPositioning:function(){return c.getPositioning(this.props)},getClassName:function(){var e=this.props.interaction._isComplete,t=this.props.item._isMarkable;if(this.props.isShowingCorrectAnswer)var n=a("ev-capture-item ev-capture-input-text",{"ev-is-correct":e&&t});else n=a("ev-capture-item ev-capture-input-text",{"ev-is-correct":t&&e&&this.props.item._isCorrect,"ev-is-incorrect":t&&e&&!this.props.item._isCorrect});return n},getElementStyles:function(){return c.getElementStyles(this.props,this.state)},getLabel:function(){if(this.props.item.label)return o.createElement("label",{style:this.getLabelStyles(),className:"ev-capture-input-text-label",htmlFor:this.props.item._id},this.props.item.label)},getLabelStyles:function(){return c.getLabelStyles(this.props)},getValue:function(){return this.props.interaction._isComplete&&this.props.isShowingCorrectAnswer&&!this.props.item._isCorrect&&this.props.item._isMarkable?this.props.item._result:this.props.item.value},onChange:function(e){this.props.updateFormValue(this.props.item._id,e.target.value)},onMouseEnter:function(){this.setState({_isHovered:!0})},onMouseLeave:function(){this.setState({_isHovered:!1})},onFocus:function(){this.setState({_isFocused:!0})},onBlur:function(){this.setState({_isFocused:!1})},onKeyPress:function(e){if(13===e.which&&this.props.item._shouldSubmitOnEnter){var t=this.props.item;return this.props.submitScreen(t._id)}},render:function(){return o.createElement("div",{style:this.getPositioning(),className:this.getClassName()},this.getLabel(),o.createElement("input",{className:"ev-no-accessibility-focus",style:this.getElementStyles(),id:this.props.item._id,value:this.getValue(),placeholder:this.props.item.placeholder,onChange:this.onChange,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,onFocus:this.onFocus,onBlur:this.onBlur,onKeyPress:this.onKeyPress,ref:e=>{this.textInput=e}}))}});e.exports=p},76758:(e,t,n)=>{const s=n(52898);var r=n(27378),i=n(31491),o=s({displayName:"CaptureInputTextArea",getInitialState:function(){return{_isHovered:!1,_isFocused:!1,_isDisabled:!1}},componentWillMount:function(){this.props.item.value},getPositioning:function(){return i.getPositioning(this.props)},getElementStyles:function(){return i.getElementStyles(this.props,this.state)},getLabel:function(){if(this.props.item.label)return r.createElement("label",{style:this.getLabelStyles(),className:"ev-capture-input-text-area-label",htmlFor:this.props.item._id},this.props.item.label)},getLabelStyles:function(){return i.getLabelStyles(this.props)},onChange:function(e){this.props.updateFormValue(this.props.item._id,e.target.value)},onMouseEnter:function(){this.setState({_isHovered:!0})},onMouseLeave:function(){this.setState({_isHovered:!1})},onFocus:function(){this.setState({_isFocused:!0})},onBlur:function(){this.setState({_isFocused:!1})},render:function(){return r.createElement("div",{style:this.getPositioning(),className:"ev-capture-item ev-capture-input-text-area"},this.getLabel(),r.createElement("textarea",{className:"ev-no-accessibility-focus",style:this.getElementStyles(),id:this.props.item._id,value:this.props.item.value,placeholder:this.props.item.placeholder,onChange:this.onChange,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,onFocus:this.onFocus,onBlur:this.onBlur}))}});e.exports=o},5347:(e,t,n)=>{const{componentCompleted:s}=n(59345),{CLOSE_FULLSCREEN:r}=n(65790),{addPrompt:i}=n(41466),{Observable:o}=n(49923),{CAPTURE_START:c,CAPTURE_SUBMIT_SCREEN:a,CAPTURE_SCREEN_CLICKED:p,CAPTURE_FAIL_SCREEN:l,CAPTURE_COMPLETED:u,captureCompleted:d}=n(3223);t.captureFinishedEpic=(e,t)=>e.ofType(c,a,l,p).mergeMap((({payload:e})=>{const{componentId:n}=e,s=t.getState().components[n];return s._isComplete&&!s._completedAt?o.of(d({componentId:n})):o.empty()})),t.captureCompletedEpic=(e,t)=>e.ofType(u).mergeMap((({payload:e})=>{const{components:n}=t.getState(),{componentId:c}=e,a=n[c],p=[s({componentId:c,state:t.getState()})];return a._completionDialog&&a._completionDialog._showCompletionDialog&&p.push(i(function(e){const{dialogTitle:t,dialogBody:n,dialogCloseButtonText:s,dialogGraphic:i}=e._completionDialog;return{title:t,body:n,_hasPriority:!0,_dismiss:{text:s,_type:r,_payload:{scrollToContentItem:e}},graphic:i}}(a))),o.of(...p)}))},2282:(e,t,n)=>{const s=n(19639);e.exports=function(e,t,n,r,i,o,c,a,p,l,u,d,h,m){var _=s(e,t,n);_.customAttributes.arc=function(e,t,n,s,r){var i=360/s*n,o=(90-i)*Math.PI/180,c=e+r*Math.cos(o),a=t-r*Math.sin(o);return{path:s==n?[["M",e,t-r],["A",r,r,0,1,1,e-.01,t-r]]:[["M",e,t-r],["A",r,r,0,+(i>180),1,c,a]]}},_.circle(t/2,n/2,p).attr({stroke:d,"stroke-width":u});var S=_.path().attr({stroke:h,"stroke-width":l,arc:[t/2,n/2,0,i,a]});_.text(t/2,n/2,o).attr({"font-size":c,fill:m,"font-weight":"bold"}),S.rotate(0,0,0).animate({arc:[t/2,n/2,r,i,a]},1900)}},74497:e=>{e.exports=function(e){const t=window.innerWidth;let n,s;return t>=parseInt(e._smallScreenSize,10)&&(e._hasSmallScreenSize?(n=e._smallScreenSize,s="small"):e._hasMediumScreenSize?(n=e._mediumScreenSize,s="medium"):e._hasLargeScreenSize&&(n=e._largeScreenSize,s="large")),t>=parseInt(e._mediumScreenSize,10)&&(e._hasMediumScreenSize?(n=e._mediumScreenSize,s="medium"):e._hasSmallScreenSize?(n=e._smallScreenSize,s="small"):e._hasLargeScreenSize&&(n=e._largeScreenSize,s="large")),t>=parseInt(e._largeScreenSize,10)&&(e._hasLargeScreenSize?(n=e._largeScreenSize,s="large"):e._hasMediumScreenSize?(n=e._mediumScreenSize,s="medium"):e._hasSmallScreenSize&&(n=e._smallScreenSize,s="small")),{screenWidth:t,captureWidth:n,screenSizeSelection:s}}},61108:(e,t,n)=>{const s=n(64925),r=n(29115);var i=n(13756),o=n(83701);e.exports=function(e,t){var n={},c={},a={};if(e.item._baseElementStyle&&(n=s(e.interaction._styles,{_id:e.item._baseElementStyle})),e.item._elementStyles&&(c=e.item._elementStyles),!n)return console.warn("A base style is missing:",e.item._baseElementStyle);var p=n._default||{},l=c._default||{},u={},d={},h={},m={},_={},S={};return t._isHovered&&(u=n._hovered||{},d=c._hovered||{}),t._isFocused&&(h=n._focused||{},m=c._focused||{}),t._isDisabled&&(_=n._disabled||{},S=c._disabled||{}),(a=r(a,p,l,u,d,h,m,_,S)).backgroundImage&&(a.backgroundImage="url('"+i(a.backgroundImage)+"')"),a.fontFamily&&(a.fontFamily=o(a.fontFamily)),a}},51661:e=>{e.exports=function(e,t){var n=t._resultsScreen||{};return t._feedback,e._isCorrect?n.correctFeedback:n.incorrectFeedback}},52595:e=>{e.exports=function(e){return{left:e.hint._left+"%",top:e.hint._top+"%"}}},611:e=>{e.exports=(e,t,n,s)=>(s=s||e._score,n._shouldScoreByAttempt&&(s=(e._scoreByAttempt||[0,0,0])[t._attemptsTaken-1]),s)},41629:(e,t,n)=>{const s=n(64925),r=n(29115);e.exports=function(e){var t={},n={},i=e.item._labelStyles||{};e.item._baseLabelStyle&&(n=s(e.interaction._styles,{_id:e.item._baseLabelStyle})||{});var o=n._default||{},c=i._default||{};return r(t,o,c)}},95019:(e,t,n)=>{const s=n(29115);var r=n(83701);e.exports=function(e,t){var n={},i={};e.item._optionStyles&&(n=e.item._optionStyles);var o=n._default||{},c={};return t._isHovered&&(c=n._hovered||{}),i=s(i,o,c),o.fontFamily&&(i.fontFamily=r(o.fontFamily)),i}},17016:e=>{e.exports=function(e){return{left:e.item._left+"%",top:e.item._top+"%"}}},19307:e=>{e.exports=function(e,t){if(t&&t.feedback&&t.feedback.length&&"<br>"!=t.feedback)return t.feedback;var n=e._feedback||{};return e._isCorrect?n.correct:1===e._attemptsTaken?n.incorrect:2===e._attemptsTaken?n.incorrectSecondAttempt:3===e._attemptsTaken?n.incorrectThirdAttempt:void 0}},80556:e=>{e.exports=function(e,t){return t&&e._feedback&&e._feedback._avatar?e._feedback._avatar:null}},33933:(e,t,n)=>{var s=n(13756),r={large:{image:"_imageLarge",externalImage:"_externalImageLarge"},medium:{image:"_imageMedium",externalImage:"_externalImageMedium"},small:{image:"_imageSmall",externalImage:"_externalImageSmall"}};e.exports=function(e,t){return e?e[r[t].externalImage]?e[r[t].externalImage]:s(e[r[t].image]):{image:null,onion:null}}},43649:(e,t,n)=>{const s=n(29115);e.exports=function(e,t){var n={},r=e._default||{},i={};t._isHovered&&(i=e._hovered||{});var o={};return t._isFocused&&(o=e._focused||{}),s(n,r,i,o)}},31491:(e,t,n)=>{var s=n(61108),r=n(41629),i=n(17016),o=n(52595),c=n(64526),a=n(25890),p=n(51661),l=n(75798),u=n(95019),d=n(43649),h=n(19307),m=n(80556),_=n(29292),S=n(348),g=n(67419),v=n(74497);e.exports={getElementStyles:s,getLabelStyles:r,getPositioning:i,getHintPositioning:o,markScreen:c,markInteraction:a,getFeedbackMessage:p,updateScreenAttempts:l,getOptionStyles:u,getSliderHandleStyles:d,getScreenFeedback:h,getScreenFeedbackAvatar:m,setScreenAsViewed:_,resetScreenItems:S,loadScreenImages:g,getCaptureWidth:v}},67419:(e,t,n)=>{const s=n(72856);n(13756);var r=n(35550),i=["_imageLarge","_onionImageLarge","_imageMedium","_onionImageMedium","_imageSmall","_onionImageSmall"];e.exports=function(e){s(e,(function(e){s(i,(function(t){e[t]&&r(e[t])}))}))}},40506:e=>{e.exports=function(e){"displayTextArea"===e._type&&(e._isMarkable=!1)}},82492:(e,t,n)=>{const s=n(611);function r(e,t,n,s){e._isMarkable=t,e._isCorrect=n,e._usersScore=s}e.exports=function(e,t,n){if("inputButton"===e._type&&"submit"===e._actionType){if("accept"===e._actionResult&&e._hasBeenClicked)return void r(e,!0,!0,s(e,t,n));if("reject"===e._actionResult&&e._hasBeenClicked)return void r(e,!0,!1,0);if(!e._hasBeenClicked)return void r(e,!1,!1,0);"fail"===e._actionResult&&r(e,!0,!1,0)}}},96658:(e,t,n)=>{const s=n(611);e.exports=function(e,t,n){"inputCheckbox"===e._type&&(e._isMarkable=!0,e._result===e.value?(e._isCorrect=!0,e._usersScore=s(e,t,n)):(e._isCorrect=!1,e._usersScore=0))}},57035:(e,t,n)=>{const s=n(64925),r=n(611);e.exports=function(e,t,n){if("inputDropDown"===e._type){e._isMarkable=!0;var i=s(e._options,{_hasBeenClicked:!0});i?"accept"===i._actionResult?(e._isCorrect=!0,e._usersScore=r(i,t,n)):("reject"===i._actionResult||"fail"===i._actionResult)&&(e._isCorrect=!1,e._usersScore=0):e._isOptionRequired?(e._isCorrect=!1,e._usersScore=0):(e._isMarkable=!1,e._usersScore=0)}}},95524:(e,t,n)=>{const s=n(611);function r(e,t,n,s){e._isMarkable=t,e._isCorrect=n,e._usersScore=s}e.exports=function(e,t,n){if("inputHoverOverlay"===e._type&&"submit"===e._actionType){if("accept"===e._actionResult&&e._hasBeenClicked)return void r(e,!0,!0,s(e,t,n));if("reject"===e._actionResult&&e._hasBeenClicked)return void r(e,!0,!1,0);if(!e._hasBeenClicked)return void r(e,!1,!1,0);"fail"===e._actionResult&&r(e,!0,!1,0)}}},91090:(e,t,n)=>{const s=n(611);e.exports=function(e,t,n){"inputRadioOptions"===e._type&&(e._isMarkable=!0,e._result===e.value?(e._isCorrect=!0,e._usersScore=s(e,t,n)):(e._isCorrect=!1,e._usersScore=0))}},27857:(e,t,n)=>{const s=n(72856),r=n(611);e.exports=function(e,t,n){if("inputSearchDropDown"===e._type){e._isMarkable=!0;var i=!0;s(e._options,(function(e){e._shouldBeSelected!==e._hasBeenSelected&&(i=!1),s(e._items,(function(e){e._shouldBeSelected!==e._hasBeenSelected&&(i=!1)}))})),i?(e._isCorrect=!0,e._usersScore=r(e,t,n)):(e._isCorrect=!1,e._usersScore=0)}}},65888:(e,t,n)=>{const s=n(611);e.exports=function(e,t,n){"inputSelect"===e._type&&(e._isMarkable=!0,e._result===e.value?(e._isCorrect=!0,e._usersScore=s(e,t,n)):(e._isCorrect=!1,e._usersScore=0))}},96690:(e,t,n)=>{const s=n(72856),r=n(64925),i=n(611);e.exports=function(e,t,n){e._isMarkable=!0,e._isCorrect=!1,s(e._handles,(function(e){e._result===e._value?e._isCorrect=!0:e._isCorrect=!1})),r(e._handles,{_isCorrect:!1})?e._usersScore=0:(e._isCorrect=!0,e._usersScore=i(e,t,n))}},39796:(e,t,n)=>{const s=n(611);e.exports=function(e,t,n){e._isMarkable=!0;var r=!1,i=!1;if("equals"===e._markingType){var o=e.value,c=e._result;e._shouldMarkStrictly||(o=o.toLowerCase().replace(/\s+/g,""),c=c.toLowerCase().replace(/\s+/g,"")),r=o===c}else if("contains"===e._markingType){o=e.value;var a=e._markingText;e._shouldMarkStrictly||(o=o.toLowerCase().replace(/\s+/g,""),a=a.toLowerCase().replace(/\s+/g,"")),r=-1!==o.indexOf(a)}else if("hasLength"===e._markingType){o=e.value;var p=e._markingNumber;r=o.length>=p}else"isLength"===e._markingType?(o=e.value,p=e._markingNumber,r=o.length===p):"equalsOrHasLength"===e._markingType&&(o=e.value,c=e._result,e._shouldMarkStrictly||(o=o.toLowerCase().replace(/\s+/g,""),c=c.toLowerCase().replace(/\s+/g,"")),(r=o===c)||(o=e.value,p=e._markingNumber,r=o.length>=p,i=e._score/2));r?(e._isCorrect=!0,e._usersScore=s(e,t,n,i)):(e._isCorrect=!1,e._usersScore=0)}},91269:(e,t,n)=>{const s=n(72856),r=n(611);e.exports=function(e,t,n){e._isMarkable=!0;var i=!1,o=!1,c=!1;s(e._results,(function(t){if(!c){if("equals"===t._markingType){var n=e.value,s=t._markingText;t._shouldMarkStrictly||(n=n.toLowerCase().replace(/\s+/g,""),s=s.toLowerCase().replace(/\s+/g,"")),i=n===s}else if("contains"===t._markingType){n=e.value;var r=t._markingText;t._shouldMarkStrictly||(n=n.toLowerCase().replace(/\s+/g,""),r=r.toLowerCase().replace(/\s+/g,"")),i=-1!==n.indexOf(r)}else if("hasLength"===t._markingType){n=e.value;var a=t._markingNumber;i=n.length>=a}else"isLength"===t._markingType?(n=e.value,a=t._markingNumber,i=n.length===a):"equalsOrHasLength"===t._markingType?(n=e.value,s=t._markingText,t._shouldMarkStrictly||(n=n.toLowerCase().replace(/\s+/g,""),s=s.toLowerCase().replace(/\s+/g,"")),(i=n===s)||(n=e.value,a=t._markingNumber,i=n.length>=a,o=e._score/2)):"containsOrHasLength"===t._markingType&&(n=e.value,r=t._markingText,t._shouldMarkStrictly||(n=n.toLowerCase().replace(/\s+/g,""),r=r.toLowerCase().replace(/\s+/g,"")),(i=-1!==n.indexOf(r))||(n=e.value,a=t._markingNumber,i=n.length>=a,o=e._score/2));i&&(c=!0)}})),c?(e._isCorrect=!0,e._usersScore=r(e,t,n,o)):(e._isCorrect=!1,e._usersScore=0)}},25890:(e,t,n)=>{const s=n(72856),r=n(23544);e.exports=function(e){var t=!1,n=0,i=0;s(e._screens,(function(e){e._totalScore&&(n+=e._totalScore),e._usersScore&&(i+=e._usersScore)}));var o=100/n*i,c=r(Math.round(o),0,100);return c>=e._passMark&&(t=!0),{_isCorrect:t,_finalScore:c}}},64526:(e,t,n)=>{const s=n(72856);var r=n(69508),i=n(74497);e.exports=function(e,t){const{screenSizeSelection:n}=i(t);s(e._items,(s=>{s._screenSize!==n?(s._isMarkable=!1,s._usersScore=0):r(s,e,t)}));var o=[],c=0;s(e._items,(function(e){!0===e._isMarkable&&!1===e._isCorrect&&o.push(e),e._usersScore&&(c+=e._usersScore)})),0===o.length?e._isCorrect=!0:e._isCorrect=!1,e._usersScore=c}},69508:(e,t,n)=>{var s={inputButton:n(82492),inputText:n(91269),inputDropDown:n(57035),inputCheckbox:n(96658),inputSlider:n(96690),inputRadioOptions:n(91090),inputSearchDropDown:n(27857),inputTextArea:n(39796),inputHoverOverlay:n(95524),inputSelect:n(65888),displayTextArea:n(40506)};e.exports=function(e,t,n){s[e._type](e,t,n)}},29458:e=>{e.exports=function(e){e._isCorrect=!1,e._isMarkable=!1,e._usersScore=0}},2004:e=>{e.exports=function(e){e._isCorrect=!1,e._hasBeenClicked=!1,e._isMarkable=!1,e._usersScore=0}},77735:e=>{e.exports=function(e){e._isCorrect=!1,e._isMarkable=!1,e._usersScore=0}},46439:(e,t,n)=>{const s=n(72856);e.exports=function(e){e._isCorrect=!1,e._isMarkable=!1,e._usersScore=0,s(e._options,(function(e){e._hasBeenClicked=!1}))}},61560:e=>{e.exports=function(e){e._isCorrect=!1,e._isMarkable=!1,e._usersScore=0}},73437:e=>{e.exports=function(e){e._isCorrect=!1,e._isMarkable=!1,e._usersScore=0}},40070:e=>{e.exports=function(e){e._isCorrect=!1,e._isMarkable=!1,e._usersScore=0}},48762:e=>{e.exports=function(e){e._isCorrect=!1,e._isMarkable=!1,e._usersScore=0}},94085:e=>{e.exports=function(e){e._isCorrect=!1,e._isMarkable=!1,e._usersScore=0}},85943:e=>{e.exports=function(e){e._isCorrect=!1,e._isMarkable=!1,e._usersScore=0}},74617:e=>{e.exports=function(e){e._isCorrect=!1,e._isMarkable=!1,e._usersScore=0}},62860:(e,t,n)=>{var s={inputButton:n(2004),inputText:n(74617),inputDropDown:n(46439),inputCheckbox:n(77735),inputSlider:n(94085),inputRadioOptions:n(73437),inputSearchDropDown:n(40070),inputTextArea:n(85943),inputHoverOverlay:n(61560),inputSelect:n(48762),displayTextArea:n(29458)};e.exports=function(e){s[e._type](e)}},348:(e,t,n)=>{const s=n(72856);var r=n(62860);e.exports=function(e){s(e._items,(function(e){r(e)}))}},29292:e=>{e.exports=function(e){e._hasBeenViewed=!0}},75798:e=>{e.exports=function(e,t){0!==e._attemptsLeft&&(e._attemptsTaken=e._attemptsTaken+1,e._attemptsLeft=e._attemptsLeft-1)}},30929:(e,t,n)=>{const s=n(29115),r=n(64925),i=n(72856),o=n(99729),c=n(55807),a=n(66259),{SETUP_COMPONENT:p}=n(59345),{CAPTURE_START:l,CAPTURE_UPDATE_FORM_VALUE:u,CAPTURE_SUBMIT_SCREEN:d,CAPTURE_REJECT_SCREEN:h,CAPTURE_FAIL_SCREEN:m,CAPTURE_SET_BUTTON_AS_CLICKED:_,CAPTURE_SET_DROPDOWN_AS_CLICKED:S,CAPTURE_SET_SLIDER_HANDLE_VALUE:g,CAPTURE_SET_SEARCH_DROPDOWN_OPTIONS:v,CAPTURE_SET_FEEDBACK_POPUP:f,CAPTURE_TOGGLE_INSTRUCTIONS:C,CAPTURE_VIEW_COMPLETED_SCREEN:E,CAPTURE_RETURN_TO_RESULTS_SCREEN:A,CAPTURE_NAVIGATE_TO_PREVIOUS_SCREEN:y,CAPTURE_NAVIGATE_TO_NEXT_SCREEN:b,CAPTURE_RESET_SCREEN:T,CAPTURE_SCREEN_CLICKED:I,CAPTURE_SCREEN_TIMER_ENDED:k,CAPTURE_TOGGLE_INSTRUCTIONS_OPEN:N,CAPTURE_OPEN_DIRECTIONS:x,CAPTURE_OPEN_INSTRUCTIONS:O,CAPTURE_TOGGLE_MENU:R,CAPTURE_TOGGLE_CORRECT_ANSWER:P,CAPTURE_TOGGLE_SCENARIO_OPEN:w,CAPTURE_COMPLETED:M}=n(3223),D={isShowingCorrectAnswer:!1,isScenarioOpen:!1,isMenuOpen:!1,isInstructionsOpen:!0,isDirectionsOpen:!1,activeScreenId:null},B=n(51371),L=n(31491);function F(e,t){var n;if(i(e._screens,(function(e,s){e._id===t&&(n=s)})),!n)return null;var s=e._screens[n-1];return s._hasBeenViewed?s:F(e,s._id)}function U(e,t){var n;i(e._screens,(function(e,s){e._id===t&&(n=s)}));var s=e._screens[n+1];return s?s._hasBeenViewed?s:U(e,s._id):null}e.exports=(e,t)=>(e=function(e,t){switch(t.type){case p:return s({},e,D);case l:return function(e){return e=s({},e,{_hasStarted:!0,_currentScreenId:e._screens[0]._id,_isInstructionsVisible:!!e._screens[0].popupInstruction,_isComplete:!!e._screens[0]._shouldSetComponentAsComplete}),i(e._screens,(function(t){t._attempts=void 0===t._attempts?parseInt(e._attempts):t._attempts,t._attemptsTaken=void 0===t._attemptsTaken?0:t._attemptsTaken,t._attemptsLeft=void 0===t._attemptsLeft?t._attempts:t._attemptsLeft})),e._feedbackPopup=null,e._feedbackAvatar=null,e}(e);case d:case h:return function(e,t){const{itemId:n}=t.payload;if(e._isReviewing)return e;let c,a;e=s({},e),i(e._screens,(function(t,n){t._id===e._currentScreenId&&(a=n,c=t)})),L.updateScreenAttempts(c,e),L.markScreen(c,e),L.setScreenAsViewed(c);var p=r(c._items,{_id:n}),l=L.getScreenFeedback(c,p),u=L.getScreenFeedbackAvatar(c,l),d=e._screens[a+1];if(!c._isCorrect&&c._attemptsLeft>=1||!c._isCorrect&&e._shouldForceUserToAnswerScreensCorrectly)return e=s(e,{_currentScreenId:c._id,_previousScreenId:c._id,_isInstructionsVisible:!1,_feedbackPopup:{body:l},_feedbackAvatar:u});if(p._actionNavigation){var h=r(e._screens,{_id:p._actionNavigation});h&&(d=h)}if(d){var m=!!e._isComplete||!!d._shouldSetComponentAsComplete;e=s(e,{_currentScreenId:d._id,_previousScreenId:c._id,_isInstructionsVisible:!!d.popupInstruction,_feedbackPopup:l?{body:l}:null,_feedbackAvatar:u,_isComplete:m})}else{var _=L.markInteraction(e),S=L.getFeedbackMessage(_,e);if(!e._resultsScreen._shouldShowFinalResultsScreen)var g=!0,v=e._screens[0]._id;e=s(e,{_currentScreenId:v||null,_previousScreenId:c._id,_isSubmitted:!0,_isComplete:!0,_isCorrect:_._isCorrect,_isPartlyCorrect:_._isPartlyCorrect,feedbackMessage:S,_finalScore:_._finalScore,_isInstructionsVisible:!1,isMenuOpen:!o(e,"_completionDialog._showCompletionDialog")&&(g||!1),_isReviewing:g||!1})}return e}(e,t);case u:return function(e,t){const{itemId:n,value:r}=t.payload;if(e._isReviewing)return e;const i=c(e._screens,(t=>{if(t._id===e._currentScreenId){const e=c(t._items,(e=>e._id===n?s({},e,{value:r}):e));return s({},t,{_items:e})}return t}));return s({},e,{_screens:i})}(e,t);case m:return function(e,t){const{itemId:n}=t.payload;e=s({},e);var i=r(e._screens,{_id:e._currentScreenId});L.updateScreenAttempts(i,e),L.markScreen(i),L.setScreenAsViewed(i);var o=L.markInteraction(e),c=L.getFeedbackMessage(o,e);if(!e._resultsScreen._shouldShowFinalResultsScreen)var a=!0,p=e._screens[0]._id;return s(e,{_currentScreenId:p||null,_previousScreenId:i._id,_isSubmitted:!0,_isComplete:!0,_isCorrect:o._isCorrect,_isPartlyCorrect:o._isPartlyCorrect,feedbackMessage:c,_finalScore:o._finalScore,_isInstructionsVisible:!1,isMenuOpen:a||!1,_isReviewing:a||!1})}(e,t);case _:return function(e,t){if(e._isReviewing)return e;const{itemId:n}=t.payload;var i=r(e._screens,{_id:e._currentScreenId});return r(i._items,{_id:n})._hasBeenClicked=!0,s({},e)}(e,t);case S:return function(e,t){if(e._isReviewing)return e;const{itemId:n,optionValue:o}=t.payload;var c=r(e._screens,{_id:e._currentScreenId}),a=r(c._items,{_id:n});return i(a._options,(function(e){e._hasBeenClicked=!1})),r(a._options,{text:o})._hasBeenClicked=!0,s({},e)}(e,t);case g:return function(e,t){if(e._isReviewing)return e;const{itemId:n,handleId:i,sliderValue:o}=t.payload;var c=r(e._screens,{_id:e._currentScreenId}),a=r(c._items,{_id:n});return r(a._handles,{_id:i})._value=o,s({},e)}(e,t);case v:return function(e,t){if(e._isReviewing)return e;const{itemId:n,options:i}=t.payload;var o=r(e._screens,{_id:e._currentScreenId});return r(o._items,{_id:n})._options=i,s({},e)}(e,t);case f:return function(e,t){return s({},e,{_feedbackPopup:t.payload.feedback,_feedbackAvatar:t.payload.feedback?e._feedbackAvatar:null})}(e,t);case C:return function(e){return s({},e,{_isInstructionsVisible:!e._isInstructionsVisible})}(e);case N:return function(e){return s({},e,{isInstructionsOpen:!e.isInstructionsOpen})}(e);case E:return function(e,t){return s({},e,{_isReviewing:!0,_currentScreenId:t.payload.screenId})}(e,t);case A:return function(e){return s({},e,{_isReviewing:!1,_currentScreenId:null})}(e);case y:return function(e){const t=F(e,e._currentScreenId);return t?s({},e,{_currentScreenId:t._id,isMenuOpen:!1}):e}(e);case b:return function(e){var t=U(e,e._currentScreenId),n=null,r={};if(t)n=t._id,r.isMenuOpen=!1;else{if(!e._resultsScreen._shouldShowFinalResultsScreen)return e;n=null,r._isReviewing=!1}return r._currentScreenId=n,s({},e,r)}(e);case I:return function(e){var t=r(e._screens,{_id:e._currentScreenId});if(t&&(0===t._items.length||!t._isMarkable||t._shouldSubmitScreenByTimer&&!t._shouldTimeScreenInteraction)){var n;i(e._screens,(function(e,s){e._id===t._id&&(e._isCorrect=!0,n=s)}));var c=e._screens[n+1];if(c)e._currentScreenId=c._id,e._previousScreenId=t._id,e._isInstructionsVisible=!!c.popupInstruction;else{var a=L.markInteraction(e),p=L.getFeedbackMessage(a,e);if(!e._resultsScreen._shouldShowFinalResultsScreen)var l=!0,u=e._screens[0]._id;e=s(e,{_currentScreenId:u||null,_previousScreenId:t._id,_isSubmitted:!0,_isComplete:!0,_isCorrect:a._isCorrect,_isPartlyCorrect:a._isPartlyCorrect,feedbackMessage:p,_finalScore:a._finalScore,_isInstructionsVisible:!1,_isReviewing:l||!1,isMenuOpen:!o(e,"_completionDialog._showCompletionDialog")&&(l||!1)})}return s({},e)}return e}(e);case k:return function(e){const t=a(e._screens,{_id:e._currentScreenId}),n=e._screens[t];if(0===n._attemptsLeft)return e;const r=s({},n,{_attemptsTaken:n._attempts,_attemptsLeft:0});var i=L.getScreenFeedback(r),o=L.getScreenFeedbackAvatar(r,i);return s({},e,{_screens:[...e._screens.slice(0,t),r,...e._screens.slice(t+1)],_isInstructionsVisible:!1,_feedbackPopup:{body:i},_feedbackAvatar:o})}(e);case T:return function(e){var t=r(e._screens,{_id:e._currentScreenId});return L.resetScreenItems(t),s({},e)}(e);case x:return s({},e,{isDirectionsOpen:!0});case O:return s({},e,{isInstructionsOpen:!0});case N:return s({},e,{isInstructionsOpen:!e.isInstructionsOpen});case R:return s({},e,{isMenuOpen:!e.isMenuOpen});case w:return s({},e,{isScenarioOpen:!e.isScenarioOpen});case P:return s({},e,{isShowingCorrectAnswer:!e.isShowingCorrectAnswer});case M:return function(e){const t=B(),n={_completedAt:t};return e._isCorrect&&(n._correctAt=t),s({},e,n)}(e);default:return e}}(e,t),function(e){const t={};if(e._currentScreenId&&e._currentScreenId!==e.activeScreenId){const n=e._isReviewing||!1;t.isDirectionsOpen=!1,t.isInstructionsOpen=!n,t.activeScreenId=e._currentScreenId,0===r(e._screens,{_id:e._currentScreenId})._instructions.length&&(t.isDirectionsOpen=!0,t.isInstructionsOpen=!1)}return s({},e,t)}(e))},57463:e=>{e.exports={_interactionType:{type:"String",default:"question",shouldRestore:!1},_attemptsLeft:{fieldKey:"_attemptsLeft",type:"Number",shouldRestore:!0},_attemptsTaken:{fieldKey:"_attemptsTaken",type:"Number",shouldRestore:!0},_screens:{fieldKey:"_screens",type:"Array",shouldRestore:!0,subMap:{_id:{fieldKey:"_id",type:"String"},_hasBeenViewed:{fieldKey:"_hasBeenViewed",type:"Boolean",shouldRestore:!0},_isCorrect:{fieldKey:"_isCorrect",type:"Boolean",shouldRestore:!0},_attemptsTaken:{fieldKey:"_attemptsTaken",type:"Number",shouldRestore:!0},_usersScore:{fieldKey:"_usersScore",type:"Number",shouldRestore:!0}}}}},83701:(e,t,n)=>{const{store:s}=n(60633);e.exports=function(e){if(!e)return;const t=s.getState().theme._fonts[e];return t?t._fontFamily:void 0}},37238:(e,t,n)=>{const s=n(90005);e.exports=e=>s(`ev-${e._component}-widget ev-component-widget ev-clearfix`,{"ev-disabled":!e._isEnabled,"ev-complete ev-show-user-answer":e._isComplete&&!e._isEnabled,"ev-correct":e._isCorrect&&!e._isEnabled,"ev-submitted":e._isSubmitted})}}]);