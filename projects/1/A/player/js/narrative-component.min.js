"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[5755],{7430:(e,t)=>{t.INCREMENT_CURRENT_INDEX="INCREMENT_CURRENT_INDEX",t.DECREMENT_CURRENT_INDEX="DECREMENT_CURRENT_INDEX",t.incrementCurrentIndex=e=>({type:t.INCREMENT_CURRENT_INDEX,payload:e}),t.decrementCurrentIndex=e=>({type:t.DECREMENT_CURRENT_INDEX,payload:e})},29896:(e,t,n)=>{var i=n(8528);const r=n(98779),s=n(99729),o=n(55807),a=n(52898),{bool:c,func:d,number:l,object:p,string:m}=n(23615),u=n(27378),h=n(90005),_=n(8712),v=n(37238),g=n(20687),I=n(52875),{Component:x}=n(30189),E=n(79325),C=n(80062),y=n(30501),N=a({displayName:"Narrative",propTypes:{component:p.isRequired,setComponentAsReady:d.isRequired,setComponentAsViewed:d.isRequired,setComponentAsStarted:d.isRequired,setComponentAsComplete:d.isRequired,incrementCurrentIndex:d.isRequired,decrementCurrentIndex:d.isRequired,windowWidth:l,isFullScreenOpen:c,isRTL:c,animationEnded:c,screenSize:m,setAriaLive:d,styles:p},getInitialState:()=>({_carouselHeight:"auto"}),componentDidMount(){this.props.setComponentAsReady(this.props.component._id),this.setHeights()},UNSAFE_componentWillReceiveProps({component:e,windowWidth:t,isFullScreenOpen:n,animationEnded:i}){const{props:r}=this;e._currentIndex!==e._items.length-1||e._isComplete||r.setComponentAsComplete(e._id),(t!==r.windowWidth||r.isFullScreenOpen&&!n||r.component._isHidden&&!e._isHidden||!r.animationEnded&&i)&&this.setHeights()},componentDidUpdate(e){const{props:t}=this;e.component._currentIndex!==t.component._currentIndex&&(r(this.setAriaLive,1e3),i(this._content).scrollTop(0))},setStarted(){const{component:e,setComponentAsStarted:t}=this.props;e._hasStarted||t(e._id)},setHeights(){const{component:e,screenSize:t}=this.props,n="large"===t&&"Full"!==e._narrativeLayout&&this._carousel?`${this._carousel.getBoundingClientRect().height}px`:"auto";this.setState({_carouselHeight:n})},setAriaLive(){const{component:e,setAriaLive:t}=this.props,n=e._items[e._currentIndex];t({message:(n.title||"")+(n.body||"")+s(n,"_graphic.alt",""),isAssertive:!1})},onNextSlideButtonClicked(){const{props:e}=this;e.incrementCurrentIndex({componentId:e.component._id}),this.setStarted()},onPreviousSlideButtonClicked(){const{props:e}=this;e.decrementCurrentIndex({componentId:e.component._id})},onVisibilityChange(...e){I(...e,this,this.props.setComponentAsViewed)},onDirectionKeyDown(e){"right"===e&&this.onNextSlideButtonClicked(),"left"===e&&this.onPreviousSlideButtonClicked()},renderPreviousSlideButton(e){const{component:t,isRTL:n}=this.props;if(e!==("small"===this.props.screenSize?"small":"large"))return;const{_id:i,prevButtonAriaLabel:r,_items:o,_currentIndex:a}=t,c=`${r} ${s(o[a-1],"ariaLabel","")}`;return u.createElement(E,{className:h(`ev-narrative-controls ev-narrative-controls-${e}`,{"ev-narrative-control-left":!n,"ev-narrative-control-right":n}),"aria-label":c,"aria-controls":`ev-narrative-${i}`,isDisabled:0===a,icon:"arrow-"+(n?"right":"left"),iconSize:23,variant:"chromeless",onClick:this.onPreviousSlideButtonClicked})},renderNextSlideButton(e){const{component:t,isRTL:n}=this.props;if(e!==("small"===this.props.screenSize?"small":"large"))return;const{_id:i,nextButtonAriaLabel:r,_items:o,_currentIndex:a,_canPulsate:c,_hasStarted:d}=t,l=`${r} ${s(o[a+1],"ariaLabel","")}`,p=c&&0===a&&!d;return u.createElement(E,{className:h(`ev-narrative-controls ev-narrative-controls-${e}`,{"ev-can-animate":p,"ev-narrative-control-right":!n,"ev-narrative-control-left":n}),"aria-label":l,"aria-controls":`ev-narrative-${i}`,isDisabled:a===o.length-1,icon:"arrow-"+(n?"left":"right"),iconSize:23,variant:"chromeless",onClick:this.onNextSlideButtonClicked})},renderSlideContainer(){const{component:e}=this.props;return u.createElement("div",{className:"ev-narrative-slide-container"},u.createElement(_,{displayAsList:!1,currentIndex:e._currentIndex,animations:e._animations,_ref:e=>this._carousel=e},o(e._items,((t,n)=>u.createElement(C,{key:t._id,item:t,shouldReloadGifs:e._shouldReloadGifs,isCurrentItem:n===e._currentIndex,onImageLoaded:this.setHeights})))),this.renderPreviousSlideButton("large"),this.renderNextSlideButton("large"))},renderIndicators(e){const{component:t}=this.props;return u.createElement("div",{className:`ev-narrative-indicators ev-narrative-indicators-${e}`},this.renderPreviousSlideButton("small"),o(t._items,((e,n)=>u.createElement("div",{key:e._id,className:h("ev-narrative-indicator ev-component-item-color ev-component-item-border",{"ev-selected":n===t._currentIndex})}))),this.renderNextSlideButton("small"))},renderContent(){const{component:e,screenSize:t}=this.props,n={},i=e._narrativeLayout.toLowerCase();return"large"===t&&["left","right"].includes(i)&&(n.height=this.state._carouselHeight),u.createElement("div",{className:"ev-narrative-content","aria-hidden":!0,style:n},u.createElement("div",{ref:e=>this._content=e,className:"ev-narrative-content-inner"},o(e._items,((t,n)=>u.createElement(y,{key:t._id,componentId:e._id,item:t,isHidden:n!==e._currentIndex})))))},getAriaLabelledBy(){const{_id:e,_items:t,_currentIndex:n}=this.props.component,i=t[n];if(!i)return null;const r=`${e}-${i._id}`;return`ev-narrative-item-title-${r} ev-narrative-item-body-${r}`},renderNarrative(e){const{component:t,screenSize:n}=this.props;return t._shouldDisplayContentOnTop&&(e||"large"!==n)?u.createElement(u.Fragment,null,this.renderContent(),this.renderSlideContainer(),this.renderIndicators("full"),this.renderIndicators("side")):u.createElement(u.Fragment,null,this.renderSlideContainer(),this.renderIndicators("full"),this.renderContent(),this.renderIndicators("side"))},render(){const{props:e}=this,t=e.component._narrativeLayout?.toLowerCase()||"full",n="small"===e.screenSize,i=h({"ev-js-layout-full":"full"===t||n,"ev-js-layout-left":"left"===t&&!n,"ev-js-layout-right":"right"===t&&!n});return u.createElement(x,{component:e.component,styles:e.styles,isVisibilitySensorActive:g(e),onVisibilityChange:this.onVisibilityChange,onDirectionKeyDown:this.onDirectionKeyDown},u.createElement("div",{className:v(e.component)},u.createElement("div",{id:`ev-narrative-${e.component._id}`,className:i,role:"group","aria-labelledby":this.getAriaLabelledBy()},this.renderNarrative("full"===t))))}});e.exports=N},30501:(e,t,n)=>{const{bool:i,shape:r,string:s}=n(23615),o=n(90005),a=n(27378),c=n(50998),d=n(54794),l=({componentId:e,item:t,isHidden:n})=>{const i=`${e}-${t._id}`;return a.createElement("div",{className:o("ev-narrative-content-item",{"ev-display-none":n})},t.title&&a.createElement(d,{id:`ev-narrative-item-title-${i}`,className:"ev-narrative-content-title-inner",html:t.title}),t.body&&a.createElement(c,{id:`ev-narrative-item-body-${i}`,className:"ev-narrative-content-body",innerClassName:"ev-narrative-content-body-inner",body:t.body}))};l.propTypes={componentId:s.isRequired,item:r({title:s,body:s}),isHidden:i.isRequired},e.exports=l},80062:(e,t,n)=>{const{bool:i,func:r,object:s}=n(23615),o=n(27378),a=n(26614),c=n(5859),d=({item:e,shouldReloadGifs:t=!1,isCurrentItem:n,onImageLoaded:i})=>o.createElement("div",{className:"ev-narrative-slider-graphic"},a(e._graphic)?o.createElement(c,{autoSize:!0,graphicSrc:e._graphic.src,graphicSrcAdvanced:e._graphic.srcAdvanced,isLightboxEnabled:e._graphic._shouldViewInLightbox,lightboxSrc:e._graphic.lightboxSrc,lightboxSrcAdvanced:e._graphic.lightboxSrcAdvanced,altText:e._graphic.alt,shouldEnableGraphicText:e._shouldEnableGraphicText,disableCache:t&&n&&"gif"===e._graphic.src._extension,graphicText:e.graphicText,graphicTextLayout:e._graphicTextLayout,graphicTextWidth:e._graphicTextWidth,graphicTextTopPadding:e._graphicTextTopPadding,graphicTextBottomPadding:e._graphicTextBottomPadding,graphicTextLeftPadding:e._graphicTextLeftPadding,graphicTextRightPadding:e._graphicTextRightPadding,graphicTextStyles:e._graphicTextStyles,onLoad:i}):null);d.propTypes={item:s.isRequired,shouldReloadGifs:i,isCurrentItem:i.isRequired,onImageLoaded:r},e.exports=d},41024:(e,t,n)=>{const{registerComponent:i}=n(60633),r=n(29896),s=n(1141),{incrementCurrentIndex:o,decrementCurrentIndex:a}=n(7430);i("narrative",{component:r,actions:{incrementCurrentIndex:o,decrementCurrentIndex:a},reducer:s,trackingMap:n(71683),mapStateToProps:({device:e,fullScreen:t})=>({windowWidth:e.windowWidth,isFullScreenOpen:t.isOpen})})},1141:(e,t,n)=>{const i=n(23544),{SETUP_COMPONENT:r}=n(59345),{INCREMENT_CURRENT_INDEX:s,DECREMENT_CURRENT_INDEX:o}=n(7430);e.exports=(e,t)=>{switch(t.type){case r:return{...e,_currentIndex:0};case s:return{...e,_currentIndex:i(e._currentIndex+1,0,e._items.length-1)};case o:return{...e,_currentIndex:i(e._currentIndex-1,0,e._items.length-1)};default:return e}}},71683:e=>{e.exports={_interactionType:{type:"String",default:"interaction",shouldRestore:!1},_currentIndex:{fieldKey:"_currentIndex",type:"Number",shouldRestore:!0}}},8712:(e,t,n)=>{const i=n(99729),r=n(52898),{bool:s,func:o,node:a,number:c,object:d,string:l}=n(23615),p=n(27378),m=n(90005),{Spring:u,config:h,animated:_}=n(24450),{connect:v}=n(13844),g=r({displayName:"Carousel",propTypes:{children:a.isRequired,currentIndex:c,initialIndex:c,animations:d,verticalAlignment:l,className:l,isRTL:s,displayAsList:s,_ref:o},getInitialState:()=>({_animationEnded:!1,_canAnimateItemTransform:!1}),UNSAFE_componentWillReceiveProps(e){const{currentIndex:t}=this.props;t!==e.currentIndex&&this.setState({_canAnimateItemTransform:!0})},getDefaultProps:()=>({currentIndex:0,initialIndex:0,animations:{_slideIn:!0,_fadeIn:{_isEnabled:!1},_scaleIn:{_isEnabled:!1},_easing:"default"},displayAsList:!0}),onStart(){this.setState({_animationEnded:!1})},onRest(){this.setState({_animationEnded:!0})},renderCarousel(){const{currentIndex:e,initialIndex:t,animations:n}=this.props,i=100*t,r=100*e;return n._slideIn?p.createElement(u,{native:!0,from:{x:i},to:{x:r},config:h[n._easing]||h.default},(({x:e})=>this.renderCarouselInner(e,!0))):this.renderCarouselInner(r)},renderCarouselInner(e,t){const{verticalAlignment:n,isRTL:i,displayAsList:r}=this.props,s=`ev-carousel-inner ev-vertical-align-${n?.toLowerCase()||"normal"}`,o=i?"":"-",a={left:t?e.interpolate((e=>`${o}${e}%`)):`${o}${e}%`},c=r?"ul":"div",d=t?_[c]:c;return p.createElement(d,{className:s,style:a},this.renderCarouselItems())},getItemStyle(e,t){const{_animationEnded:n,_canAnimateItemTransform:i}=this.state,r={opacity:e,transform:t.interpolate((e=>`scale(${e})`))};return!n&&i||(r.transform="none"),r},renderCarouselItems(){const{displayAsList:e,children:t,currentIndex:n,animations:i}=this.props,r=e?_.li:_.div;return t.map(((e,t)=>{const s=t===n,{_fadeIn:o,_scaleIn:a}=i;return p.createElement(u,{native:!0,key:t,from:{opacity:o&&o._isEnabled?o._from/100:.99,scale:a&&a._isEnabled?a._from/100:1},to:{opacity:o&&o._isEnabled?s?1:o._from/100:1,scale:a&&a._isEnabled?s?1:a._from/100:1},config:h[i._easing]||h.default,onStart:this.onStart,onRest:this.onRest},(({opacity:t,scale:n})=>p.createElement(r,{inert:s?void 0:"",className:"ev-carousel-item",style:this.getItemStyle(t,n)},e)))}))},render(){return p.createElement("div",{ref:this.props._ref,className:m("ev-carousel",this.props.className)},this.renderCarousel())}});e.exports=v((({course:e,device:t})=>({isRTL:i(e,"_isRTL",!1),windowWidth:t.windowWidth})))(g)},20687:e=>{e.exports=(e,t="_hasBeenViewed")=>{const{component:n,isPageReady:i}=e;return!0===i&&!0===n._isReady&&!0!==n[t]}},37238:(e,t,n)=>{const i=n(90005);e.exports=e=>i(`ev-${e._component}-widget ev-component-widget ev-clearfix`,{"ev-disabled":!e._isEnabled,"ev-complete ev-show-user-answer":e._isComplete&&!e._isEnabled,"ev-correct":e._isCorrect&&!e._isEnabled,"ev-submitted":e._isSubmitted})},52875:e=>{e.exports=function(e,t,n,i,r){i&&i.props&&i.props.component?(t.top&&(i.isInviewTop=!0),t.bottom&&(i.isInviewBottom=!0),i.isInviewTop&&i.isInviewBottom&&r&&r(i.props.component._id)):console.error("No component reference passed to helpers/visibilityChangeHandler")}}}]);