"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[5209],{3803:(e,t)=>{t.OPEN_HINT="OPEN_HINT",t.CLOSE_HINT="CLOSE_HINT",t.openHint=e=>({type:t.OPEN_HINT,payload:e}),t.closeHint=()=>({type:t.CLOSE_HINT})},49329:(e,t,n)=>{const i=n(52898),o=n(23615),s=n(27378),r=n(90005),c=n(5254).Z,p=n(40155),a=n(91760),l=i({displayName:"Hint",propTypes:{isOpen:o.bool.isRequired,hintButtonAriaLabel:o.string.isRequired,closeHintButtonAriaLabel:o.string,hintThemeSettings:o.shape({_hintOpenIcon:o.string,_hintCloseIcon:o.string,_shouldUseButtonStyles:o.bool}).isRequired,component:o.object.isRequired,openHint:o.func.isRequired,closeHint:o.func.isRequired},handleClickOutside(){const{props:e}=this;e.isOpen&&e.closeHint()},getIconName(){const{isOpen:e,hintThemeSettings:t}=this.props;return(e?t._hintCloseIcon:t._hintOpenIcon)||(e?"cross":"question")},getAriaLabel(){const{isOpen:e,hintButtonAriaLabel:t,closeHintButtonAriaLabel:n}=this.props;return e&&n||t},render(){const{props:e}=this,t=this.getAriaLabel();return s.createElement("div",{className:"ev-hint-container"},s.createElement("div",{className:r("ev-hint",{"ev-is-open":e.isOpen})},s.createElement("button",{className:r("ev-hint-button",{"ev-button":e.hintThemeSettings._shouldUseButtonStyles,"ev-has-aria-label":!e.hintThemeSettings._shouldUseButtonStyles}),onClick:()=>{if(e.isOpen)return e.closeHint();e.openHint(e.component._id)},"aria-label":t,"data-tooltip-content":t,"aria-expanded":e.isOpen,"aria-controls":`ev-hint-popup-${e.component._id}`},s.createElement(p,{icon:this.getIconName()})),s.createElement(a,{elementId:`ev-hint-popup-${e.component._id}`,isVisible:e.isOpen,title:e.component._hint.title,body:e.component._hint.body})))}});e.exports=c(l)},91760:(e,t,n)=>{const i=n(52898),{bool:o,string:s}=n(23615),r=n(27378),{Spring:c,config:p,animated:a,interpolate:l}=n(24450),u=n(96155),d=n(50998),f=i({displayName:"HintPopup",propTypes:{isVisible:o.isRequired,title:s,body:s,elementId:s},getSpringFrom:()=>({opacity:0,scale:0}),getSpringTo(e){return e?{opacity:1,scale:1}:this.getSpringFrom()},renderTitle(){if(this.props.title)return r.createElement(u,{className:"ev-hint-title",innerClassName:"ev-hint-title-inner",headingElement:"div",displayTitle:this.props.title})},renderBody(){if(this.props.body)return r.createElement(d,{className:"ev-hint-body",innerClassName:"ev-hint-body-inner",body:this.props.body})},render(){const{isVisible:e,elementId:t}=this.props;return r.createElement(c,{native:!0,from:this.getSpringFrom(),to:this.getSpringTo(e),config:p.default},(({opacity:e,scale:n})=>r.createElement(a.div,{id:t,className:"ev-hint-popup",style:{opacity:e,transform:l([n],(e=>`scale(${e})`))}},this.renderTitle(),this.renderBody())))}});e.exports=f},77798:(e,t,n)=>{const{connect:i}=n(13844),o=n(27378),{openHint:s,closeHint:r}=n(3803),c=n(49329);e.exports=i((({hint:e},t)=>({isOpen:e===t.component._id})),{openHint:s,closeHint:r})((e=>e.component._hint?._isEnabled?o.createElement(c,e):null))},93477:(e,t,n)=>{const i=n(29115),o=n(99729),{SETUP_APP:s}=n(36329),{addElement:r}=n(15766),c=n(77798);t.registerElementsEpic=(e,t)=>e.filter((e=>{if(e.type!==s)return!1;const{course:n}=t.getState();return n._hint?._isEnabled})).map((()=>{const{course:e,theme:n}=t.getState(),s=i({},e._hint,{hintThemeSettings:o(n,"_extensions._hint._settings",{})});return r({name:"hint",component:c,props:s,parent:"component",position:"inner"})}))},29906:(e,t,n)=>{const{registerEpics:i,registerReducer:o}=n(60633),{registerElementsEpic:s}=n(93477);o("hint",n(12037)),i(s)},12037:(e,t,n)=>{const{LOCATION_CHANGED:i}=n(36329),{OPEN_HINT:o,CLOSE_HINT:s}=n(3803);e.exports=(e=null,t)=>{switch(t.type){case o:return t.payload;case s:case i:return null;default:return e}}},5254:(e,t,n)=>{n.d(t,{Z:()=>m});var i=n(27378),o=n(31542);function s(e,t){return s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},s(e,t)}function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e,t,n){return e===t||(e.correspondingElement?e.correspondingElement.classList.contains(n):e.classList.contains(n))}var p,a,l=(void 0===p&&(p=0),function(){return++p}),u={},d={},f=["touchstart","touchmove"];function h(e,t){var n=null;return-1!==f.indexOf(t)&&a&&(n={passive:!e.props.preventDefault}),n}const m=function(e,t){var n,p,f=e.displayName||e.name||"Component";return p=n=function(n){var p,m;function O(e){var i;return(i=n.call(this,e)||this).__outsideClickHandler=function(e){if("function"!=typeof i.__clickOutsideHandlerProp){var t=i.getInstance();if("function"!=typeof t.props.handleClickOutside){if("function"!=typeof t.handleClickOutside)throw new Error("WrappedComponent: "+f+" lacks a handleClickOutside(event) function for processing outside click events.");t.handleClickOutside(e)}else t.props.handleClickOutside(e)}else i.__clickOutsideHandlerProp(e)},i.__getComponentNode=function(){var e=i.getInstance();return t&&"function"==typeof t.setClickOutsideRef?t.setClickOutsideRef()(e):"function"==typeof e.setClickOutsideRef?e.setClickOutsideRef():(0,o.findDOMNode)(e)},i.enableOnClickOutside=function(){if("undefined"!=typeof document&&!d[i._uid]){void 0===a&&(a=function(){if("undefined"!=typeof window&&"function"==typeof window.addEventListener){var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}}),n=function(){};return window.addEventListener("testPassiveEventSupport",n,t),window.removeEventListener("testPassiveEventSupport",n,t),e}}()),d[i._uid]=!0;var e=i.props.eventTypes;e.forEach||(e=[e]),u[i._uid]=function(e){var t;null!==i.componentNode&&(i.props.preventDefault&&e.preventDefault(),i.props.stopPropagation&&e.stopPropagation(),i.props.excludeScrollbar&&(t=e,document.documentElement.clientWidth<=t.clientX||document.documentElement.clientHeight<=t.clientY)||function(e,t,n){if(e===t)return!0;for(;e.parentNode||e.host;){if(e.parentNode&&c(e,t,n))return!0;e=e.parentNode||e.host}return e}(e.composed&&e.composedPath&&e.composedPath().shift()||e.target,i.componentNode,i.props.outsideClickIgnoreClass)===document&&i.__outsideClickHandler(e))},e.forEach((function(e){document.addEventListener(e,u[i._uid],h(r(i),e))}))}},i.disableOnClickOutside=function(){delete d[i._uid];var e=u[i._uid];if(e&&"undefined"!=typeof document){var t=i.props.eventTypes;t.forEach||(t=[t]),t.forEach((function(t){return document.removeEventListener(t,e,h(r(i),t))})),delete u[i._uid]}},i.getRef=function(e){return i.instanceRef=e},i._uid=l(),i}m=n,(p=O).prototype=Object.create(m.prototype),p.prototype.constructor=p,s(p,m);var g=O.prototype;return g.getInstance=function(){if(e.prototype&&!e.prototype.isReactComponent)return this;var t=this.instanceRef;return t.getInstance?t.getInstance():t},g.componentDidMount=function(){if("undefined"!=typeof document&&document.createElement){var e=this.getInstance();if(t&&"function"==typeof t.handleClickOutside&&(this.__clickOutsideHandlerProp=t.handleClickOutside(e),"function"!=typeof this.__clickOutsideHandlerProp))throw new Error("WrappedComponent: "+f+" lacks a function for processing outside click events specified by the handleClickOutside config option.");this.componentNode=this.__getComponentNode(),this.props.disableOnClickOutside||this.enableOnClickOutside()}},g.componentDidUpdate=function(){this.componentNode=this.__getComponentNode()},g.componentWillUnmount=function(){this.disableOnClickOutside()},g.render=function(){var t=this.props;t.excludeScrollbar;var n=function(e,t){if(null==e)return{};var n,i,o={},s=Object.keys(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}(t,["excludeScrollbar"]);return e.prototype&&e.prototype.isReactComponent?n.ref=this.getRef:n.wrappedRef=this.getRef,n.disableOnClickOutside=this.disableOnClickOutside,n.enableOnClickOutside=this.enableOnClickOutside,(0,i.createElement)(e,n)},O}(i.Component),n.displayName="OnClickOutside("+f+")",n.defaultProps={eventTypes:["mousedown","touchstart"],excludeScrollbar:t&&t.excludeScrollbar||!1,outsideClickIgnoreClass:"ignore-react-onclickoutside",preventDefault:!1,stopPropagation:!1},n.getClass=function(){return e.getClass?e.getClass():e},p}}}]);