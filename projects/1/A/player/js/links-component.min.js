"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[7559],{8851:(e,t)=>{t.LINKS_ITEMS_UPDATED="LINKS_ITEMS_UPDATED",t.LINKS_COMPLETE_COMPONENTS_ON_PAGE="LINKS_COMPLETE_COMPONENTS_ON_PAGE",t.linksUpdateItems=(e,n)=>({type:t.LINKS_ITEMS_UPDATED,payload:{componentId:e,items:n}}),t.linksCompleteComponentsOnPage=e=>({type:t.LINKS_COMPLETE_COMPONENTS_ON_PAGE,payload:{componentId:e}})},29536:(e,t,n)=>{var s=n(7914)(n(2398));const i=n(55807),o=n(69238),r=n(64925),l=n(97429),a=n(52898),m=n(23615),p=n(27378),{Component:c}=n(30189),d=n(9184),u=n(37238),_=n(13756),h=n(94765),g=n(20687),I=n(52875),{withRouter:y}=n(57002),k=n(97015),C=a({displayName:"Links",propTypes:{component:m.object.isRequired,components:m.object.isRequired,setComponentAsReady:m.func.isRequired,setComponentAsViewed:m.func.isRequired,setComponentAsStarted:m.func.isRequired,setComponentAsComplete:m.func.isRequired,linksCompleteComponentsOnPage:m.func.isRequired,linksUpdateItems:m.func.isRequired,styles:m.object,screenSize:m.string.isRequired,history:m.object.isRequired,course:m.object.isRequired},componentDidMount(){this.props.setComponentAsReady(this.props.component._id)},setItemAsVisited(e){if(e._isVisited)return;const{component:t,linksUpdateItems:n,setComponentAsComplete:s}=this.props,r={...e,_isVisited:!0},l=i(t._items,(e=>e._id===r._id?r:e));n(t._id,l),"click"!==t._setCompletionOn||t._isComplete||o(l,{_isVisited:!0}).length===l.length&&s(t._id)},linksItemClicked(e,t){const{props:n}=this,s=r(n.component._items,{_id:t});if(n.setComponentAsStarted(n.component._id),this.setItemAsVisited(s),s._isInternalLink&&"resources"!==s._type){if(e.preventDefault(),"extensions"===s._type){const e=l(s.link);return"courseAssessment"===e?n.history.push(`/${e}/showResults`):["reflection","certificate"].includes(e)?n.history.push("/downloads"):n.history.push(`/${e}`)}if("additionalContent"===s._type)return n.history.push(`/${s.link}`);if("course"===s._type)return n.history.push("/");if(["contentObjects","articles","blocks","components"].includes(s._type))return h(s.link)}s._shouldCloseWindow&&(e.preventDefault(),s.link&&window.open(s.link,"_blank"),s._shouldCompleteComponentsInPage&&n.linksCompleteComponentsOnPage(n.component._id),window._exitCourse())},onVisibilityChange(...e){const{component:t,setComponentAsViewed:n,setComponentAsComplete:s}=this.props,i="inview"===t._setCompletionOn;I(...e,this,i?s:n)},getIsItemEnabled(e){if(!e._shouldUnlockOnComponent)return!0;if(0===e._components.length)return!0;let t=e._components.length;const n=[];return e._components.forEach((e=>{const s=r(this.props.components,{_refId:e});s||(t-=1),s&&s._isComplete&&n.push(s)})),t===n.length},getResourceLink(e){const t=this.props.course._resources;if(!(t&&t._isEnabled&&t._resourcesItems&&e.link))return"#";const n=t._resourcesItems.find((({_type:t,_asset:n})=>"document"===t&&n&&n._id===e.link));return _(n?._asset)||"#"},getColumns(){const{screenSize:e,component:{_columns:t}}=this.props;return t?"small"===e?t.mobile||1:"medium"===e?t.tablet||1:t.desktop||1:1},renderItems(){const{component:e}=this.props;return e._items.map((t=>{const n={...t};return"resources"===n._type&&(n._isInternalLink=!1,n._linkTarget="new window"),n._isEnabled=this.getIsItemEnabled(n),"resources"===t._type?n._url=this.getResourceLink(n):t._isInternalLink?n._url="#":n._url=n.link||"#",p.createElement(k,(0,s.default)({key:n._id,component:e,linksItemClicked:this.linksItemClicked},n))}))},render(){const{props:e}=this;return p.createElement(c,{component:e.component,styles:e.styles,onVisibilityChange:this.onVisibilityChange,isVisibilitySensorActive:g(e,"_isComplete")},p.createElement("div",{className:u(e.component)},p.createElement(d,{columns:this.getColumns(),animations:e.component._animations,shouldIgnoreScreenSize:!0},this.renderItems())))}});e.exports=y(C)},97015:(e,t,n)=>{var s=n(7914)(n(2398));const i=n(27378),o=n(90005),r=n(5859),l=n(50998),a=n(54794);e.exports=i.memo((e=>{const t=()=>{const{_isImageLink:t,_graphic:n,_isEnabled:s}=e;if(t&&n){const e=s?n.src:n.disabledSrc,t=s?n.srcAdvanced:n.disabledSrcAdvanced;return i.createElement(r,{className:"ev-links-item-image",graphicSrc:e,graphicSrcAdvanced:t,altText:n.alt,autoSize:!0})}return i.createElement(a,{element:"span",html:e.itemTitle})},n=()=>{const t=e._isImageLink,n=e._isButton&&!t,s=!e._isButton&&!t,i=e._type;return o("ev-links-item-link",{"ev-links-internal":e._isInternalLink,"ev-links-close-window":e._shouldCloseWindow,"ev-links-page-element":e._isInternalLink&&("blocks"===i||"components"===i||"articles"===i),"ev-button":n,"ev-links-anchor":s,"ev-links-image":t,"ev-links-disabled":!e._isEnabled&&!e._isButton,"ev-links-disabled-button":!e._isEnabled&&e._isButton})},m=()=>{if(!e._isInternalLink)switch(e._linkTarget){case"same window":return"_self";case"parent iframe":return"_parent";default:return"_blank"}};return i.createElement("div",{className:`ev-links-item ev-component-item ev-clearfix ev-${e._linkPosition}`},i.createElement("div",{className:(e._isImageLink?"":`ev-${e._linkAlignment} `)+"ev-links-item-container"},(()=>{const o=e._isButton&&"resources"!==e._type;return e._isEnabled?i.createElement("a",(0,s.default)({href:e._url,className:n(),target:m(),onClick:t=>e.linksItemClicked(t,e._id)},o&&{role:"button"}),t()):i.createElement("a",(0,s.default)({className:n()},o&&{role:"button"}),t())})()),e.body&&i.createElement(l,{className:"ev-links-item-body",body:e.body}))}))},85842:(e,t,n)=>{const s=n(8921),i=n(29115),{Observable:o}=n(49923),{updateComponents:r,setComponentAsComplete:l}=n(59345),a=n(84900),m=n(79021),{LINKS_COMPLETE_COMPONENTS_ON_PAGE:p}=n(8851);t.linksCompleteComponentsOnPageEpic=(e,t)=>e.ofType(p).mergeMap((e=>{const n=t.getState(),{components:p}=n,{componentId:c}=e.payload,d=p[c],u=a(n,d,"page"),_=m(n,u,"component"),h=s(_).mapValues((e=>i({},e,{_isComplete:!0}))).keyBy("_id").value();return o.of(r(h),l(c))}))},78059:(e,t,n)=>{const{registerComponent:s,registerEpics:i}=n(60633),o=n(29536),r=n(29287),{linksCompleteComponentsOnPage:l,linksUpdateItems:a}=n(8851),{linksCompleteComponentsOnPageEpic:m}=n(85842);s("links",{component:o,actions:{linksCompleteComponentsOnPage:l,linksUpdateItems:a},reducer:r,mapStateToProps:n(60487),trackingMap:n(62841)}),i(m)},60487:e=>{e.exports=e=>({components:e.components})},29287:(e,t,n)=>{const{LINKS_ITEMS_UPDATED:s}=n(8851);e.exports=function(e,t){return t.type===s?{...e,_items:t.payload.items}:e}},62841:e=>{e.exports={_interactionType:{type:"String",default:"interaction",shouldRestore:!1},_items:{fieldKey:"_items",type:"Array",shouldRestore:!0,subMap:{_id:{fieldKey:"_id",type:"String"},_isVisited:{fieldKey:"_isVisited",type:"Boolean",shouldRestore:!0}}}}},9184:(e,t,n)=>{const s=n(8921),i=n(29115),o=n(52898),r=n(27378),l=n(90005),{bool:a,func:m,object:p,number:c,string:d}=n(23615),{connect:u}=n(13844),{Trail:_,config:h,animated:g,interpolate:I}=n(24450),y=n(99744),k=n(24297),C=o({displayName:"Grid",propTypes:{isList:a.isRequired,isRTL:a.isRequired,shouldIgnoreScreenSize:a.isRequired,animations:p,gridItemStyle:p,gridItemInnerStyle:p,windowWidth:c.isRequired,getGridItemInnerStyle:m,hasGridItemInnerPadding:a,className:d,columns:c,separatorBorder:d},getDefaultProps:()=>({isList:!1,isRTL:!1,shouldIgnoreScreenSize:!1,gridItemStyle:{},gridItemInnerStyle:{},hasGridItemInnerPadding:!0,animations:{_slideInX:{_isEnabled:!1},_slideInY:{_isEnabled:!1},_fadeInItem:{_isEnabled:!1},_scaleInItem:{_isEnabled:!1},_easing:"default"}}),getInitialState(){return{columns:this.getColumns(window.innerWidth,this.props.columns),isVisible:!1}},componentDidMount(){this._isMounted=!0},componentWillUnmount(){this._isMounted=!1},UNSAFE_componentWillReceiveProps(e){const{props:t}=this,n=e.windowWidth!==t.windowWidth,s=t.columns!==e.columns;(n||s)&&this.updateColumns(e.windowWidth,e.columns)},getColumns(e,t){return this.props.shouldIgnoreScreenSize?t:e>=768?t||2:e<768&&e>=520?1===t?1:2:1},updateColumns(e,t){this._isMounted&&this.setState({columns:this.getColumns(e,t)})},getAnimationsEnabled(){const{animations:e}=this.props;return!!e&&0!==s(e).values().filter("_isEnabled").value().length},getGridItemStyle(e,t,n,s,o,r){const{isRTL:l}=this.props,a=100/this.state.columns,m=i({flex:`${a}%`,textAlign:"center",boxSizing:"border-box",margin:"10px 0"},this.props.gridItemStyle);t&&(m.opacity=n,m.transform=I([s,o,r],((e,t,n)=>`translate(${e}%,${t}%) scale(${n})`)));const p=this.props.children.length%this.state.columns;if((e+1)%this.state.columns!=0&&this.props.separatorBorder&&(m.borderRight=this.props.separatorBorder),0===p)return m;if(1===p)return e===this.props.children.length-1&&(m.margin="auto"),m;if(e===this.props.children.length-p){let e=a/2;2===p&&4===this.state.columns&&(e=a),m[l?"marginRight":"marginLeft"]=`${e}%`}return m},getGridItemInnerStyle(e){const{gridItemInnerStyle:t,getGridItemInnerStyle:n,hasGridItemInnerPadding:s}=this.props,o=n?n(e):{};return i({padding:s?"0 10px":0,boxSizing:"border-box"},t,o)},onVisibilityChange(e){e&&this.setState({isVisible:!0})},getSpringTo(){return this.state.isVisible?{opacity:1,x:0,y:0,scale:1}:k(this.props.animations)},renderTrailItem(e,t){const n=this.props.isList?g.li:g.div;return({opacity:s,x:i,y:o,scale:l})=>r.createElement(n,{key:e?.key??t,className:"ev-grid-item",style:this.getGridItemStyle(t,!0,s,i,o,l)},r.createElement("div",{className:"ev-grid-item-inner",style:this.getGridItemInnerStyle(t)},e))},renderGridItems(e){const{isList:t,children:n,animations:s}=this.props,i=t?g.li:g.div;return e?r.createElement(_,{native:!0,key:n.length,keys:n.map(((e,t)=>e?.key??t)),items:n,config:h[s._easing]||h.default,from:k(s),to:this.getSpringTo()},this.renderTrailItem):n.map(((e,t)=>r.createElement(i,{key:e?.key??t,className:"ev-grid-item",style:this.getGridItemStyle(t,!1)},r.createElement("div",{className:"ev-grid-item-inner",style:this.getGridItemInnerStyle(t)},e))))},render(){const e=this.props.isList?"ul":"div",t=this.getAnimationsEnabled(),n=l("ev-grid",this.props.className);return t?r.createElement(y,{active:!1===this.state.isVisible,partialVisibility:!0,scrollCheck:!0,scrollThrottle:10,intervalDelay:250,minTopValue:200,onChange:this.onVisibilityChange},r.createElement(e,{className:n},this.renderGridItems(!0))):r.createElement(e,{className:n},this.renderGridItems(!1))}});e.exports=u((({device:e,course:t})=>({windowWidth:e.windowWidth,isRTL:t._isRTL})))(C)},20687:e=>{e.exports=(e,t="_hasBeenViewed")=>{const{component:n,isPageReady:s}=e;return!0===s&&!0===n._isReady&&!0!==n[t]}},37238:(e,t,n)=>{const s=n(90005);e.exports=e=>s(`ev-${e._component}-widget ev-component-widget ev-clearfix`,{"ev-disabled":!e._isEnabled,"ev-complete ev-show-user-answer":e._isComplete&&!e._isEnabled,"ev-correct":e._isCorrect&&!e._isEnabled,"ev-submitted":e._isSubmitted})},52875:e=>{e.exports=function(e,t,n,s,i){s&&s.props&&s.props.component?(t.top&&(s.isInviewTop=!0),t.bottom&&(s.isInviewBottom=!0),s.isInviewTop&&s.isInviewBottom&&i&&i(s.props.component._id)):console.error("No component reference passed to helpers/visibilityChangeHandler")}}}]);