"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[4069],{81441:(e,s)=>{s.GLOSSARY_ITEM_CLICKED="GLOSSARY_ITEM_CLICKED",s.GLOSSARY_SEARCH_TEXT_CHANGED="GLOSSARY_SEARCH_TEXT_CHANGED",s.GLOSSARY_SEARCH_DESCRIPTION_CHANGED="GLOSSARY_SEARCH_DESCRIPTION_CHANGED",s.glossaryItemClicked=e=>({type:s.GLOSSARY_ITEM_CLICKED,payload:e}),s.glossarySearchTextChanged=e=>({type:s.GLOSSARY_SEARCH_TEXT_CHANGED,payload:e}),s.glossarySearchDescriptionChanged=e=>({type:s.GLOSSARY_SEARCH_DESCRIPTION_CHANGED,payload:e})},81124:(e,s,t)=>{const r=t(69238),a=t(55807),i=t(52898),{array:n,bool:o,func:l,object:c,shape:d,string:h}=t(23615),g=t(27378),{connect:p}=t(13844),m=t(90005),{setAriaLive:y}=t(97541),{ContentContainer:_,HeroImage:S}=t(73931),u=t(53021),E=t(50998),C=t(96155),I=t(40155),v=t(59326),R=t(89270),{glossaryItemClicked:b,glossarySearchTextChanged:A,glossarySearchDescriptionChanged:N}=t(81441),x=t(43977),T=i({displayName:"Glossary",propTypes:{glossary:d({title:h,description:h,searchPlaceholder:h,searchText:h,ariaLabel:h,searchAriaLabel:h,itemNotFoundMessage:h,shouldSearchInDescription:o,searchWithinDescriptionLabel:h,_glossaryItems:n,_heroImage:c,_headerIcon:h}).isRequired,theme:c.isRequired,isReady:o.isRequired,glossarySearchTextChanged:l.isRequired,glossaryItemClicked:l.isRequired,glossarySearchDescriptionChanged:l.isRequired,setAriaLive:l.isRequired},componentDidUpdate(e){const{glossary:s}=this.props;!s._glossaryItems.length&&e.glossary._glossaryItems.length&&this.props.setAriaLive({message:this.props.glossary.itemNotFoundMessage,isAssertive:!1,delay:500})},renderTitle(){if(this.props.glossary.title)return g.createElement(C,{headingElement:`h${this.context}`,displayTitle:this.props.glossary.title,className:"ev-header-title",innerClassName:"ev-header-title-inner"})},renderDescription(){if(this.props.glossary.description)return g.createElement(E,{className:"ev-header-body",innerClassName:"ev-header-body-inner",body:this.props.glossary.description})},renderSearch(){const{glossary:e,glossarySearchTextChanged:s,glossarySearchDescriptionChanged:t}=this.props;return g.createElement(g.Fragment,null,g.createElement("div",{className:"ev-glossary-search"},g.createElement("input",{className:"ev-glossary-search-input ev-input-text ev-input-search",type:"search",placeholder:e.searchPlaceholder,"aria-label":e.searchAriaLabel,value:e.searchText,onChange:({target:e})=>s(e.value)}),g.createElement("label",{className:"ev-glossary-search-description ev-label"},g.createElement("input",{id:"search-checkbox",type:"checkbox",className:"ev-input-checkbox",checked:e.shouldSearchInDescription,onChange:({target:e})=>t(e.checked)}),e.searchWithinDescriptionLabel||"Search within Description")),g.createElement("div",null,e._glossaryItems.length?"":e.itemNotFoundMessage))},renderGlossaryItems(){const{glossary:e,glossaryItemClicked:s}=this.props;if(e._glossaryItems.length)return g.createElement("ul",{className:"ev-list-items"},a(e._glossaryItems,(e=>g.createElement(x,{key:e._id,item:e,onItemClicked:s}))))},renderHeroImage(){const{_heroImage:e}=this.props.glossary;if(e?._isEnabled)return g.createElement(R.Provider,{value:this.props.glossary.title?this.context+1:this.context},g.createElement(S,{title:e.title,body:e.body,graphic:e._graphic,_contentWidth:e._contentWidth,layout:e.layout,floatingGraphic:e._floatingGraphic,parentSelector:".ev-extension-hero-container",theme:this.props.theme,isReady:this.props.isReady}))},render(){const{glossary:e,isReady:s,theme:t}=this.props,r=e._headerIcon,a=t._extensions._glossary?._settings?._headerIcon,i=r||a;return g.createElement(_,{region:"glossary",className:"ev-extension ev-glossary",ariaLabel:e.ariaLabel},g.createElement("div",{className:"ev-extension-inner"},s?null:g.createElement(u,null),g.createElement("div",{className:"ev-extension-hero-container"},this.renderHeroImage()),g.createElement("div",{className:"ev-header"},g.createElement("div",{className:m("ev-header-inner ev-clearfix",{"ev-no-graphic":!i})},g.createElement("div",{className:"ev-header-left"},this.renderTitle(),this.renderDescription()),i&&g.createElement("div",{className:"ev-header-right"},g.createElement(I,{icon:i})))),g.createElement(v,null,this.renderSearch(),this.renderGlossaryItems())))}});T.contextType=R,e.exports=p((({glossary:e,theme:s,location:t})=>({glossary:{...e,_glossaryItems:r(e._glossaryItems,"_isVisible")},theme:s,isReady:t.isLocationReady})),{glossaryItemClicked:b,glossarySearchTextChanged:A,glossarySearchDescriptionChanged:N,setAriaLive:y})(T)},43977:(e,s,t)=>{const r=t(23615),a=t(27378),i=t(13914),n=t(50998),o=t(79325),l=({item:e,onItemClicked:s})=>a.createElement("li",{className:"ev-glossary-item ev-list-item"},a.createElement(o,{id:`ev-glossary-item-${e._id}`,className:"ev-glossary-item-term ev-list-item-inner",onClick:()=>s(e._id),onKeyDown:e=>{i.isSpaceKey(e)&&s(e)},"aria-expanded":e._isSelected,"aria-controls":`${e._id}content`,text:e.term,textAlignment:"left"}),a.createElement(n,{id:`${e._id}content`,className:"ev-glossary-item-description ev-list-item-content"+(e._isSelected?"":" ev-display-none"),innerClassName:"ev-glossary-item-description-inner ev-list-item-content-inner",ariaLabelledby:`ev-glossary-item-${e._id}`,role:"region",body:e.description}));l.propTypes={item:r.shape({_id:r.string.isRequired,_isSelected:r.bool,term:r.string,description:r.string}).isRequired,onItemClicked:r.func.isRequired},e.exports=l},48043:(e,s,t)=>{const{Observable:r}=t(49923),{SETUP_APP:a}=t(36329),{addElement:i}=t(15766),{NavigationSideItem:n}=t(35074),o=t(57046),l=t(81124);s.glossaryElementsEpic=(e,s)=>e.filter((e=>e.type===a&&s.getState().course._glossary?._isEnabled)).mergeMap((()=>r.of(i({parent:"navigationSide",name:"glossary",component:n,props:{link:"/glossary",icon:o("_glossary","_navigationIcon","typewriter"),label:s.getState().course._glossary.title}}),i({parent:"router",name:"glossary",path:"/glossary",exact:!0,component:l,getShouldPersist:e=>e?.course?._glossary?._isEnabled}))))},37412:(e,s,t)=>{const{registerReducer:r,registerEpics:a}=t(60633),i=t(89424),n=t(53546),{glossaryElementsEpic:o}=t(48043);r("glossary",n),a(o,i("glossary"))},53546:(e,s,t)=>{const r=t(55807),{SETUP_APP:a}=t(36329),{GLOSSARY_ITEM_CLICKED:i,GLOSSARY_SEARCH_TEXT_CHANGED:n,GLOSSARY_SEARCH_DESCRIPTION_CHANGED:o}=t(81441),l={searchText:"",shouldSearchInDescription:!1};function c(e,s,t){const a=t?"description":"term",i=s.toLowerCase();return r(e,(e=>e[a]?.toLowerCase?.().indexOf?.(i)>-1?{...e,_isVisible:!0}:{...e,_isVisible:!1,_isSelected:!1})).sort(((e,s)=>{const t=e.term||"",r=s.term||"";return t.localeCompare(r)}))}e.exports=(e=l,s)=>{if(s.type===a){const e=s.payload.course._glossary;return e?._isEnabled?{...l,...e,_glossaryItems:c(e._glossaryItems,l.searchText,l.shouldSearchInDescription)}:l}if(!e._isEnabled)return l;switch(s.type){case i:{const t=r(e._glossaryItems,(e=>e._id!==s.payload||e._isSelected?{...e,_isSelected:!1}:{...e,_isSelected:!0}));return{...e,_glossaryItems:c(t,e.searchText,e.shouldSearchInDescription)}}case n:return{...e,searchText:s.payload,_glossaryItems:c(e._glossaryItems,s.payload,e.shouldSearchInDescription)};case o:return{...e,shouldSearchInDescription:s.payload,_glossaryItems:c(e._glossaryItems,e.searchText,s.payload)};default:return e}}},57046:(e,s,t)=>{const r=t(99729),{store:a}=t(60633);e.exports=function(e,s,t){const{course:i,theme:n}=a.getState(),o=i[e],l=r(o,s),c=r(n,["_extensions",e,"_settings",s]);return l||c||t}},89424:(e,s,t)=>{const r=t(99729),{Observable:a}=t(49923),{setLocationReadyState:i,PUSH_LOCATION:n}=t(36329),o=t(75967),l=t(35550);e.exports=(e,s)=>(t,c)=>t.filter((({type:s})=>{if(s!==n)return;const{navigationStatus:t,path:r}=c.getState().location;return"plugin"===t&&r[0]===e})).switchMap((()=>{const t=c.getState(),{device:n,course:d}=t;let h;if(h=s?s(t):r(d,[`_${e}`,"_heroImage"]),!h||!h._graphic)return a.empty();const g=o(h._graphic.src,h._graphic.srcAdvanced,!0);return g?a.concat(a.of(i(!1)),a.bindCallback(l)(g,!1).map((()=>i(!0)))):a.empty()}))}}]);