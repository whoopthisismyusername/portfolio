"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[822],{42403:(e,t)=>{t.FLOW_CHART_INCREASE_STAGE="FLOW_CHART_INCREASE_STAGE",t.flowChartNextStage=e=>({type:t.FLOW_CHART_INCREASE_STAGE,payload:{componentId:e}})},57596:(e,t,i)=>{var n=i(8528);const o=i(55807),s=i(52898),{bool:r,func:a,object:c,string:l}=i(23615),p=i(27378),m=i(31542),{Component:h}=i(30189),d=i(89270),_=i(20687),u=i(52875),g=i(37238),f=i(79325),v=i(75118),C=s({displayName:"FlowChart",propTypes:{component:c.isRequired,navigation:c.isRequired,setComponentAsReady:a.isRequired,setFocusOnAriaLabel:a.isRequired,setComponentAsViewed:a.isRequired,setComponentAsStarted:a.isRequired,setComponentAsComplete:a.isRequired,flowChartNextStage:a.isRequired,styles:c,screenSize:l.isRequired,isInline:r},getInitialState:()=>({_hasClickedNext:!1}),UNSAFE_componentWillMount(){this._refs=[]},componentDidMount(){this.props.setComponentAsReady(this.props.component._id)},UNSAFE_componentWillReceiveProps(e){const{component:t}=e;t._stage!==t._items.length||t._isComplete||(this.props.setFocusOnAriaLabel(!0),this.props.setComponentAsComplete(t._id))},componentDidUpdate(e){const{props:t}=this;e.component._stage===t.component._stage||t.component._shouldDisableProgessionAnimation||this.scrollToItem(t.component._stage)},scrollToItem(e){const{screenSize:t,navigation:i,isInline:o}=this.props;let s=parseInt(i.navigationOffset,10);"medium"!==t&&"small"!==t||(s=parseInt(i.navigationMobileOffset,10)),o&&(s=n(".appheader").height());const r=m.findDOMNode(this._refs[e-1]);n.scrollTo(r,{offset:{top:-s},duration:800})},onButtonClick(){this.setState({_hasClickedNext:!0}),this.props.component._hasStarted||this.props.setComponentAsStarted(this.props.component._id),this.props.flowChartNextStage(this.props.component._id)},onVisibilityChange(...e){u(...e,this,this.props.setComponentAsViewed)},renderItems(){const{props:e,state:t}=this,i=e.component._items.slice(0,e.component._stage);return o(i,((i,n)=>p.createElement(v,{ref:e=>this._refs[n]=e,key:n,index:n,item:i,screenSize:e.screenSize,animations:e.component._animations,canFocus:e.component._canItemsBeFocused,shouldFocus:e.component._canItemsBeFocused&&t._hasClickedNext&&0!==n&&n+1===e.component._stage})))},renderButton(){const{component:e}=this.props;if(e._items.length!==e._stage)return p.createElement("div",{className:"ev-flowchart-next-item"},p.createElement(f,{icon:"arrow-down-circle",iconSize:30,showPulseAnimation:e._canPulsate,"aria-label":e.nextButtonAriaLabel,onClick:this.onButtonClick}))},render(){const{props:e}=this,t=e.component.displayTitle?this.context+1:this.context;return p.createElement(h,{component:e.component,styles:e.styles,isVisibilitySensorActive:_(e),onVisibilityChange:this.onVisibilityChange},p.createElement("div",{className:g(e.component)},p.createElement("div",{className:"ev-flowchart-items",role:"list"},p.createElement(d.Provider,{value:t},this.renderItems())),this.renderButton()))}});C.contextType=d,e.exports=C},75118:(e,t,i)=>{const n=i(52898),o=i(48121),s=i(27378),r=i(31542),a=i(24748),c=i(50998),l=i(5859),p=i(54794),m=i(26614),h=i(89270),d=n({displayName:"FlowChartItem",mixins:[o],componentDidMount(){this.props.shouldFocus&&r.findDOMNode(this).focus()},getAnimations(){return this.props.animations||{_fadeIn:{_isEnabled:!0,_from:0},_easing:"slow"}},getTitleStyle(){const e={},{_titleSettings:t}=this.props.item;return t?._fontSize&&(e.fontSize=`${t._fontSize}px`),t?._textAlign&&(e.textAlign=t._textAlign),e},renderTitle(){if(this.props.item.title)return s.createElement("div",{className:"ev-flowchart-item-title"},s.createElement(p,{className:"ev-flowchart-item-title-inner",element:`h${this.context}`,style:this.getTitleStyle(),html:this.props.item.title}))},renderBody(){if(this.props.item.body)return s.createElement(c,{className:"ev-flowchart-item-body",innerClassName:"ev-flowchart-item-body-inner",body:this.props.item.body})},renderText(){return s.createElement("div",{className:"ev-flowchart-item-content-text"},this.renderTitle(),this.renderBody())},renderGraphic(){const{_graphic:e}=this.props.item;if(m(e))return s.createElement("div",{className:"ev-flowchart-item-content-graphic"},s.createElement(l,{graphicSrc:e.src,graphicSrcAdvanced:e.srcAdvanced,altText:e.alt,autoSize:!0,isLightboxEnabled:e._isLightboxEnabled,lightboxSrc:e.lightboxSrc,lightboxSrcAdvanced:e.lightboxSrcAdvanced,isMagnifierEnabled:e._isMagnifierEnabled}))},renderContent(){const{item:e}=this.props;let t="ev-clearfix ev-flowchart-item-content",i="bottom";if(m(e._graphic)){i=e._itemGraphicLayout?e._itemGraphicLayout:"bottom",t+=` ev-flowchart-item-content-layout-${i}`;const n=e._itemGraphicWidth?e._itemGraphicWidth:"half";"right"!==i&&"left"!==i||(t+=` ev-flowchart-item-content-graphic-width-${n}`)}else t+=" ev-flowchart-item-content-no-graphic";return"top"===i||"left"===i?s.createElement("div",{className:t},this.renderGraphic(),this.renderText()):s.createElement("div",{className:t},this.renderText(),this.renderGraphic())},render(){return s.createElement(a,{className:"ev-flowchart-item ev-list-item",tag:"div",role:"listitem",startAnimation:!0,animations:this.getAnimations(),tabIndex:this.props.canFocus?"-1":null},this.renderContent())}});d.contextType=h,e.exports=d},98505:(e,t,i)=>{const{registerComponent:n}=i(60633),o=i(57596),s=i(22687),{flowChartNextStage:r}=i(42403);n("flowChart",{component:o,actions:{flowChartNextStage:r},reducer:s,trackingMap:i(64173),mapStateToProps:({navigation:e})=>({navigation:e})})},22687:(e,t,i)=>{const{SETUP_COMPONENT:n}=i(59345),{FLOW_CHART_INCREASE_STAGE:o}=i(42403);e.exports=(e,t)=>{switch(t.type){case n:return{...e,_stage:e._stage||1};case o:return{...e,_stage:e._stage+1};default:return e}}},64173:e=>{e.exports={_interactionType:{type:"String",default:"interaction",shouldRestore:!1}}},20687:e=>{e.exports=(e,t="_hasBeenViewed")=>{const{component:i,isPageReady:n}=e;return!0===n&&!0===i._isReady&&!0!==i[t]}},37238:(e,t,i)=>{const n=i(90005);e.exports=e=>n(`ev-${e._component}-widget ev-component-widget ev-clearfix`,{"ev-disabled":!e._isEnabled,"ev-complete ev-show-user-answer":e._isComplete&&!e._isEnabled,"ev-correct":e._isCorrect&&!e._isEnabled,"ev-submitted":e._isSubmitted})},52875:e=>{e.exports=function(e,t,i,n,o){n&&n.props&&n.props.component?(t.top&&(n.isInviewTop=!0),t.bottom&&(n.isInviewBottom=!0),n.isInviewTop&&n.isInviewBottom&&o&&o(n.props.component._id)):console.error("No component reference passed to helpers/visibilityChangeHandler")}}}]);