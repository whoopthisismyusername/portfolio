(self.webpackChunk=self.webpackChunk||[]).push([[9263],{83638:t=>{"use strict";t.exports={mcq:["title","displayTitle","_displayTitleSettings","body","instruction","itemsGroupAriaLabel","_attempts","_shouldDisplayAttempts","_isRandom","_selectable","_shouldUseIndividualItemFeedback","_canAutoSubmit","_items","_feedback","_shouldUseQuestionGraphic","_questionGraphic","_itemsPerRow","_useCustomItemPrefix"],gmcq:["title","displayTitle","_displayTitleSettings","body","instruction","itemsGroupAriaLabel","_attempts","_shouldDisplayAttempts","_isRandom","_selectable","_shouldUseIndividualItemFeedback","_canAutoSubmit","_items","_feedback","_itemsPerRow"]}},65287:(t,e,n)=>{"use strict";const s=n(8921),o=n(69238),i=n(55807),_=n(29115),a=n(38354),p=n(72856),c=n(64925),r=n(66259),m=n(91311),u=n(55244),{Observable:d}=n(49923),{APP_READY:l}=n(36329),{overwriteComponents:b,SETUP_COMPONENT:f,SETUP_ANSWER_STATE:k,RESETTED_COMPONENTS:E}=n(59345),h=n(89725),{COURSE_ASSESSMENT_COMPONENTS_RESET:y}=n(95307),S=n(83638);function v(t,e={}){return s(t).pick(S[t._component]).omitBy((t=>"string"==typeof t&&0===t.trim().length)).assign(e).value()}e.setupQuestionBanksEpic=(t,e)=>t.filter((({type:t})=>{if(t===l||t===y||t===E){const t=e.getState().course._questionBanks;return t&&t._isEnabled&&t._banks.length>0}return!1})).mergeMap((({type:t})=>{const n=e.getState(),s=o(n.components,(t=>t._useQuestionBank&&t._questionBankId)),l={};if(!s.length)return d.empty();const S=i(n.course._questionBanks._banks,(t=>{const e=t._components||[];return _({},t,{_components:[...e]})})),g=a(s,(t=>t._bankComponentId&&t._isComplete?"revisited":"components"));return p(g.revisited||[],(t=>{const e=t._questionBankId,n=c(S,(t=>t._id===e));if(n&&n._components.length){const e=r(n._components,(e=>e._id===t._bankComponentId));if(-1!==e){const s=n._components[e],o=i(t._items,(t=>{const e=c(s._items,{_id:t._id});return _({},e,t)}));l[t._id]={...t,...v(s,{_attemptsLeft:t._attemptsLeft,_items:o})},n._components.splice(e,1)}}})),p(g.components||[],(e=>{const s=e._questionBankId,o=c(S,(t=>t._id===s));if(o&&o._components.length){const s=n.originalComponents[e._id],i=m(0,o._components.length-1),_=o._components[i];let a={...s,...v(_,{_bankComponentId:_._id})};o._components.splice(i,1),(t===y||t===E||n.app.previewKey>0)&&(a=u([t=>h(t,{type:f}),t=>h(t,{type:k})])(a)),l[e._id]=a}})),d.of(b(l))}))},7256:(t,e,n)=>{"use strict";const{registerEpics:s}=n(60633),{setupQuestionBanksEpic:o}=n(65287);s(o)},91311:(t,e,n)=>{var s=n(76418),o=n(57535),i=n(94919),_=parseFloat,a=Math.min,p=Math.random;t.exports=function(t,e,n){if(n&&"boolean"!=typeof n&&o(t,e,n)&&(e=n=void 0),void 0===n&&("boolean"==typeof e?(n=e,e=void 0):"boolean"==typeof t&&(n=t,t=void 0)),void 0===t&&void 0===e?(t=0,e=1):(t=i(t),void 0===e?(e=t,t=0):e=i(e)),t>e){var c=t;t=e,e=c}if(n||t%1||e%1){var r=p();return a(t+r*(e-t+_("1e-"+((r+"").length-1))),e)}return s(t,e)}}}]);