"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[961],{10207:(e,t)=>{t.TAB_ITEM_SELECTED="TAB_ITEM_SELECTED",t.TAB_ITEM_VIDEO_METRICS="TAB_ITEM_VIDEO_METRICS",t.tabItemSelected=e=>({type:t.TAB_ITEM_SELECTED,payload:e}),t.tabItemVideoMetricsChanged=e=>({type:t.TAB_ITEM_VIDEO_METRICS,payload:e})},52374:(e,t,i)=>{const n=i(99729),s=i(52898),o=i(23615),r=i(27378),a=i(90005),{Component:d}=i(30189),c=i(89270),m=i(37238),l=i(20687),p=i(52875),b=i(78539),_=i(66915),h=s({displayName:"Tabs",propTypes:{component:o.object.isRequired,setComponentAsReady:o.func.isRequired,setComponentAsViewed:o.func.isRequired,setComponentAsComplete:o.func.isRequired,tabItemSelected:o.func.isRequired,styles:o.object,screenSize:o.string.isRequired,tabItemVideoMetricsChanged:o.func.isRequired,animationEnded:o.bool,isRTL:o.bool},componentDidMount(){this.props.setComponentAsReady(this.props.component._id)},UNSAFE_componentWillReceiveProps({component:e}){e._isComplete||e._items.filter((e=>e._isVisited)).length===e._items.length&&this.props.setComponentAsComplete(e._id)},onTabItemSelected(e){this.props.tabItemSelected({componentId:this.props.component._id,itemId:e._id})},onItemVideoMetricsChanged(e,t){const{component:i,tabItemVideoMetricsChanged:n}=this.props;n({componentId:i._id,itemId:e,metrics:t})},onVisibilityChange(...e){p(...e,this,this.props.setComponentAsViewed)},renderContent(e){const{props:t}=this,i=e?b:_;return r.createElement(i,{componentId:t.component._id,items:t.component._items,onTabItemSelected:this.onTabItemSelected,onItemVideoMetricsChanged:this.onItemVideoMetricsChanged,tabTextStyles:t.component._tabTextStyles,animations:t.component._animations,animationEnded:t.animationEnded,isRTL:t.isRTL})},render(){const{props:e}=this,t=e.component.displayTitle?this.context+1:this.context,i="large"===e.screenSize||e.component._alwaysUseLargeView;return r.createElement(d,{component:e.component,styles:e.styles,className:a({"ev-can-truncate-tab-text":n(e.component,"_canTruncateTabText",!0),"ev-tabs-large-view":i,"ev-tabs-small-view":!i}),isVisibilitySensorActive:l(e),onVisibilityChange:this.onVisibilityChange},r.createElement("div",{className:m(e.component)},r.createElement(c.Provider,{value:t},this.renderContent(i))))}});h.contextType=c,e.exports=h},78539:(e,t,i)=>{const n=i(55807),s=i(23615),o=i(27378),r=i(79023),a=i(31399),d=e=>{const t=o.useRef([]);t.current=n(e.items,(()=>o.createRef()));const i=t=>{const i=t+1;return i<e.items.length?i:0},s=t=>{const i=t-1;return i>=0?i:e.items.length-1},d=n=>{const o=e.isRTL?s(n):i(n);t.current[o].current.focus()},c=n=>{const o=e.isRTL?i(n):s(n);t.current[o].current.focus()},m=100/e.items.length;return o.createElement("div",null,o.createElement("div",{className:"ev-tabs-item-container ev-tabs-large ev-clearfix",role:"tablist","aria-labelledby":`title-${e.componentId}`},n(e.items,((i,n)=>o.createElement(r,{ref:t.current[n],key:i._id,id:`${e.componentId}-${i._id}`,index:n,item:i,tabWidth:m,tabTextStyles:e.tabTextStyles,onRightCursorKeyPress:d,onLeftCursorKeyPress:c,onTabItemSelected:e.onTabItemSelected})))),n(e.items,(t=>o.createElement(a,{id:`${e.componentId}-${t._id}`,key:t._id,item:t,onItemVideoMetricsChanged:e.onItemVideoMetricsChanged,animations:e.animations,animationEnded:e.animationEnded}))))};d.propTypes={componentId:s.string,items:s.array,animations:s.object,animationEnded:s.bool,tabTextStyles:s.object,isRTL:s.bool,onTabItemSelected:s.func.isRequired,onItemVideoMetricsChanged:s.func.isRequired},e.exports=d},31399:(e,t,i)=>{const{bool:n,func:s,object:o,string:r}=i(23615),a=i(27378),d=i(52898),c=i(90005),m=i(48121),l=i(13756),p=i(26614),b=i(32153),_=i(35550),h=i(5859),u=i(24748),v=i(50998),S=i(54794),y=i(22972),T=i(54659),g=i(89270),E=d({displayName:"TabsLargeViewContent",propTypes:{id:r.isRequired,item:o.isRequired,onItemVideoMetricsChanged:s.isRequired,animations:o,animationEnded:n},mixins:[m],componentDidUpdate({item:e}){const{item:t}=this.props;"video"===b(t)&&t._isSelected&&!e._isSelected&&t._video?._shouldAutoPlay&&this._video?.play?.()},onItemVideoMetricsChange(e){this.props.onItemVideoMetricsChanged(this.props.item._id,e)},getContentClassName(){const{_graphic:e,_itemGraphicLayout:t="top"}=this.props.item,i=`ev-clearfix ev-tabs-item-content ev-tabs-item-content-layout-${t}`;if(!p(e))return i;const{_itemGraphicWidth:n="half"}=this.props.item,s="image"===b(this.props.item)&&("right"===t||"left"===t);return c(i,{[`ev-tabs-item-content-graphic-width-${n}`]:s})},renderMedia(){switch(b(this.props.item)){case"image":return this.renderGraphic();case"video":return this.renderVideo();case"videoStream":return this.renderVideoStream();default:return null}},renderGraphic(){const{_graphic:e}=this.props.item;return a.createElement("div",{className:"ev-tabs-item-content-graphic"},a.createElement(h,{graphicSrc:e.src,graphicSrcAdvanced:e.srcAdvanced,altText:e.alt,autoSize:!0,isLightboxEnabled:e._isLightboxEnabled,lightboxSrc:e.lightboxSrc,lightboxSrcAdvanced:e.lightboxSrcAdvanced,isMagnifierEnabled:e._isMagnifierEnabled}))},renderVideo(){const{item:e}=this.props;return a.createElement("div",{className:"ev-tabs-item-content-video"},a.createElement("div",{className:"ev-tabs-item-content-video-inner"},a.createElement(T,{ref:e=>this._video=e,src:l(e._video.mp4),posterSrc:_(e._video.poster),subtitlesSrc:l(e._video._subtitles?.src),subtitlesLabel:e._video._subtitles?.label,transcriptText:e._video._transcript?.body,transcriptButtonText:e._video._transcript?.button,metrics:e._metrics,autoPlay:e._video._shouldAutoPlay,onMetricsChange:this.onItemVideoMetricsChange,isVisible:e._isSelected,animationEnded:this.props.animationEnded})))},renderVideoStream(){const{item:e}=this.props;return a.createElement("div",{className:"ev-tabs-item-content-video"},a.createElement("div",{className:"ev-tabs-item-content-video-inner"},a.createElement(y,{id:this.props.id,service:e._videoStream._service,options:e._videoStream._options,transcriptText:e._videoStream._transcript?.body,transcriptButtonText:e._videoStream._transcript?.button,isVisible:e._isSelected})))},renderText(){const{item:e}=this.props;return a.createElement("div",{className:"ev-tabs-item-content-text"},a.createElement(S,{element:`h${this.context}`,className:"ev-tabs-item-content-title",html:e.title}),e.body&&a.createElement(v,{className:"ev-tabs-item-content-body",body:e.body}))},renderContent(){const{_itemGraphicLayout:e="top"}=this.props.item;return"top"===e||"left"===e?a.createElement(a.Fragment,null,this.renderMedia(),this.renderText()):a.createElement(a.Fragment,null,this.renderText(),this.renderMedia())},render(){const{props:e}=this;return a.createElement("div",{hidden:!e.item._isSelected,role:"tabpanel",id:`ev-panel-${e.id}`,"aria-labelledby":`ev-tab-${e.id}`},a.createElement("div",{className:this.getContentClassName()},a.createElement(u,{className:"ev-clearfix",animations:e.animations,startAnimation:e.item._isSelected},this.renderContent())))}});E.contextType=g,e.exports=E},79023:(e,t,i)=>{const n=i(27378),s=i(23615),o=i(90005),{isEnterKey:r,isSpaceKey:a,getDirectionKey:d}=i(13914),c=n.forwardRef(((e,t)=>n.createElement("div",{ref:t,id:`ev-tab-${e.id}`,className:o("ev-tabs-item",{"ev-selected":e.item._isSelected,"ev-visited":e.item._isVisited}),style:{width:`${e.tabWidth}%`,maxWidth:`${e.tabWidth}%`},role:"tab","aria-selected":!0===e.item._isSelected,"aria-controls":`ev-panel-${e.id}`,tabIndex:e.item._isSelected?0:-1,onKeyDown:t=>{if(r(t)||a(t))return e.onTabItemSelected(e.item),void t.preventDefault();const i=d(t);"right"===i&&e.onRightCursorKeyPress(e.index),"left"===i&&e.onLeftCursorKeyPress(e.index)},onClick:()=>e.onTabItemSelected(e.item)},n.createElement("div",{className:"ev-tabs-item-inner",style:(()=>{const t={};return e.tabTextStyles?(e.tabTextStyles._fontSize&&(t.fontSize=`${e.tabTextStyles._fontSize}px`),e.tabTextStyles._textAlign&&(t.textAlign=e.tabTextStyles._textAlign),t):t})()},e.item.tabText))));c.displayName="TabsLargeViewNavigationItem",c.propTypes={id:s.string.isRequired,index:s.number.isRequired,item:s.object.isRequired,tabWidth:s.number.isRequired,tabTextStyles:s.object,onLeftCursorKeyPress:s.func.isRequired,onRightCursorKeyPress:s.func.isRequired,onTabItemSelected:s.func.isRequired},e.exports=c},66915:(e,t,i)=>{const n=i(55807),{array:s,bool:o,func:r,object:a,string:d}=i(23615),c=i(27378),m=i(86206),l=e=>c.createElement("div",{className:"ev-tabs-item-container ev-tabs-small ev-clearfix",role:"tablist","aria-labelledby":`title-${e.componentId}`,"aria-orientation":"vertical"},n(e.items,((t,i)=>c.createElement(m,{id:`${e.componentId}-${t._id}`,key:t._id,item:t,index:i,tabTextStyles:e.tabTextStyles,animations:e.animations,animationEnded:e.animationEnded,onTabItemSelected:e.onTabItemSelected,onItemVideoMetricsChanged:e.onItemVideoMetricsChanged}))));l.propTypes={componentId:d,items:s,tabTextStyles:a,animations:a,animationEnded:o,onTabItemSelected:r.isRequired,onItemVideoMetricsChanged:r.isRequired},e.exports=c.memo(l)},86206:(e,t,i)=>{const{bool:n,func:s,object:o,string:r}=i(23615),a=i(27378),d=i(52898),c=i(90005),m=i(48121),l=i(13756),p=i(32153),{isEnterKey:b}=i(13914),_=i(35550),h=i(5859),u=i(24748),v=i(54794),S=i(50998),y=i(89270),T=i(54659),g=i(22972),E=d({displayName:"TabsSmallViewContent",propTypes:{id:r.isRequired,item:o.isRequired,animations:o,animationEnded:n,tabTextStyles:o,onTabItemSelected:s.isRequired,onItemVideoMetricsChanged:s.isRequired},mixins:[m],componentDidUpdate({item:e}){const{item:t}=this.props;"video"===p(t)&&t._isSelected&&!e._isSelected&&t._video?._shouldAutoPlay&&this._video?.play?.()},onTabsItemClicked(e){e.preventDefault(),this.props.onTabItemSelected(this.props.item)},onKeyDown(e){b(e)&&this.props.onTabItemSelected(this.props.item)},onItemVideoMetricsChange(e){this.props.onItemVideoMetricsChanged(this.props.item._id,e)},getTabTextStyle(){const{props:e}=this,t={};return e.tabTextStyles?(e.tabTextStyles._fontSize&&(t.fontSize=`${e.tabTextStyles._fontSize}px`),e.tabTextStyles._textAlign&&(t.textAlign=e.tabTextStyles._textAlign),t):t},renderMedia(e){const t=this.props.item._itemGraphicLayout;if(e&&"bottom"!==t||!e&&"bottom"===t)return;const i=c("ev-tabs-item-content-media",{"ev-is-bottom":e});switch(p(this.props.item)){case"image":return this.renderGraphic(i);case"video":return this.renderVideo(i);case"videoStream":return this.renderVideoStream(i);default:return null}},renderGraphic(e){const{_graphic:t}=this.props.item;return a.createElement(h,{className:e,graphicSrc:t.src,graphicSrcAdvanced:t.srcAdvanced,altText:t.alt,autoSize:!0,isLightboxEnabled:t._isLightboxEnabled,lightboxSrc:t.lightboxSrc,lightboxSrcAdvanced:t.lightboxSrcAdvanced,isMagnifierEnabled:t._isMagnifierEnabled})},renderVideo(e){const{item:t}=this.props;return a.createElement("div",{className:e},a.createElement("div",{className:"ev-tabs-item-content-video-inner"},a.createElement(T,{ref:e=>this._video=e,src:l(t._video.mp4),posterSrc:_(t._video.poster),subtitlesSrc:l(t._video._subtitles?.src),subtitlesLabel:t._video._subtitles?.label,transcriptText:t._video._transcript?.body,transcriptButtonText:t._video._transcript?.button,metrics:t._metrics,autoPlay:t._video._shouldAutoPlay,onMetricsChange:this.onItemVideoMetricsChange,isVisible:t._isSelected,animationEnded:this.props.animationEnded})))},renderVideoStream(e){const{item:t}=this.props;return a.createElement("div",{className:e},a.createElement("div",{className:"ev-tabs-item-content-video-inner"},a.createElement(g,{id:this.props.id,service:t._videoStream._service,options:t._videoStream._options,transcriptText:t._videoStream._transcript?.body,transcriptButtonText:t._videoStream._transcript?.button,isVisible:t._isSelected})))},render(){const{props:e}=this;return a.createElement("div",null,a.createElement("div",{className:c("ev-tabs-item",{"ev-selected":e.item._isSelected,"ev-visited":e.item._isVisited}),onClick:this.onTabsItemClicked,onKeyDown:this.onKeyDown,role:"tab",tabIndex:"0",id:`ev-tab-${e.id}`,"aria-selected":!0===e.item._isSelected,"aria-controls":`ev-panel-${e.id}`,style:this.getTabTextStyle()},a.createElement("span",{className:"ev-tabs-item-inner"},e.item.tabText)),a.createElement("div",{className:"ev-tabs-item-content",hidden:!e.item._isSelected,role:"tabpanel",id:`ev-panel-${e.id}`,"aria-labelledby":`ev-tab-${e.id}`},a.createElement(u,{animations:e.animations,startAnimation:!0===e.item._isSelected},this.renderMedia(!1),e.item.title&&a.createElement(v,{element:`h${this.context}`,className:"ev-tabs-item-content-title",html:e.item.title}),e.item.body&&a.createElement(S,{className:"ev-tabs-item-content-body",body:e.item.body}),this.renderMedia(!0))))}});E.contextType=y,e.exports=E},30884:(e,t,i)=>{const n=i(55807),{SETUP_COMPONENT:s}=i(59345),{TAB_ITEM_SELECTED:o,TAB_ITEM_VIDEO_METRICS:r}=i(10207);e.exports=(e,t)=>{switch(t.type){case s:return function(e){const t=e._items.find((e=>e._isSelected));if(e._items.length&&!t){const t=n(e._items,((e,t)=>({...e,_isSelected:0===t,_isVisited:0===t})));return{...e,_items:t}}return e}(e);case o:return function(e,t){const{itemId:i}=t.payload,s=n(e._items,(e=>e._id===i?{...e,_isSelected:!0,_isVisited:!0}:e._isSelected?{...e,_isSelected:!1}:e));return{...e,_items:s}}(e,t);case r:return function(e,t){const i=n(e._items,(e=>e._id===t.payload.itemId?{...e,_metrics:t.payload.metrics}:e));return{...e,_items:i}}(e,t);default:return e}}},22677:(e,t,i)=>{const{registerComponent:n}=i(60633),s=i(52374),o=i(30884),{tabItemSelected:r,tabItemVideoMetricsChanged:a}=i(10207);n("tabs",{component:s,actions:{tabItemSelected:r,tabItemVideoMetricsChanged:a},reducer:o,trackingMap:i(91834)})},91834:e=>{e.exports={_interactionType:{type:"String",default:"interaction",shouldRestore:!1},_items:{fieldKey:"_items",type:"Array",shouldRestore:!0,subMap:{_id:{fieldKey:"_id",type:"String"},_isVisited:{fieldKey:"_isVisited",type:"Boolean",shouldRestore:!0},_metrics:{fieldKey:"_metrics",type:"Object",shouldRestore:!0}}}}},20687:e=>{e.exports=(e,t="_hasBeenViewed")=>{const{component:i,isPageReady:n}=e;return!0===n&&!0===i._isReady&&!0!==i[t]}},32153:(e,t,i)=>{const n=i(99729),s=i(26614);e.exports=e=>{const t=n(e,"_mediaType","image");switch(t){case"gif":if(!e._gif?.src)return;break;case"video":if(!e._video?.mp4)return;break;case"videoStream":if(!e._videoStream?._service||!e._videoStream?._options?._source)return;break;default:if(!s(e._graphic))return}return t}},37238:(e,t,i)=>{const n=i(90005);e.exports=e=>n(`ev-${e._component}-widget ev-component-widget ev-clearfix`,{"ev-disabled":!e._isEnabled,"ev-complete ev-show-user-answer":e._isComplete&&!e._isEnabled,"ev-correct":e._isCorrect&&!e._isEnabled,"ev-submitted":e._isSubmitted})},52875:e=>{e.exports=function(e,t,i,n,s){n&&n.props&&n.props.component?(t.top&&(n.isInviewTop=!0),t.bottom&&(n.isInviewBottom=!0),n.isInviewTop&&n.isInviewBottom&&s&&s(n.props.component._id)):console.error("No component reference passed to helpers/visibilityChangeHandler")}}}]);