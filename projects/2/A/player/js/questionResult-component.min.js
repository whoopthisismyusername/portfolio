"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[5736],{22425:(e,t,s)=>{const o=s(8921),i=s(52898),n=s(23615),r=s(27378),{Component:c}=s(30189),a=s(37238),{connect:p}=s(13844),{createScoreSelector:l}=s(15979),d=s(96598),m=i({displayName:"QuestionResult",propTypes:{component:n.object.isRequired,setComponentAsReady:n.func.isRequired,setComponentAsComplete:n.func.isRequired,setComponentAsViewed:n.func.isRequired,setComponentAsStarted:n.func.isRequired,isPageReady:n.bool,score:n.number.isRequired,styles:n.object,screenSize:n.string},componentDidMount:function(){const{props:e}=this;e.setComponentAsReady(e.component._id)},getCurrentFeedback:function(){const{props:e}=this;return o(e.component._feedbackItems).filter((t=>t._correctQuestionsRequired<=e.score)).sortBy((e=>e._correctQuestionsRequired)).last().value()},onVisibilityChange:function(e,{top:t,bottom:s}){const{props:o}=this;t&&(this.isInviewTop=!0),s&&(this.isInviewBottom=!0),this.isInviewTop&&this.isInviewBottom&&(o.component._hasBeenViewed||o.setComponentAsViewed(o.component._id),o.setComponentAsComplete(o.component._id),o.setComponentAsStarted(o.component._id))},getIsVisibilitySensorActive:function(){const{component:e,isPageReady:t}=this.props;return!0===t&&!0===e._isReady&&!0!==e._isComplete},renderFeedback:function(){const{props:e}=this,t=this.getCurrentFeedback();return t?r.createElement(d,{feedback:t,score:e.score,scorePrefix:e.component._scorePrefix,scorePostfix:e.component._scorePostfix,scoreTextStyle:e.component._scoreTextSettings,screenSize:e.screenSize}):r.createElement("div",{className:"ev-question-result-no-feedback-text"},e.component._noFeedbackText)},render:function(){const{props:e}=this;return r.createElement(c,{component:e.component,styles:e.styles,isVisibilitySensorActive:this.getIsVisibilitySensorActive(),onVisibilityChange:this.onVisibilityChange},r.createElement("div",{className:a(e.component)},this.renderFeedback()))}});e.exports=p((()=>{const e=l();return(t,s)=>({score:e(t,s)})}))(m)},96598:(e,t,s)=>{const o=s(52898),i=s(23615),n=s(48121),r=s(27378),c=s(90005),a=s(5859),p=s(26614),l=s(50998),d=o({displayName:"QuestionResultFeedback",propTypes:{feedback:i.object.isRequired,score:i.number.isRequired,scorePrefix:i.string,scorePostfix:i.string,scoreTextStyle:i.object,screenSize:i.string},mixins:[n],getFeedbackScore(){const{score:e,scorePrefix:t,scorePostfix:s}=this.props;return`${t} ${e} ${s}`},getClassName(){const{feedback:e,screenSize:t}=this.props;return c("ev-questionResult-feedback",{"ev-js-graphic-top":"top"===e._graphicPosition||"small"===t&&"left"===e._graphicPosition,"ev-js-graphic-bottom":"bottom"===e._graphicPosition||"small"===t&&"right"===e._graphicPosition,"ev-js-graphic-left":"left"===e._graphicPosition&&"small"!==t,"ev-js-graphic-right":"right"===e._graphicPosition&&"small"!==t})},getScoreTextStyle(){const e={};return this.props.scoreTextStyle?(this.props.scoreTextStyle._fontSize&&(e.fontSize=`${this.props.scoreTextStyle._fontSize}px`),this.props.scoreTextStyle._textAlign&&(e.textAlign=this.props.scoreTextStyle._textAlign),e):e},renderFeedbackGraphic(){const{feedback:e}=this.props;if(p(e._graphic))return r.createElement("div",{className:"ev-questionResult-feedback-image"},r.createElement(a,{graphicSrc:e._graphic.src,graphicSrcAdvanced:e._graphic.srcAdvanced,altText:e._graphic.alt,autoSize:!0}))},render(){return r.createElement("div",{className:this.getClassName()},r.createElement("div",{className:"ev-questionResult-feedback-content"},r.createElement("div",{className:"ev-questionResult-feedback-text"},r.createElement("div",{className:"ev-questionResult-feedback-score"},r.createElement("div",{className:"ev-questionResult-feedback-score-inner",style:this.getScoreTextStyle()},this.getFeedbackScore())),r.createElement(l,{className:"ev-questionResult-feedback-description",body:this.props.feedback.text})),this.renderFeedbackGraphic()))}});e.exports=d},59966:(e,t,s)=>{const{registerComponent:o}=s(60633);o("questionResult",{component:s(22425),trackingMap:s(85400)})},15979:(e,t,s)=>{const o=s(8921),{createSelector:i}=s(80406),n=(e,t)=>e.components,r=(e,t)=>t.component._questionRefIds;t.createScoreSelector=()=>i([n,r],((e,t=[])=>o(e).keyBy((e=>e._refId)).pick(t).filter((e=>e._isComplete&&e._isCorrect)).value().length))},85400:e=>{e.exports={_interactionType:{type:"String",default:"presentation",shouldRestore:!1}}},37238:(e,t,s)=>{const o=s(90005);e.exports=e=>o(`ev-${e._component}-widget ev-component-widget ev-clearfix`,{"ev-disabled":!e._isEnabled,"ev-complete ev-show-user-answer":e._isComplete&&!e._isEnabled,"ev-correct":e._isCorrect&&!e._isEnabled,"ev-submitted":e._isSubmitted})}}]);