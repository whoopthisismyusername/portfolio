"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[2903],{48208:(e,t,o)=>{const n=o(52898),{func:s,object:i}=o(23615),p=o(27378),{Component:r}=o(30189),a=o(37238),m=o(20687),c=o(52875),d=o(22972),l=n({displayName:"VideoStream",propTypes:{component:i.isRequired,setComponentAsReady:s.isRequired,setComponentAsViewed:s.isRequired,setComponentAsStarted:s.isRequired,setComponentAsComplete:s.isRequired,styles:i},setComponentAsComplete(){this.props.setComponentAsComplete(this.props.component._id)},onVisibilityChange(...e){c(...e,this,"inview"===this.props.component._setCompletionOn?this.props.setComponentAsComplete:this.props.setComponentAsViewed)},onPlayerReady(){this.props.setComponentAsReady(this.props.component._id)},onPlayerStarted(){const{component:e,setComponentAsStarted:t}=this.props;e._hasStarted||t(e._id),e._isComplete||"play"!==e._setCompletionOn||this.setComponentAsComplete()},onPlayerEnded(){const{component:e}=this.props;e._isComplete||"ended"!==e._setCompletionOn||this.setComponentAsComplete()},onTranscriptViewed(){this.props.component._isComplete||this.setComponentAsComplete()},renderPlayer(){const{_media:e,_service:t}=this.props.component;if(!t||!e?._source)return;const{_id:o,_transcript:n}=this.props.component;return p.createElement(d,{id:o,service:t,options:e,transcriptType:n?._shouldOpenTranscriptInPopup?"popup":"collapse",transcriptText:n?.body,transcriptButtonText:n?.button,transcriptClassName:"ev-component-body",transcriptInnerClassName:"ev-component-body-inner",onPlayerReady:this.onPlayerReady,onPlayerStarted:this.onPlayerStarted,onPlayerEnded:this.onPlayerEnded,onTranscriptViewed:this.onTranscriptViewed})},render(){const{props:e}=this,t=m(e,"inview"===e.component._setCompletionOn?"_isComplete":"_hasBeenViewed");return p.createElement(r,{component:e.component,styles:e.styles,visibilitySensor:"widget",onVisibilityChange:this.onVisibilityChange,isVisibilitySensorActive:t},p.createElement("div",{className:a(e.component)},this.renderPlayer()))}});e.exports=l},80414:(e,t,o)=>{const{registerComponent:n}=o(60633);n("videoStream",{component:o(48208),trackingMap:o(2137)})},2137:e=>{e.exports={_interactionType:{type:"String",default:"interaction",shouldRestore:!1}}},20687:e=>{e.exports=(e,t="_hasBeenViewed")=>{const{component:o,isPageReady:n}=e;return!0===n&&!0===o._isReady&&!0!==o[t]}},37238:(e,t,o)=>{const n=o(90005);e.exports=e=>n(`ev-${e._component}-widget ev-component-widget ev-clearfix`,{"ev-disabled":!e._isEnabled,"ev-complete ev-show-user-answer":e._isComplete&&!e._isEnabled,"ev-correct":e._isCorrect&&!e._isEnabled,"ev-submitted":e._isSubmitted})},52875:e=>{e.exports=function(e,t,o,n,s){n&&n.props&&n.props.component?(t.top&&(n.isInviewTop=!0),t.bottom&&(n.isInviewBottom=!0),n.isInviewTop&&n.isInviewBottom&&s&&s(n.props.component._id)):console.error("No component reference passed to helpers/visibilityChangeHandler")}}}]);