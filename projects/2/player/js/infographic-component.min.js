"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[6497],{69668:(e,t,i)=>{const{RESET_COMPONENTS:o}=i(59345);t.INFOGRAPHIC_SHOW_ITEM_TOOLTIP="INFOGRAPHIC_SHOW_ITEM_TOOLTIP",t.INFOGRAPHIC_HIDE_ITEM_TOOLTIP="INFOGRAPHIC_HIDE_ITEM_TOOLTIP",t.INFOGRAPHIC_SHOW_HIDE_ITEMS="INFOGRAPHIC_SHOW_HIDE_ITEMS",t.INFOGRAPHIC_ITEM_NAVIGATE="INFOGRAPHIC_ITEM_NAVIGATE",t.INFOGRAPHIC_CLEAR_ITEM_FOCUS="INFOGRAPHIC_CLEAR_ITEM_FOCUS",t.onShowItemTooltip=(e,i,o)=>({type:t.INFOGRAPHIC_SHOW_ITEM_TOOLTIP,payload:{componentId:e,itemId:i,isDialogTooltip:o}}),t.onHideItemTooltip=e=>({type:t.INFOGRAPHIC_HIDE_ITEM_TOOLTIP,payload:{componentId:e}}),t.onShowHideItems=(e,i,o,n)=>({type:t.INFOGRAPHIC_SHOW_HIDE_ITEMS,payload:{componentId:e,itemId:i,showItemIds:o,hideItemIds:n}}),t.onItemNavigate=(e,i)=>({type:t.INFOGRAPHIC_ITEM_NAVIGATE,payload:{componentId:e,itemId:i}}),t.clearItemFocus=e=>({type:t.INFOGRAPHIC_CLEAR_ITEM_FOCUS,payload:{componentId:e}}),t.onInfographicReset=e=>({type:o,payload:{contentIds:[e]}})},91333:(e,t,i)=>{const o=i(69238),n=i(99729),s=i(8921),a=i(52898),{bool:r,func:l,object:c,string:p}=i(23615),d=i(27378),{Component:m}=i(30189),u=i(37238),h=i(35550),g=i(13756),I=i(52875),y=i(88908),_=i(89373),v=i(82660),b=a({displayName:"Infographic",propTypes:{component:c.isRequired,setComponentAsReady:l.isRequired,setComponentAsViewed:l.isRequired,setComponentAsComplete:l.isRequired,openFullScreen:l.isRequired,articleStyle:p,isPageReady:r,styles:c,screenSize:p.isRequired,theme:c.isRequired,isLivePreview:r.isRequired,isFullScreenOpen:r,variables:c.isRequired},componentDidMount(){const{props:e}=this;this.loadImages(),this._timeout=setTimeout((()=>{e.component._isReady||e.setComponentAsReady(e.component._id),this._timeout=void 0}),1e3)},UNSAFE_componentWillReceiveProps(e){const{component:t,setComponentAsComplete:i}=this.props,n=e.component._items;if(n.length&&"itemsVisible"===t._completionMethod&&!e.component._isComplete&&o(n,{isVisible:!0}).length===n.length&&i(t._id),n.length&&"itemsInteracted"===t._completionMethod&&!e.component._isComplete){const e=o(n,(e=>e.isInteractive&&e.interactiveActionType!==v.RESET)),s=o(e,{_hasInteracted:!0});e.length===s.length&&i(t._id)}},componentWillUnmount(){this._timeout&&clearTimeout(this._timeout)},loadImages(){const{component:e}=this.props,t=["backgroundImage.src","hoverBackgroundImage.src","interactedBackgroundImage.src","tooltipMediaGraphic.src"],i=n(e,"_items",[]);s(i).reduce(((e,i)=>[...e,...t.map((e=>n(i,e)))]),[]).map((e=>g(e))).compact().uniq().forEach((e=>h(e))).commit()},onVisibilityChange(...e){const{props:t}=this;I(...e,this,"inview"===t.component._completionMethod?t.setComponentAsComplete:t.setComponentAsViewed)},getIsVisibilitySensorActive(){const{component:e,isPageReady:t}=this.props;return!0===t&&!0===e._isReady&&("inview"===e._completionMethod||"itemsVisible"===e._completionMethod)&&!0!==e._isComplete},openFullScreen(){const{props:e}=this,t=e.component._id;e.openFullScreen({component:_,props:{componentId:t,articleStyle:e.articleStyle}})},render(){const{props:e}=this;return d.createElement(m,{component:e.component,styles:e.styles,isVisibilitySensorActive:this.getIsVisibilitySensorActive(),onVisibilityChange:this.onVisibilityChange},d.createElement("div",{className:u(e.component)},d.createElement("div",{className:"ev-infographic-graphic-container"},d.createElement(y,{component:e.component,isLivePreview:e.isLivePreview,screenSize:e.screenSize,isFullScreen:!1,isFullScreenOpen:e.isFullScreenOpen,openFullScreen:this.openFullScreen,fonts:e.theme._fonts,swatches:e.theme._swatches,variables:e.variables}))))}});e.exports=b},89373:(e,t,i)=>{const{bool:o,func:n,object:s,string:a}=i(23615),r=i(27378),{closeFullScreen:l}=i(90951),{connect:c}=i(13844),p=i(79325),d=i(88908),m=({component:e,isLivePreview:t,isFullScreenOpen:i,screenSize:o,articleStyle:n,theme:s,variables:a,closeFullScreen:l})=>r.createElement("div",{className:`ev-infographic-fullscreen ev-${n}`},r.createElement("div",{className:"ev-infographic-fullscreen-graphic-container"},r.createElement(d,{component:e,isLivePreview:t,screenSize:o,isFullScreen:!0,isFullScreenOpen:i,fonts:s._fonts,swatches:s._swatches,variables:a})),r.createElement(p,{className:"ev-infographic-fullscreen-close-button","aria-label":e.closeFullscreenButtonAriaLabel,icon:"cross",onClick:l}));m.propTypes={component:s.isRequired,isLivePreview:o.isRequired,closeFullScreen:n.isRequired,isFullScreenOpen:o.isRequired,articleStyle:a,screenSize:a.isRequired,theme:s.isRequired,variables:s.isRequired},e.exports=c((({device:e,app:t,components:i,fullScreen:o,theme:n,logic:s},a)=>({component:i[a.componentId],screenSize:e.screenSize,isLivePreview:t.isLivePreview,isFullScreenOpen:o.isOpen,variables:s.variables,theme:n})),{closeFullScreen:l})(m)},88908:(e,t,i)=>{var o=i(7914)(i(2398));const n=i(99729),s=i(18180),a=i(64925),r=i(55807),l=i(52898),{bool:c,func:p,object:d,string:m}=i(23615),u=i(27378),h=i(90005),{connect:g}=i(13844),{setComponentAsStarted:I}=i(59345),{addPrompt:y}=i(41466),_=i(5859),v=i(99744),b=i(38866).Z,S=i(54794),T=i(79325),f=i(34304),x=i(18333),{onShowItemTooltip:C,onHideItemTooltip:P,onShowHideItems:E,onItemNavigate:R,clearItemFocus:A,onInfographicReset:w}=i(69668),F=l({displayName:"InfographicGraphic",propTypes:{component:d.isRequired,isLivePreview:c.isRequired,screenSize:m.isRequired,isFullScreen:c.isRequired,isFullScreenOpen:c.isRequired,openFullScreen:p,onShowItemTooltip:p.isRequired,onItemNavigate:p.isRequired,onInfographicReset:p.isRequired,setComponentAsStarted:p.isRequired,fonts:d.isRequired,swatches:d.isRequired,variables:d.isRequired,onShowHideItems:p,clearItemFocus:p,addPrompt:p,onHideItemTooltip:p},getInitialState:()=>({_containerWidth:0,_containerHeight:0,_imageLoaded:!1,_isVisible:!1}),UNSAFE_componentWillReceiveProps(e){const{component:t,isFullScreenOpen:i}=this.props;if(n(t,"_graphic.src")&&!n(e.component,"_graphic.src")&&this.state._imageLoaded)return this.setState({_imageLoaded:!1});e.component._graphicMaxWidth!==t._graphicMaxWidth&&s(this.setImageLoaded),e.isFullScreenOpen!==i&&s((()=>{this.setState({_imageLoaded:!1},this.setImageLoaded)}))},onVisibilityChange(e){e&&this.setState({_isVisible:!0})},onResize(){this.state._imageLoaded&&s(this.setImageLoaded)},onImageLoaded(){s(this.setImageLoaded)},setImageLoaded(){this.setState({_containerWidth:this._container.offsetWidth,_containerHeight:this._container.offsetHeight},(()=>{this.setState({_imageLoaded:!0})}))},onItemClick(){const{component:e,setComponentAsStarted:t}=this.props;"itemsInteracted"!==e._completionMethod||e._hasStarted||t(e._id)},onInfographicReset(){this.props.onInfographicReset(this.props.component._refId)},closeTooltip(){this.props.onHideItemTooltip(this.props.component._id)},getWidthHeightPercentages(){const{_containerHeight:e,_containerWidth:t}=this.state,{_graphicMaxWidth:i}=this.props.component;return{widthPercentage:t/i*100,heightPercentage:e/(i*(e/t))*100}},renderItems(){if(!this.state._imageLoaded)return;const{isLivePreview:e,component:t,onShowItemTooltip:i,onShowHideItems:n,onItemNavigate:s,clearItemFocus:a,addPrompt:l,fonts:c,swatches:p,variables:d}=this.props,{_items:m,_displayItemOutlines:h,focusItemId:g,_useHoverStylesForFocus:I,_allowFocusOnAllItems:y,_useCustomFocusOutline:_,focusOutlineStyle:v,focusOutlineColor:b,focusOutlineWidth:S}=t,T=h&&e;return r(m,(e=>u.createElement(x,(0,o.default)({key:e._id,componentId:t._id,displayItemOutline:T,onShowItemTooltip:i,onShowHideItems:n,onItemNavigate:s,onInfographicReset:this.onInfographicReset,canAnimate:this.state._isVisible,shouldFocus:g===e._id,clearItemFocus:a,useHoverStylesForFocus:I,allowFocusOnAllItems:y,useCustomFocusOutline:_,focusOutlineStyle:v,focusOutlineColor:b,focusOutlineWidth:S,addPrompt:l,fonts:c,swatches:p,variable:d[e._variableId],onItemClick:this.onItemClick},this.getWidthHeightPercentages(),e))))},renderGraphic(){const{component:e}=this.props;if(!n(e,"_graphic.src",!1))return;const{isTooltipVisible:t,tooltipItemId:i}=e;return u.createElement(_,{graphicSrc:e._graphic.src,altText:e._graphic.alt,onLoad:this.onImageLoaded,onClick:()=>{t&&i&&this.closeTooltip()}})},renderOpenFullScreenButton(){const{isFullScreen:e,openFullScreen:t,component:i}=this.props;if(i._allowFullscreen&&!e)return u.createElement(T,{id:`infographic-component-open-fullscreen-button-${i._id}`,className:`ev-infographic-open-fullscreen-button ev-is-${i._fullscreenButtonPosition}`,"aria-label":i.fullscreenButtonAriaLabel,icon:"expand4",onClick:t})},renderTooltip(){const{_id:e,isTooltipVisible:t,tooltipItemId:i,_items:n}=this.props.component;if(!t||!i)return null;const{_containerHeight:s,_containerWidth:r}=this.state,{screenSize:l,isFullScreen:c}=this.props,p=a(n,{_id:i});return u.createElement(f,(0,o.default)({},p,{_id:`${e}-${p._id}`,key:i,containerHeight:s,containerWidth:r,screenSize:l,isFullScreen:c,closeTooltip:this.closeTooltip},this.getWidthHeightPercentages()))},render(){if(!n(this.props.component,"_graphic.src",!1))return u.createElement("div",{className:"ev-infographic-graphic"});const{_imageLoaded:e,_isVisible:t,_containerHeight:i}=this.state,{component:o,isFullScreen:s}=this.props,a={position:"relative",maxWidth:`${o._graphicMaxWidth}px`};return s&&(a.width=`${o._graphicMaxWidth}px`),u.createElement(v,{active:e&&!t,partialVisibility:!0,scrollCheck:!0,scrollThrottle:10,intervalDelay:250,minTopValue:i>200?200:i-1,onChange:this.onVisibilityChange},u.createElement(b,{handleWidth:!0,handleHeight:!0,onResize:this.onResize},u.createElement("div",{key:"graphic",className:h("ev-infographic-graphic",{"ev-is-overflow-hidden":o._isContainerOverflowHidden}),style:a,ref:e=>this._container=e},this.renderGraphic(),this.renderItems(),this.renderOpenFullScreenButton(),this.renderTooltip()),o.caption&&u.createElement(S,{key:"caption",className:"ev-infographic-graphic-caption ev-caption",html:o.caption})))}});e.exports=g(null,{onShowItemTooltip:C,onHideItemTooltip:P,onShowHideItems:E,onItemNavigate:R,clearItemFocus:A,addPrompt:y,onInfographicReset:w,setComponentAsStarted:I})(F)},18333:(e,t,i)=>{var o=i(7914)(i(2398));const n=i(99729),s=i(78581),a=i(52898),{array:r,bool:l,func:c,number:p,string:d,object:m}=i(23615),u=i(27378),h=i(90005),g=i(13756),I=i(13914),{withRouter:y}=i(57002),_=i(94765),{Transition:v,config:b,animated:S,interpolate:T}=i(24450),{easeCubicOut:f,easeSinInOut:x,easeElastic:C,easeCircle:P,easeExpIn:E}=i(22536),R=i(42382),A=i(50998),w=i(82660),F=i(83265),O={default:f,gentle:x,wobbly:C,stiff:P,slow:E},N=a({displayName:"InfographicItem",propTypes:{componentId:d.isRequired,_id:d.isRequired,x:p.isRequired,y:p.isRequired,width:p.isRequired,height:p.isRequired,editorOutlineColor:d,text:d,ariaLabel:d,fontSize:p,fontFamily:d,textAlign:d,alignItems:d,overflow:d,color:d,backgroundColor:d,borderWidth:p,borderStyle:d,borderColor:d,borderRadius:p,paddingTop:p,paddingRight:p,paddingBottom:p,paddingLeft:p,backgroundImage:m,enableHoverStyles:l,hoverColor:d,hoverBackgroundColor:d,hoverBorderColor:d,hoverBackgroundImage:m,enableInteractedStyles:l,interactedColor:d,interactedBackgroundColor:d,interactedBorderColor:d,interactedBackgroundImage:m,animateX:p,animateY:p,animateOpacity:p,animateScale:p,animateRotate:p,animateLeaveX:p,animateLeaveY:p,animateLeaveOpacity:p,animateLeaveScale:p,animateLeaveRotate:p,animateEasing:d,animationDelay:p,animationDuration:p,animationDurationLeave:p,isInteractive:l,widthPercentage:p.isRequired,heightPercentage:p.isRequired,displayItemOutline:l,onShowItemTooltip:c.isRequired,navigationLink:m,showItemIds:r,hideItemIds:r,onShowHideItems:c.isRequired,onItemNavigate:c.isRequired,onInfographicReset:c.isRequired,shouldFocus:l,clearItemFocus:c,useHoverStylesForFocus:l,allowFocusOnAllItems:l,useCustomFocusOutline:l,focusOutlineStyle:d,focusOutlineColor:d,focusOutlineWidth:p,fonts:m.isRequired,swatches:m.isRequired,variable:m,onItemClick:c.isRequired,interactiveActionType:d,history:m.isRequired,addPrompt:c.isRequired,isDialogTooltip:l,tooltipText:d,tooltipMediaType:d,tooltipMediaLayout:d,tooltipMediaGraphic:m,tooltipMediaVideo:m,tooltipMediaAudio:m,_videoStream:m,enableAnimations:l,_hasInteracted:l,isAutoLineHeight:l,lineHeight:p,isVisible:l,canAnimate:l,_canReadFromVariable:l},getInitialState:()=>({_isHover:!1,_isFocus:!1}),componentDidUpdate(){const{shouldFocus:e,clearItemFocus:t,componentId:i}=this.props;e&&(this._item.focus(),t(i))},onClick(e){e.preventDefault(),e.stopPropagation();const{componentId:t,_id:i,onShowItemTooltip:o,interactiveActionType:n,navigationLink:s,showItemIds:a,hideItemIds:r,onShowHideItems:l,onItemNavigate:c,onInfographicReset:p,addPrompt:d,tooltipText:m,tooltipMediaType:h,isDialogTooltip:g,tooltipMediaLayout:I,tooltipMediaGraphic:y,tooltipMediaVideo:v,tooltipMediaAudio:b,_videoStream:S,history:T,onItemClick:f}=this.props;return f(),n===w.TOOLTIP?(g&&d({_component:u.createElement(F,{_id:`${t}-${i}`,tooltipText:m,tooltipMediaType:h,tooltipMediaLayout:I,tooltipMediaGraphic:y,tooltipMediaVideo:v,tooltipMediaAudio:b,videoStream:S})}),o(t,i,g)):n===w.SHOW_HIDE_ITEM?l(t,i,a,r):n===w.RESET?p():void(n===w.NAVIGATION&&s._isEnabled&&(c(t,i),"course"===s._linkType?T.push("/"):"extensions"===s._linkType||"additionalContent"===s._linkType?T.push(`/${s._link}`):_(s._link)))},onMouseEnter(){this.setState({_isHover:!0})},onMouseLeave(){this.setState({_isHover:!1})},onFocus(){this.setState({_isHover:this.props.useHoverStylesForFocus,_isFocus:!0})},onBlur(){this.setState({_isHover:!1,_isFocus:!1})},onKeyPress(e){(I.isEnterKey(e)||I.isSpaceKey(e))&&this.onClick(e)},getTransitionFrom(){const{x:e,y:t,widthPercentage:i,heightPercentage:o,animateX:n,animateY:s,animateOpacity:a,animateScale:r,animateRotate:l,enableAnimations:c}=this.props;return c?{x:n*i/100,y:s*o/100,opacity:a,scale:r,rotate:l||0,animatable:0}:{x:e*i/100,y:t*o/100,opacity:1,scale:1,rotate:0,animatable:0}},getTransitionEnter(){const{x:e,y:t,widthPercentage:i,heightPercentage:o}=this.props;return{x:e*i/100,y:t*o/100,opacity:1,scale:1,rotate:0,animatable:1}},getTransitionLeave(){const{x:e,y:t,widthPercentage:i,heightPercentage:o,enableAnimations:s}=this.props;return s?{x:n(this.props,"animateLeaveX",e)*i/100,y:n(this.props,"animateLeaveY",t)*o/100,opacity:n(this.props,"animateLeaveOpacity",0),scale:n(this.props,"animateLeaveScale",1),rotate:n(this.props,"animateLeaveRotate",0),animatable:0}:{x:e*i/100,y:t*o/100,opacity:0,scale:1,rotate:0,animatable:0}},getSize(){const{width:e,height:t,widthPercentage:i,heightPercentage:o}=this.props;return{width:e*i/100+"px",height:t*o/100+"px"}},getScaledPixelSize(e){const{widthPercentage:t}=this.props;return e*t/100+"px"},getInteractionStyle(e,t,i){const{enableHoverStyles:o,enableInteractedStyles:n,_hasInteracted:s}=this.props,{_isHover:a}=this.state;return n&&s?i:o&&a?t:e},getBackgroundImageStyle(e){const{enableHoverStyles:t,enableInteractedStyles:i,_hasInteracted:o,backgroundImage:n,hoverBackgroundImage:s,interactedBackgroundImage:a}=this.props,{_isHover:r}=this.state,l={display:"none",position:"absolute",zIndex:0,top:0,left:0,right:0,bottom:0,height:"100%",width:"100%",backgroundPosition:"center",backgroundSize:"contain",backgroundRepeat:"no-repeat"};return"interacted"===e?(l.backgroundImage=a&&a.src?`url(${g(a.src)})`:"none",i&&o&&(l.display="block")):"hover"===e?(l.backgroundImage=s&&s.src?`url(${g(s.src)})`:"none",(!i||i&&!o)&&t&&r&&(l.display="block")):(l.backgroundImage=n&&n.src?`url(${g(n.src)})`:"none",i&&(!i||o)||t&&(!t||r)||(l.display="block")),l},getStyle(e,t,i,o,n){const{editorOutlineColor:s,fontSize:a,fontFamily:r,textAlign:l,alignItems:c,overflow:p="visible",isAutoLineHeight:d,lineHeight:m,color:u,backgroundColor:h,borderWidth:g,borderStyle:I,borderColor:y,borderRadius:_,paddingTop:v,paddingRight:b,paddingBottom:S,paddingLeft:f,hoverColor:x,hoverBackgroundColor:C,hoverBorderColor:P,interactedColor:E,interactedBackgroundColor:A,interactedBorderColor:w,displayItemOutline:F,useCustomFocusOutline:O,focusOutlineStyle:N,focusOutlineColor:H,focusOutlineWidth:M,isInteractive:V,fonts:L,swatches:k}=this.props,{_isFocus:q}=this.state,W={position:"absolute",transition:"color 0.25s, background-color 0.25s, border-color 0.25s",top:0,left:0,transform:T([e,t,o,n],((e,t,i,o)=>`translate(${e}px, ${t}px) scale(${i}) rotate(${o}deg)`)),...this.getSize(),display:"flex",textAlign:l,alignItems:c,overflow:p,outline:O&&q?`${M}px ${N} ${R(H,k)}`:F?`dashed 2px ${s}`:"none",lineHeight:d?"100%":this.getScaledPixelSize(m),color:R(this.getInteractionStyle(u,x,E),k),backgroundColor:R(this.getInteractionStyle(h,C,A),k),borderWidth:this.getScaledPixelSize(g),borderStyle:I,borderColor:R(this.getInteractionStyle(y,P,w),k),borderRadius:this.getScaledPixelSize(_),paddingTop:this.getScaledPixelSize(v),paddingRight:this.getScaledPixelSize(b),paddingBottom:this.getScaledPixelSize(S),paddingLeft:this.getScaledPixelSize(f),fontSize:this.getScaledPixelSize(a),fontFamily:L[r]?L[r]._fontFamily:null,opacity:i,cursor:V?"pointer":void 0};return W},getCanShowItem(){const{isVisible:e,canAnimate:t,_canReadFromVariable:i,variable:o}=this.props;let s=!1;return i&&o?s=n(this.props,"_variableComparsion",!1)===o.value&&t:e&&t&&(s=!0),s},render(){const{text:e,ariaLabel:t,isInteractive:i,animateEasing:n,allowFocusOnAllItems:a,useCustomFocusOutline:r,enableAnimations:l,animationDelay:c,animationDuration:p,animationDurationLeave:d,isVisible:m}=this.props,g={};let I,y;i&&(g.role="button",g.onClick=this.onClick,g.onKeyPress=this.onKeyPress,g.onMouseEnter=this.onMouseEnter,g.onMouseLeave=this.onMouseLeave,I=u.createElement("span",{className:"ev-infographic-background-image",style:this.getBackgroundImageStyle("hover")}),y=u.createElement("span",{className:"ev-infographic-background-image",style:this.getBackgroundImageStyle("interacted")})),(i||a)&&(g.onFocus=this.onFocus,g.onBlur=this.onBlur,g.tabIndex=0);const _=m?p:d,T=this.getCanShowItem();let f=b[n]||b.default;return s(_)&&_>0&&(f={duration:_,easing:O[n]||O.default}),u.createElement(v,{native:!0,items:T,from:this.getTransitionFrom(),enter:this.getTransitionEnter(),leave:this.getTransitionLeave(),update:this.getTransitionEnter(),config:f,immediate:!l,trail:T?c:0},(i=>i&&(({x:i,y:n,opacity:s,scale:a,rotate:l})=>u.createElement(S.div,(0,o.default)({ref:e=>this._item=e,className:h("ev-infographic-item",{"ev-no-accessibility-focus":r}),style:this.getStyle(i,n,s,a,l),"aria-label":t},g),u.createElement("span",{className:"ev-infographic-background-image",style:this.getBackgroundImageStyle()}),I,y,u.createElement(A,{tag:"span",className:"ev-infographic-item-inner",style:{position:"relative",zIndex:1,flex:1},body:e,hasInner:!1,allowVariableInlineStyle:!1})))))}});e.exports=y(N)},34304:(e,t,i)=>{var o=i(7914)(i(2398));const n=i(18180),s=i(52898),{bool:a,func:r,number:l,object:c,string:p}=i(23615),d=i(27378),m=i(31542),{Spring:u,config:h,animated:g,interpolate:I}=i(24450),y=i(40155),_=i(29501),v=i(31543),b=i(84198),S=i(54341),{isEscapeKey:T}=i(13914),f=s({displayName:"InfographicTooltip",propTypes:{_id:p.isRequired,x:l.isRequired,y:l.isRequired,width:l.isRequired,height:l.isRequired,widthPercentage:l.isRequired,heightPercentage:l.isRequired,containerHeight:l.isRequired,containerWidth:l.isRequired,tooltipText:p,tooltipPosition:p.isRequired,tooltipMediaType:p,tooltipMediaLayout:p,tooltipMediaGraphic:c,tooltipMediaVideo:c,tooltipMediaAudio:c,_videoStream:c,screenSize:p.isRequired,isFullScreen:a.isRequired,closeTooltip:r.isRequired,tooltipAnimateOpacity:l,tooltipAnimateScale:l,tooltipAnimateEasing:p},getInitialState:()=>({_tooltipHeight:0,_tooltipWidth:0,_animationEnded:!1}),componentDidMount(){document.addEventListener("keydown",this.onKeyPress);const e=m.findDOMNode(this);e.focus(),e.scrollTop=0,this.setTooltipSize()},componentWillUnmount(){document.removeEventListener("keydown",this.onKeyPress)},UNSAFE_componentWillReceiveProps(e){const{containerWidth:t}=this.props;e.containerWidth!==t&&n(this.setTooltipSize)},onKeyPress(e){T(e)&&this.props.closeTooltip()},setTooltipSize(){const e=m.findDOMNode(this);this.setState({_tooltipHeight:e.offsetHeight,_tooltipWidth:e.offsetWidth})},onCloseTooltipClick(e){e.preventDefault(),this.props.closeTooltip()},onStart(){this.setState({_animationEnded:!1})},onRest(){this.setState({_animationEnded:!0})},getSpringFrom(){const{tooltipAnimateOpacity:e,tooltipAnimateScale:t}=this.props;return{opacity:e,scale:t}},getSpringTo:()=>({opacity:1,scale:1}),getStyle(e,t){const{tooltipPosition:i,screenSize:o,isFullScreen:n}=this.props,{_animationEnded:s,_tooltipHeight:a,_tooltipWidth:r}=this.state,l={opacity:e,transform:I([t],(e=>`scale(${e})`))};if(s&&(l.transform="none"),"small"===o||"cover"===i)return l.top=0,l.left=0,l.bottom=0,l.right=0,n&&(l.position="fixed",l.zIndex="999999"),l;switch(l.width="50%",l.maxHeight="50%",i){case"anchor":this.getAnchorPosition(l);break;case"center":l.top="50%",l.left="50%",l.marginTop=`-${a/2}px`,l.marginLeft=`-${r/2}px`;break;case"topLeft":l.top="5%",l.left="5%";break;case"topRight":l.top="5%",l.right="5%";break;case"bottomLeft":l.bottom="5%",l.left="5%";break;case"bottomRight":l.bottom="5%",l.right="5%"}return s&&(l.transform="none"),l},getAnchorPosition(e){const{x:t,y:i,width:o,height:n,widthPercentage:s,heightPercentage:a,containerWidth:r,containerHeight:l}=this.props,{_tooltipHeight:c}=this.state;let p=!1,d=!1;t/r*100>50&&(p=!0),i/l*100>50&&(d=!0);const m=t*s/100,u=i*a/100,h=o*s/100,g=n*a/100;e.left=p?m+h-r/2:m,e.top=d?u-c-10:u+g+10},renderContent(){const{_id:e,tooltipText:t,tooltipMediaType:i,tooltipMediaLayout:n,tooltipMediaGraphic:s,tooltipMediaVideo:a,tooltipMediaAudio:r,_videoStream:l}=this.props,c={ref:e=>this._item=e,className:"ev-infographic-tooltip-content",bodyClassName:"ev-infographic-tooltip-text",body:t,mediaPosition:n,tabIndex:1};switch(i){case"video":return d.createElement(_,(0,o.default)({},c,{_video:a}));case"videoStream":return d.createElement(S,(0,o.default)({},c,{id:e,videoStream:l}));case"audio":return d.createElement(v,(0,o.default)({},c,{_audio:r}));case"image":return d.createElement(b,(0,o.default)({},c,{_graphic:s}));default:return d.createElement(b,c)}},render(){const{tooltipAnimateEasing:e}=this.props;return d.createElement(u,{native:!0,from:this.getSpringFrom(),to:this.getSpringTo(),onStart:this.onStart,onRest:this.onRest,config:h[e]||h.default},(({opacity:e,scale:t})=>d.createElement(g.div,{className:"ev-infographic-tooltip",style:this.getStyle(e,t),tabIndex:"0"},d.createElement("div",{className:"ev-infographic-tooltip-top"},d.createElement("button",{className:"ev-infographic-tooltip-close-button",onClick:this.onCloseTooltipClick},d.createElement(y,{icon:"cross-circle"}))),this.renderContent())))}});e.exports=f},83265:(e,t,i)=>{var o=i(7914)(i(2398));const n=i(52898),{object:s,string:a}=i(23615),r=i(27378),l=i(29501),c=i(31543),p=i(84198),d=i(54341),m=n({displayName:"InfographicTooltipPrompt",propTypes:{_id:a,tooltipText:a,tooltipMediaType:a,tooltipMediaLayout:a,tooltipMediaGraphic:s,tooltipMediaVideo:s,tooltipMediaAudio:s,videoStream:s},renderContent(){const{_id:e,tooltipText:t,tooltipMediaType:i,tooltipMediaLayout:n,tooltipMediaGraphic:s,tooltipMediaVideo:a,tooltipMediaAudio:m,videoStream:u}=this.props,h={ref:e=>this._item=e,className:"ev-infographic-tooltip-content",bodyClassName:"ev-infographic-tooltip-text ev-prompt-body",body:t,mediaPosition:n,tabIndex:1};switch(i){case"video":return r.createElement(l,(0,o.default)({},h,{_video:a,shouldDisplayTranscriptInline:!0}));case"videoStream":return r.createElement(d,(0,o.default)({},h,{id:e,videoStream:u,shouldDisplayTranscriptInline:!0}));case"audio":return r.createElement(c,(0,o.default)({},h,{_audio:m,shouldDisplayTranscriptInline:!0}));case"image":return r.createElement(p,(0,o.default)({},h,{_graphic:s}));default:return r.createElement(p,h)}},render(){return r.createElement("div",{className:"ev-infographic-prompt"},this.renderContent())}});e.exports=m},7062:(e,t,i)=>{const{registerComponent:o}=i(60633),{openFullScreen:n}=i(90951);o("infographic",{component:i(91333),actions:{openFullScreen:n},reducer:i(69676),trackingMap:i(87147),mapStateToProps:i(37244)})},82660:e=>{e.exports={TOOLTIP:"tooltip",NAVIGATION:"navigation",SHOW_HIDE_ITEM:"showItem",RESET:"reset"}},37244:(e,t,i)=>{const o=i(84900);e.exports=(e,t)=>({isLivePreview:e.app.isLivePreview,isFullScreenOpen:e.fullScreen.isOpen,articleStyle:o(e,t,"article")._classes,variables:e.logic.variables})},69676:(e,t,i)=>{const o=i(55807),{SETUP_COMPONENT:n}=i(59345),{INFOGRAPHIC_SHOW_ITEM_TOOLTIP:s,INFOGRAPHIC_HIDE_ITEM_TOOLTIP:a,INFOGRAPHIC_SHOW_HIDE_ITEMS:r,INFOGRAPHIC_ITEM_NAVIGATE:l,INFOGRAPHIC_CLEAR_ITEM_FOCUS:c}=i(69668);e.exports=(e,t)=>{switch(t.type){case n:return{...e,isTooltipVisible:!1,tooltipItemId:void 0};case s:return p({...e,isTooltipVisible:!t.payload.isDialogTooltip,tooltipItemId:t.payload.isDialogTooltip?void 0:t.payload.itemId},t.payload.itemId);case a:return{...e,isTooltipVisible:!1,tooltipItemId:void 0,focusItemId:e.tooltipItemId};case r:return{...e,...p(d(e,t.payload.showItemIds,t.payload.hideItemIds),t.payload.itemId),isTooltipVisible:!1,tooltipItemId:void 0};case l:return p(e,t.payload.itemId);case c:return{...e,focusItemId:void 0};default:return e}};const p=(e,t)=>({...e,_items:o(e._items,(e=>e._id===t?{...e,_hasInteracted:!0}:e))}),d=(e,t,i)=>({...e,_items:o(e._items,(e=>t.includes(e._id)?{...e,isVisible:!0}:i.includes(e._id)?{...e,isVisible:!1}:e))})},87147:e=>{e.exports={_interactionType:{type:"String",default:"presentation",shouldRestore:!1},_items:{fieldKey:"_items",type:"Array",shouldRestore:!0,subMap:{_id:{fieldKey:"_id",type:"String"},_hasInteracted:{fieldKey:"_hasInteracted",type:"Boolean",shouldRestore:!0},isVisible:{fieldKey:"isVisible",type:"Boolean",shouldRestore:!0}}}}},31543:(e,t,i)=>{const o=i(99729),n=i(27378),s=i(52898),{bool:a,func:r,number:l,object:c,shape:p,string:d}=i(23615),m=i(37217),u=i(90005),h=i(13756),g=i(48874),I=s({displayName:"TextAudioContent",propTypes:{title:d,body:d,mediaPosition:d,className:d,titleClassName:d,bodyClassName:d,styles:c,autoPlay:a,controls:a,onPlay:r,onEnded:r,tabIndex:l,_audio:p({src:c,poster:c,posterAltText:d,_transcript:p({body:d,button:d})}),textVerticalAlignment:d,titleTextAlignment:d,bodyTextAlignment:d,renderText:r,shouldDisplayTranscriptInline:a},getDefaultProps:()=>({controls:!0,tabIndex:0}),renderAudio(){const{props:e}=this,t=o(e._audio,"_transcript",{});return n.createElement(m,{src:h(e._audio.src),poster:e._audio.poster,posterAltText:e._audio.posterAltText,shouldDisplayTranscriptInline:this.props.shouldDisplayTranscriptInline,transcriptText:t.body,transcriptButtonText:t.button,autoPlay:e.autoPlay,controls:e.controls,onPlay:e.onPlay,onEnded:e.onEnded,tabIndex:e.tabIndex})},render(){const{props:e}=this,t=e._audio?.src;return n.createElement(g,{title:e.title,body:e.body,mediaPosition:e.mediaPosition,className:u(e.className,{"ev-text-audio-content":t,"ev-text-only-content":!t}),titleClassName:e.titleClassName,bodyClassName:e.bodyClassName,styles:e.styles,renderText:e.renderText,textVerticalAlignment:e.textVerticalAlignment,titleTextAlignment:e.titleTextAlignment,bodyTextAlignment:e.bodyTextAlignment},t&&this.renderAudio())}});e.exports=I},29501:(e,t,i)=>{const o=i(27378),n=i(52898),{bool:s,func:a,number:r,object:l,shape:c,string:p}=i(23615),{connect:d}=i(13844),m=i(54659),u=i(10625),h=i(90005),g=i(13756),{addPrompt:I}=i(74261),y=i(79325),_=i(5859),v=i(48874),b=n({displayName:"TextVideoContent",propTypes:{title:p,body:p,mediaPosition:p,className:p,titleClassName:p,bodyClassName:p,styles:l,autoPlay:s,controls:s,onPlay:a,onEnded:a,metrics:l,onMetricsChange:a,shouldViewInPopup:s,viewButtonText:p,viewButtonIcon:p,addPrompt:a.isRequired,tabIndex:r,_video:c({src:l,poster:l,posterAltText:p,_subtitles:c({label:p,src:l}),_transcript:c({body:p,button:p})}),textVerticalAlignment:p,titleTextAlignment:p,bodyTextAlignment:p,transcriptType:p,animationEnded:s,shouldDisplayTranscriptInline:s,renderText:a},getDefaultProps:()=>({controls:!0,tabIndex:0}),getTranscriptType(){const{shouldDisplayTranscriptInline:e,transcriptType:t}=this.props;return t||e?"inline":"popup"},onViewClicked(){const{props:e}=this;e.addPrompt({_shouldNotShowInNavigation:!1,_hasPriority:!0,_shouldWaitForDisplay:!0,_component:o.createElement(u,{src:e._video.src,poster:e._video.poster,subtitles:e._video._subtitles,transcript:e._video._transcript,metrics:e.metrics,onMetricsChange:e.onMetricsChange,shouldAutoPlay:!0})})},renderViewInPopup(){const{props:e}=this;return o.createElement(o.Fragment,null,e._video?.poster&&o.createElement(_,{className:"ev-text-video-content-poster-image",graphicSrc:e._video.poster,altText:e._video.posterAltText,isAriaHidden:-1===e.tabIndex}),o.createElement(y,{tabIndex:e.tabIndex,onClick:this.onViewClicked,icon:e.viewButtonIcon,text:e.viewButtonText}))},renderVideo(){const{props:e}=this;if(e.shouldViewInPopup)return this.renderViewInPopup();const{_video:t,tabIndex:i}=e;return o.createElement(m,{tabIndex:i,src:g(t.src),posterSrc:g(t.poster),subtitlesLabel:t._subtitles?.label,subtitlesSrc:g(t._subtitles?.src),transcriptType:this.getTranscriptType(),transcriptText:t._transcript?.body,transcriptButtonText:t._transcript?.button,autoPlay:e.autoPlay,controls:e.controls,onPlay:e.onPlay,onEnded:e.onEnded,metrics:e.metrics,isVisible:-1!==i,onMetricsChange:e.onMetricsChange,animationEnded:e.animationEnded})},render(){const{props:e}=this,t=e._video?.src;return o.createElement(v,{title:e.title,body:e.body,mediaPosition:e.mediaPosition,className:h(e.className,{"ev-text-video-content":t,"ev-text-only-content":!t,"ev-is-popup":e.shouldViewInPopup,"ev-has-poster":e.shouldViewInPopup&&e._video?.poster}),titleClassName:e.titleClassName,bodyClassName:e.bodyClassName,styles:e.styles,renderText:e.renderText,textVerticalAlignment:e.textVerticalAlignment,titleTextAlignment:e.titleTextAlignment,bodyTextAlignment:e.bodyTextAlignment},t&&this.renderVideo())}});e.exports=d(null,{addPrompt:I})(b)},54341:(e,t,i)=>{const o=i(27378),n=i(52898),{bool:s,func:a,number:r,object:l,shape:c,string:p}=i(23615),{connect:d}=i(13844),m=i(22972),u=i(81469),h=i(90005),{addPrompt:g}=i(74261),I=i(79325),y=i(5859),_=i(48874),v=n({displayName:"TextVideoStreamContent",propTypes:{id:p.isRequired,title:p,body:p,mediaPosition:p,className:p,titleClassName:p,bodyClassName:p,styles:l,shouldViewInPopup:s,viewButtonText:p,viewButtonIcon:p,posterImage:l,posterAltText:p,addPrompt:a.isRequired,tabIndex:r,videoStream:c({_service:p,_options:l,_transcript:l}),textVerticalAlignment:p,titleTextAlignment:p,bodyTextAlignment:p,isVisible:s.isRequired,renderText:a,shouldDisplayTranscriptInline:s},getDefaultProps:()=>({tabIndex:0,isVisible:!0}),onViewClicked(){const{id:e,videoStream:t,addPrompt:i}=this.props;t._options?._source&&i({_shouldNotShowInNavigation:!1,_hasPriority:!0,_shouldWaitForDisplay:!1,_component:o.createElement(u,{id:e,service:t._service,options:t._options,transcript:t._transcript})})},renderViewInPopup(){const{props:e}=this;return o.createElement(o.Fragment,null,e.posterImage&&o.createElement(y,{className:"ev-text-video-content-poster-image",graphicSrc:e.posterImage,altText:e.posterAltText,isAriaHidden:-1===e.tabIndex}),o.createElement(I,{icon:e.viewButtonIcon,text:e.viewButtonText,onClick:this.onViewClicked,tabIndex:e.tabIndex}))},renderVideoStream(){const{props:e}=this;if(e.shouldViewInPopup)return this.renderViewInPopup();const{id:t,videoStream:i,isVisible:n,shouldDisplayTranscriptInline:s}=e;return o.createElement(m,{id:t,service:i._service,options:i._options,isVisible:n,transcriptText:i._transcript?.body,transcriptType:s?"inline":"popup",transcriptButtonText:i._transcript?.button})},render(){const{props:e}=this,t=e.videoStream?._options?._source;return o.createElement(_,{title:e.title,body:e.body,mediaPosition:e.mediaPosition,className:h(e.className,{"ev-text-video-content":t,"ev-text-only-content":!t,"ev-is-popup":e.shouldViewInPopup,"ev-has-poster":e.shouldViewInPopup}),titleClassName:e.titleClassName,bodyClassName:e.bodyClassName,styles:e.styles,renderText:e.renderText,textVerticalAlignment:e.textVerticalAlignment,titleTextAlignment:e.titleTextAlignment,bodyTextAlignment:e.bodyTextAlignment},t&&this.renderVideoStream())}});e.exports=d(null,{addPrompt:g})(v)},37238:(e,t,i)=>{const o=i(90005);e.exports=e=>o(`ev-${e._component}-widget ev-component-widget ev-clearfix`,{"ev-disabled":!e._isEnabled,"ev-complete ev-show-user-answer":e._isComplete&&!e._isEnabled,"ev-correct":e._isCorrect&&!e._isEnabled,"ev-submitted":e._isSubmitted})},52875:e=>{e.exports=function(e,t,i,o,n){o&&o.props&&o.props.component?(t.top&&(o.isInviewTop=!0),t.bottom&&(o.isInviewBottom=!0),o.isInviewTop&&o.isInviewBottom&&n&&n(o.props.component._id)):console.error("No component reference passed to helpers/visibilityChangeHandler")}}}]);